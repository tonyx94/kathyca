var dG=Object.defineProperty,hG=Object.defineProperties,fG=Object.getOwnPropertyDescriptors,H2=Object.getOwnPropertySymbols,pG=Object.prototype.hasOwnProperty,gG=Object.prototype.propertyIsEnumerable,q2=(ze,de,k)=>de in ze?dG(ze,de,{enumerable:!0,configurable:!0,writable:!0,value:k}):ze[de]=k,z2=(ze,de)=>{for(var k in de||(de={}))pG.call(de,k)&&q2(ze,k,de[k]);if(H2)for(var k of H2(de))gG.call(de,k)&&q2(ze,k,de[k]);return ze},W2=(ze,de)=>hG(ze,fG(de));(self.webpackChunkcatalogue=self.webpackChunkcatalogue||[]).push([[179],{255:ze=>{function de(k){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+k+"'");throw g.code="MODULE_NOT_FOUND",g})}de.keys=()=>[],de.resolve=de,de.id=255,ze.exports=de},639:(ze,de,k)=>{"use strict";k.d(de,{deG:()=>Ly,tb:()=>lt,AFp:()=>CT,ip1:()=>rb,CZH:()=>kl,hGG:()=>GT,z2F:()=>Ho,sBO:()=>lk,Sil:()=>W,_Vd:()=>Al,EJc:()=>Ke,SBq:()=>co,qLn:()=>xu,vpe:()=>$i,gxx:()=>ah,tBr:()=>ga,XFs:()=>We,OlP:()=>fn,zs3:()=>Dn,ZZ4:()=>Yg,aQg:()=>nE,soG:()=>dn,YKP:()=>SM,v3s:()=>pf,h0i:()=>xl,PXZ:()=>Om,R0b:()=>Gi,FiY:()=>ts,Lbi:()=>ib,g9A:()=>DT,Qsj:()=>ik,FYo:()=>Lh,JOm:()=>Is,Tiy:()=>eE,q3G:()=>Tn,tp0:()=>E,EAV:()=>FT,Rgc:()=>Jg,dDg:()=>MT,DyG:()=>Yc,q4F:()=>Kg,GfV:()=>EI,s_b:()=>sE,ifc:()=>pt,eFA:()=>ks,G48:()=>PT,Gpc:()=>xe,X6Q:()=>uc,_c5:()=>_f,VLi:()=>RT,c2e:()=>sb,zSh:()=>Jp,wAp:()=>rt,vHH:()=>sn,EiD:()=>lw,mCW:()=>Xd,qzn:()=>cl,JVY:()=>Lp,pB0:()=>jA,eBb:()=>Jd,L6k:()=>UA,LAX:()=>BA,cg1:()=>Ph,Tjo:()=>_i,kL8:()=>Ng,yhl:()=>rw,dqk:()=>ee,sIi:()=>gh,CqO:()=>Ah,QGY:()=>SC,F4k:()=>dg,RDi:()=>Ty,AaK:()=>X,z3N:()=>is,qOj:()=>ph,TTD:()=>_d,_Bn:()=>pI,xp6:()=>_S,uIk:()=>Sa,ekj:()=>Rh,Suo:()=>LE,Xpm:()=>Jt,lG2:()=>Kf,Yz7:()=>bn,cJS:()=>zi,oAB:()=>ui,Yjl:()=>Zf,Y36:()=>wh,_UZ:()=>Ui,BQk:()=>Cl,ynx:()=>Dh,qZA:()=>Th,TgZ:()=>lg,EpF:()=>hv,n5z:()=>Fd,Ikx:()=>Il,LFG:()=>Cn,$8M:()=>qt,NdJ:()=>Sh,CRH:()=>VE,kcU:()=>Md,O4$:()=>xd,oxw:()=>pg,ALo:()=>tT,gM2:()=>Ua,Q6J:()=>dv,VKq:()=>xE,iGM:()=>FE,CHM:()=>Id,LSH:()=>g_,kYT:()=>ps,YNc:()=>gC,_uU:()=>VC,Oqu:()=>UC,hij:()=>Dv,AsE:()=>BC});var g=k(574),J=k(869),Z=k(282),oe=k(693),pe=k(709),ve=k(319),ye=k(441);var F=k(307);function G(){return new pe.xQ}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function be(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function X(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(X).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Xe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ye=ae({__forward_ref__:ae});function xe(i){return i.__forward_ref__=xe,i.toString=function(){return X(this())},i}function we(i){return Rn(i)?i():i}function Rn(i){return"function"==typeof i&&i.hasOwnProperty(Ye)&&i.__forward_ref__===xe}class sn extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function ie(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ie(i)}function dt(i,s){const a=s?` in ${s}`:"";throw new sn("201",`No provider for ${_e(i)} found${a}`)}function Ft(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function bn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zi(i){return{providers:i.providers||[],imports:i.imports||[]}}function wr(i){return hs(i,oi)||hs(i,Ii)}function hs(i,s){return i.hasOwnProperty(s)?i[s]:null}function po(i){return i&&(i.hasOwnProperty(js)||i.hasOwnProperty(ai))?i[js]:null}const oi=ae({\u0275prov:ae}),js=ae({\u0275inj:ae}),Ii=ae({ngInjectableDef:ae}),ai=ae({ngInjectorDef:ae});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let an;function Ze(i){const s=an;return an=i,s}function Ki(i,s,a){const c=wr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&We.Optional?null:void 0!==s?s:void dt(X(i),"Injector")}function hn(i){return{toString:i}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),pt=(()=>((pt=pt||{})[pt.Emulated=0]="Emulated",pt[pt.None=2]="None",pt[pt.ShadowDom=3]="ShadowDom",pt))();const Ac="undefined"!=typeof globalThis&&globalThis,Lt="undefined"!=typeof window&&window,go="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ee=Ac||"undefined"!=typeof global&&global||Lt||go,At={},Ge=[],Pn=ae({\u0275cmp:ae}),L=ae({\u0275dir:ae}),O=ae({\u0275pipe:ae}),$=ae({\u0275mod:ae}),ue=ae({\u0275loc:ae}),q=ae({\u0275fac:ae}),Ne=ae({__NG_ELEMENT_ID__:ae});let gt=0;function Jt(i){return hn(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ge,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||pt.Emulated,id:"c",styles:i.styles||Ge,_:null,setInput:null,schemas:i.schemas||null,tView:null},l=i.directives,h=i.features,p=i.pipes;return c.id+=gt++,c.inputs=su(i.inputs,a),c.outputs=su(i.outputs),h&&h.forEach(m=>m(c)),c.directiveDefs=l?()=>("function"==typeof l?l():l).map(rr):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(dr):null,c})}function rr(i){return On(i)||function(i){return i[L]||null}(i)}function dr(i){return function(i){return i[O]||null}(i)}const Rt={};function ui(i){return hn(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ge,declarations:i.declarations||Ge,imports:i.imports||Ge,exports:i.exports||Ge,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Rt[i.id]=i.type),s})}function ps(i,s){return hn(()=>{const a=ci(i,!0);a.declarations=s.declarations||Ge,a.imports=s.imports||Ge,a.exports=s.exports||Ge})}function su(i,s){if(null==i)return At;const a={};for(const c in i)if(i.hasOwnProperty(c)){let l=i[c],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),a[l]=c,s&&(s[l]=h)}return a}const Kf=Jt;function Zf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function On(i){return i[Pn]||null}function ci(i,s){const a=i[$]||null;if(!a&&!0===s)throw new Error(`Type ${X(i)} does not have '\u0275mod' property.`);return a}function Yi(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ti(i){return Array.isArray(i)&&!0===i[1]}function gd(i){return 0!=(8&i.flags)}function xc(i){return 2==(2&i.flags)}function Mc(i){return 1==(1&i.flags)}function Mr(i){return null!==i.template}function vo(i){return 0!=(512&i[2])}function qs(i,s){return i.hasOwnProperty(q)?i[q]:null}class wy{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function _d(){return Cy}function Cy(i){return i.type.prototype.ngOnChanges&&(i.setInput=Iy),Nc}function Nc(){const i=tp(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===At)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Iy(i,s,a,c){const l=tp(i)||function(i,s){return i[vd]=s}(i,{previous:At,current:null}),h=l.current||(l.current={}),p=l.previous,m=this.declaredInputs[a],v=p[m];h[m]=new wy(v&&v.currentValue,s,p===At),i[c]=s}_d.ngInherit=!0;const vd="__ngSimpleChanges__";function tp(i){return i[vd]||null}const zs="http://www.w3.org/2000/svg";let Ws;function Ty(i){Ws=i}function vn(i){return!!i.listen}const rp={createRenderer:(i,s)=>void 0!==Ws?Ws:"undefined"!=typeof document?document:void 0};function kn(i){for(;Array.isArray(i);)i=i[0];return i}function ys(i,s){return kn(s[i])}function Nr(i,s){return kn(s[i.index])}function cu(i,s){return i.data[s]}function Rr(i,s){const a=s[i];return Yi(a)?a:a[0]}function sp(i){return 4==(4&i[2])}function lu(i){return 128==(128&i[2])}function _s(i,s){return null==s?null:i[s]}function ap(i){i[18]=0}function vs(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const tt={lFrame:A0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function du(){return tt.bindingsEnabled}function le(){return tt.lFrame.lView}function Ot(){return tt.lFrame.tView}function Id(i){return tt.lFrame.contextLView=i,i[8]}function qn(){let i=Oc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Oc(){return tt.lFrame.currentTNode}function hi(i,s){const a=tt.lFrame;a.currentTNode=i,a.isParent=s}function kc(){return tt.lFrame.isParent}function ra(){tt.lFrame.isParent=!1}function ia(){return tt.isInCheckNoChangesMode}function sa(i){tt.isInCheckNoChangesMode=i}function sr(){const i=tt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Qi(){return tt.lFrame.bindingIndex}function oa(){return tt.lFrame.bindingIndex++}function Di(i){const s=tt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function dp(i,s){const a=tt.lFrame;a.bindingIndex=a.bindingRootIndex=i,hp(s)}function hp(i){tt.lFrame.currentDirectiveIndex=i}function fp(){return tt.lFrame.currentQueryIndex}function aa(i){tt.lFrame.currentQueryIndex=i}function Ay(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Uc(i,s,a){if(a&We.SkipSelf){let l=s,h=i;for(;!(l=l.parent,null!==l||a&We.Host||(l=Ay(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;s=l,i=h}const c=tt.lFrame=D0();return c.currentTNode=s,c.lView=i,!0}function hu(i){const s=D0(),a=i[1];tt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function D0(){const i=tt.lFrame,s=null===i?null:i.child;return null===s?A0(i):s}function A0(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ad(){const i=tt.lFrame;return tt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const S0=Ad;function Sd(){const i=Ad();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function or(){return tt.lFrame.selectedIndex}function Zs(i){tt.lFrame.selectedIndex=i}function cn(){const i=tt.lFrame;return cu(i.tView,i.selectedIndex)}function xd(){tt.lFrame.currentNamespace=zs}function Md(){tt.lFrame.currentNamespace=null}function fu(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:I}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-a,p),m&&((i.contentHooks||(i.contentHooks=[])).push(a,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,m)),v&&(i.viewHooks||(i.viewHooks=[])).push(-a,v),w&&((i.viewHooks||(i.viewHooks=[])).push(a,w),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,w)),null!=I&&(i.destroyHooks||(i.destroyHooks=[])).push(a,I)}}function jc(i,s,a){$c(i,s,3,a)}function ua(i,s,a,c){(3&i[2])===a&&$c(i,s,a,c)}function Nd(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function $c(i,s,a,c){const h=null!=c?c:-1,p=s.length-1;let m=0;for(let v=void 0!==c?65535&i[18]:0;v<p;v++)if("number"==typeof s[v+1]){if(m=s[v],null!=c&&m>=c)break}else s[v]<0&&(i[18]+=65536),(m<h||-1==h)&&(M0(i,a,s,v),i[18]=(4294901760&i[18])+v+2),v++}function M0(i,s,a,c){const l=a[c]<0,h=a[c+1],m=i[l?-a[c]:a[c]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class hr{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function pu(i,s,a){const c=vn(i);let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],m=a[l++],v=a[l++];c?i.setAttribute(s,m,v,p):s.setAttributeNS(p,m,v)}else{const p=h,m=a[++l];gu(p)?c&&i.setProperty(s,p,m):c?i.setAttribute(s,p,m):s.setAttribute(p,m),l++}}return l}function pp(i){return 3===i||4===i||6===i}function gu(i){return 64===i.charCodeAt(0)}function Od(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const l=s[c];"number"==typeof l?a=l:0===a||gp(i,a,l,null,-1===a||2===a?s[++c]:null)}}return i}function gp(i,s,a,c,l){let h=0,p=i.length;if(-1===s)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===s){p=-1;break}if(m>s){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===a){if(null===c)return void(null!==l&&(i[h+1]=l));if(c===i[h+1])return void(i[h+2]=l)}h++,null!==c&&h++,null!==l&&h++}-1!==p&&(i.splice(p,0,s),h=p+1),i.splice(h++,0,a),null!==c&&i.splice(h++,0,c),null!==l&&i.splice(h++,0,l)}function Py(i){return-1!==i}function wo(i){return 32767&i}function Qs(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let mp=!0;function wn(i){const s=mp;return mp=i,s}let qr=0;function bs(i,s){const a=Hc(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,zr(c.data,i),zr(s,null),zr(c.blueprint,null));const l=mu(i,s),h=i.injectorIndex;if(Py(l)){const p=wo(l),m=Qs(l,s),v=m[1].data;for(let w=0;w<8;w++)s[h+w]=m[p+w]|v[p+w]}return s[h+8]=l,h}function zr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Hc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,l=s;for(;null!==l;){const h=l[1],p=h.type;if(c=2===p?h.declTNode:1===p?l[6]:null,null===c)return-1;if(a++,l=l[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function qc(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ne)&&(c=a[Ne]),null==c&&(c=a[Ne]=qr++);const l=255&c;s.data[i+(l>>5)]|=1<<l}(i,s,a)}function vp(i,s,a){if(a&We.Optional)return i;dt(s,"NodeInjector")}function zc(i,s,a,c){if(a&We.Optional&&void 0===c&&(c=null),0==(a&(We.Self|We.Host))){const l=i[9],h=Ze(void 0);try{return l?l.get(s,c,a&We.Optional):Ki(s,c,a&We.Optional)}finally{Ze(h)}}return vp(c,s,a)}function kd(i,s,a,c=We.Default,l){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ne)?i[Ne]:void 0;return"number"==typeof s?s>=0?255&s:Ep:s}(a);if("function"==typeof h){if(!Uc(s,i,c))return c&We.Host?vp(l,a,c):zc(s,a,c,l);try{const p=h(c);if(null!=p||c&We.Optional)return p;dt(a)}finally{S0()}}else if("number"==typeof h){let p=null,m=Hc(i,s),v=-1,w=c&We.Host?s[16][6]:null;for((-1===m||c&We.SkipSelf)&&(v=-1===m?mu(i,s):s[m+8],-1!==v&&la(c,!1)?(p=s[1],m=wo(v),s=Qs(v,s)):m=-1);-1!==m;){const I=s[1];if(Xi(h,m,I.data)){const A=bp(m,s,a,p,c,w);if(A!==Ji)return A}v=s[m+8],-1!==v&&la(c,s[1].data[m+8]===w)&&Xi(h,m,s)?(p=I,m=wo(v),s=Qs(v,s)):m=-1}}}return zc(s,a,c,l)}const Ji={};function Ep(){return new pi(qn(),le())}function bp(i,s,a,c,l,h){const p=s[1],m=p.data[i+8],I=ca(m,p,a,null==c?xc(m)&&mp:c!=p&&0!=(3&m.type),l&We.Host&&h===m);return null!==I?ws(s,p,I,m):Ji}function ca(i,s,a,c,l){const h=i.providerIndexes,p=s.data,m=1048575&h,v=i.directiveStart,I=h>>20,x=l?m+I:i.directiveEnd;for(let P=c?m:m+I;P<x;P++){const U=p[P];if(P<v&&a===U||P>=v&&U.type===a)return P}if(l){const P=p[v];if(P&&Mr(P)&&P.type===a)return v}return null}function ws(i,s,a,c){let l=i[a];const h=s.data;if(function(i){return i instanceof hr}(l)){const p=l;p.resolving&&function(i,s){throw new sn("200",`Circular dependency in DI detected for ${i}`)}(_e(h[a]));const m=wn(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?Ze(p.injectImpl):null;Uc(i,c,We.Default);try{l=i[a]=p.factory(void 0,h,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(c){const p=Cy(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p)}l&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,l),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==v&&Ze(v),wn(m),p.resolving=!1,S0()}}return l}function Xi(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function la(i,s){return!(i&We.Self||i&We.Host&&s)}class pi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return kd(this._tNode,this._lView,s,c,a)}}function Fd(i){return hn(()=>{const s=i.prototype.constructor,a=s[q]||Ld(s),c=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==c;){const h=l[q]||Ld(l);if(h&&h!==a)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ld(i){return Rn(i)?()=>{const s=Ld(we(i));return s&&s()}:qs(i)}function qt(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let l=0;for(;l<c;){const h=a[l];if(pp(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<c&&"string"==typeof a[l];)l++;else{if(h===s)return a[l+1];l+=2}}}return null}(qn(),i)}const Wr="__parameters__";function Co(i,s,a){return hn(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const l in c)this[l]=c[l]}}}(s);function l(...h){if(this instanceof l)return c.apply(this,h),this;const p=new l(...h);return m.annotation=p,m;function m(v,w,I){const A=v.hasOwnProperty(Wr)?v[Wr]:Object.defineProperty(v,Wr,{value:[]})[Wr];for(;A.length<=I;)A.push(null);return(A[I]=A[I]||[]).push(p),v}}return a&&(l.prototype=Object.create(a.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=bn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ly=new fn("AnalyzeForEntryComponents"),Yc=Function;function xi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),xi(c,s)):s!==i&&s.push(c)}return s}function Mi(i,s){i.forEach(a=>Array.isArray(a)?Mi(a,s):s(a))}function Qc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ni(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Dr(i,s,a){let c=Ao(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let l=i.length;if(l==s)i.push(a,c);else if(1===l)i.push(c,i[0]),i[0]=a;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Do(i,s){const a=Ao(i,s);if(a>=0)return i[1|a]}function Ao(i,s){return function(i,s,a){let c=0,l=i.length>>a;for(;l!==c;){const h=c+(l-c>>1),p=i[h<<a];if(s===p)return h<<a;p>s?l=h:c=h+1}return~(l<<a)}(i,s,1)}const So={},pa="__NG_DI_FLAG__",ut="ngTempTokenPath",Xs=/\n/gm,Xc="__source",$d=ae({provide:String,useValue:ae});let vu;function Fn(i){const s=vu;return vu=i,s}function Gd(i,s=We.Default){if(void 0===vu)throw new Error("inject() must be called from an injection context");return null===vu?Ki(i,void 0,s):vu.get(i,s&We.Optional?null:void 0,s)}function Cn(i,s=We.Default){return(an||Gd)(we(i),s)}function pn(i){const s=[];for(let a=0;a<i.length;a++){const c=we(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let l,h=We.Default;for(let p=0;p<c.length;p++){const m=c[p],v=L0(m);"number"==typeof v?-1===v?l=m.token:h|=v:l=m}s.push(Cn(l,h))}else s.push(Cn(c))}return s}function Ln(i,s){return i[pa]=s,i.prototype[pa]=s,i}function L0(i){return i[pa]}function qy(i,s,a,c){const l=i[ut];throw s[Xc]&&l.unshift(s[Xc]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let l=X(s);if(Array.isArray(s))l=s.map(X).join(" -> ");else if("object"==typeof s){let h=[];for(let p in s)if(s.hasOwnProperty(p)){let m=s[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):X(m)))}l=`{${h.join(", ")}}`}return`${a}${c?"("+c+")":""}[${l}]: ${i.replace(Xs,"\n  ")}`}("\n"+i.message,l,a,c),i.ngTokenPath=l,i[ut]=null,i}const ga=Ln(Co("Inject",i=>({token:i})),-1),ts=Ln(Co("Optional"),8),E=Ln(Co("SkipSelf"),4);var Is=(()=>((Is=Is||{})[Is.Important=1]="Important",Is[Is.DashCase=2]="DashCase",Is))();const U0="__ngContext__";function Or(i,s){i[U0]=s}function Wd(i){const s=function(i){return i[U0]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function xp(i,s){return undefined(i,s)}function Iu(i){const s=i[3];return Ti(s)?s[3]:s}function rl(i){return G0(i[13])}function Np(i){return G0(i[4])}function G0(i){for(;null!==i&&!Ti(i);)i=i[4];return i}function il(i,s,a,c,l){if(null!=c){let h,p=!1;Ti(c)?h=c:Yi(c)&&(p=!0,c=c[0]);const m=kn(c);0===i&&null!==a?null==l?n_(s,a,m):Tu(s,a,m,l||null,!0):1===i&&null!==a?Tu(s,a,m,l||null,!0):2===i?function(i,s,a){const c=Ts(i,s);c&&function(i,s,a,c){vn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,m,p):3===i&&s.destroyNode(m),null!=h&&function(i,s,a,c,l){const h=a[7];h!==kn(a)&&il(s,i,c,h,l);for(let m=10;m<a.length;m++){const v=a[m];Du(v[1],v,i,s,c,h)}}(s,i,h,a,l)}}function Rp(i,s,a){return vn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function e_(i,s){const a=i[9],c=a.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,vs(l,-1)),a.splice(c,1)}function al(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const l=c[17];null!==l&&l!==i&&e_(l,c),s>0&&(i[a-1][4]=c[4]);const h=Ni(i,10+s);!function(i,s){Du(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const p=h[19];null!==p&&p.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function q0(i,s){if(!(256&s[2])){const a=s[11];vn(a)&&a.destroyNode&&Du(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Kd(i[1],i);for(;s;){let a=null;if(Yi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Yi(s)&&Kd(s[1],s),s=s[3];null===s&&(s=i),Yi(s)&&Kd(s[1],s),a=s&&s[4]}s=a}}(s)}}function Kd(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const l=s[a[c]];if(!(l instanceof hr)){const h=a[c+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=l[h[p]],v=h[p+1];try{v.call(m)}finally{}}else try{h.call(l)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let l=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const p=a[h+1],m="function"==typeof p?p(s):kn(s[p]),v=c[l=a[h+2]],w=a[h+3];"boolean"==typeof w?m.removeEventListener(a[h],v,w):w>=0?c[l=w]():c[l=-w].unsubscribe(),h+=2}else{const p=c[l=a[h+1]];a[h].call(p)}if(null!==c){for(let h=l+1;h<c.length;h++)c[h]();s[7]=null}}(i,s),1===s[1].type&&vn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ti(s[3])){a!==s[3]&&e_(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function t_(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const l=i.data[c.directiveStart].encapsulation;if(l===pt.None||l===pt.Emulated)return null}return Nr(c,a)}(i,s.parent,a)}function Tu(i,s,a,c,l){vn(i)?i.insertBefore(s,a,c,l):s.insertBefore(a,c,l)}function n_(i,s,a){vn(i)?i.appendChild(s,a):s.appendChild(a)}function K0(i,s,a,c,l){null!==c?Tu(i,s,a,c,l):n_(i,s,a)}function Ts(i,s){return vn(i)?i.parentNode(s):s.parentNode}let kp,Y0=function(i,s,a){return 40&i.type?Nr(i,a):null};function ya(i,s,a,c){const l=t_(i,c,s),h=s[11],m=function(i,s,a){return Y0(i,s,a)}(c.parent||s[6],c,s);if(null!=l)if(Array.isArray(a))for(let v=0;v<a.length;v++)K0(h,l,a[v],m,!1);else K0(h,l,a,m,!1)}function _a(i,s){if(null!==s){const a=s.type;if(3&a)return Nr(s,i);if(4&a)return Pp(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return _a(i,c);{const l=i[s.index];return Ti(l)?Pp(-1,l):kn(l)}}if(32&a)return xp(s,i)()||kn(i[s.index]);{const c=s_(i,s);return null!==c?Array.isArray(c)?c[0]:_a(Iu(i[16]),c):_a(i,s.next)}}return null}function s_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Pp(i,s){const a=10+i+1;if(a<s.length){const c=s[a],l=c[1].firstChild;if(null!==l)return _a(c,l)}return s[7]}function a_(i,s,a,c,l,h,p){for(;null!=a;){const m=c[a.index],v=a.type;if(p&&0===s&&(m&&Or(kn(m),c),a.flags|=4),64!=(64&a.flags))if(8&v)a_(i,s,a.child,c,l,h,!1),il(s,i,l,m,h);else if(32&v){const w=xp(a,c);let I;for(;I=w();)il(s,i,l,I,h);il(s,i,l,m,h)}else 16&v?u_(i,s,c,a,l,h):il(s,i,l,m,h);a=p?a.projectionNext:a.next}}function Du(i,s,a,c,l,h){a_(a,c,i.firstChild,s,l,h,!1)}function u_(i,s,a,c,l,h){const p=a[16],v=p[6].projection[c.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)il(s,i,l,v[w],h);else a_(i,s,v,p[3],l,h,!0)}function Zd(i,s,a){vn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function c_(i,s,a){vn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Au(i){var s;return(null===(s=function(){if(void 0===kp&&(kp=null,ee.trustedTypes))try{kp=ee.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return kp}())||void 0===s?void 0:s.createHTML(i))||i}class Su{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class FA extends Su{getTypeName(){return"HTML"}}class LA extends Su{getTypeName(){return"Style"}}class h_ extends Su{getTypeName(){return"Script"}}class VA extends Su{getTypeName(){return"URL"}}class nw extends Su{getTypeName(){return"ResourceURL"}}function is(i){return i instanceof Su?i.changingThisBreaksApplicationSecurity:i}function cl(i,s){const a=rw(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function rw(i){return i instanceof Su&&i.getTypeName()||null}function Lp(i){return new FA(i)}function UA(i){return new LA(i)}function Jd(i){return new h_(i)}function BA(i){return new VA(i)}function jA(i){return new nw(i)}class $A{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Au(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class GA{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Au(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Au(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let l=a.length-1;0<l;l--){const p=a.item(l).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&s.removeAttribute(p)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const qA=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zA=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xd(i){return(i=String(i)).match(qA)||i.match(zA)?i:"unsafe:"+i}function no(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function dl(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const sw=no("area,br,col,hr,img,wbr"),ow=no("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aw=no("rp,rt"),uw=dl(sw,dl(ow,no("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dl(aw,no("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dl(aw,ow)),Vp=no("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Up=no("srcset"),cw=dl(Vp,Up,no("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),no("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YA=no("script,style,template");class QA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let l=this.checkClobberedElement(a,a.nextSibling);if(l){a=l;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!uw.hasOwnProperty(a))return this.sanitizedSomething=!0,!YA.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let l=0;l<c.length;l++){const h=c.item(l),p=h.name,m=p.toLowerCase();if(!cw.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=h.value;Vp[m]&&(v=Xd(v)),Up[m]&&(i=v,v=(i=String(i)).split(",").map(s=>Xd(s.trim())).join(", ")),this.buf.push(" ",p,'="',Bp(v),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();uw.hasOwnProperty(a)&&!sw.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Bp(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const JA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XA=/([^\#-~ |!])/g;function Bp(i){return i.replace(/&/g,"&amp;").replace(JA,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(XA,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jp;function lw(i,s){let a=null;try{jp=jp||function(i){const s=new GA(i);return function(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch(i){return!1}}()?new $A(s):s}(i);let c=s?String(s):"";a=jp.getInertBodyElement(c);let l=5,h=c;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,c=h,h=a.innerHTML,a=jp.getInertBodyElement(c)}while(c!==h);return Au((new QA).sanitizeChildren(f_(a)||a))}finally{if(a){const c=f_(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function f_(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function g_(i){const s=function(){const i=le();return i&&i[12]}();return s?s.sanitize(Tn.URL,i)||"":cl(i,"URL")?is(i):Xd(ie(i))}function th(i){return i.ngOriginalError}function gw(i,...s){i.error(...s)}class xu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),l=(i=s)&&i.ngErrorLogger||gw;var i;l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a),c&&l(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(th(s)):null}_findOriginalError(s){let a=s&&th(s);for(;a&&th(a);)a=th(a);return a||null}}const yw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ee))();function ro(i){return i instanceof Function?i():i}function E_(i,s,a){let c=i.length;for(;;){const l=i.indexOf(s,a);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const h=s.length;if(l+h===c||i.charCodeAt(l+h)<=32)return l}a=l+1}}const hS="ng-template";function z(i,s,a){let c=0;for(;c<i.length;){let l=i[c++];if(a&&"class"===l){if(l=i[c],-1!==E_(l.toLowerCase(),s,0))return!0}else if(1===l){for(;c<i.length&&"string"==typeof(l=i[c++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function pl(i){return 4===i.type&&i.value!==hS}function BP(i,s,a){return s===(4!==i.type||a?i.value:hS)}function fS(i,s,a){let c=4;const l=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(pp(i[s]))return s;return i.length}(l);let p=!1;for(let m=0;m<s.length;m++){const v=s[m];if("number"!=typeof v){if(!p)if(4&c){if(c=2|1&c,""!==v&&!BP(i,v,a)||""===v&&1===s.length){if(tn(c))return!1;p=!0}}else{const w=8&c?v:s[++m];if(8&c&&null!==i.attrs){if(!z(i.attrs,w,a)){if(tn(c))return!1;p=!0}continue}const A=ba(8&c?"class":v,l,pl(i),a);if(-1===A){if(tn(c))return!1;p=!0;continue}if(""!==w){let x;x=A>h?"":l[A+1].toLowerCase();const P=8&c?x:null;if(P&&-1!==E_(P,w,0)||2&c&&w!==x){if(tn(c))return!1;p=!0}}}}else{if(!p&&!tn(c)&&!tn(v))return!1;if(p&&tn(v))continue;p=!1,c=v|1&c}}return tn(c)||p}function tn(i){return 0==(1&i)}function ba(i,s,a,c){if(null===s)return-1;let l=0;if(c||!a){let h=!1;for(;l<s.length;){const p=s[l];if(p===i)return l;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=s[++l];for(;"string"==typeof m;)m=s[++l];continue}if(4===p)break;if(0===p){l+=4;continue}}l+=h?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Mu(i,s,a=!1){for(let c=0;c<s.length;c++)if(fS(i,s[c],a))return!0;return!1}function bw(i,s){return i?":not("+s.trim()+")":s}function gS(i){let s=i[0],a=1,c=2,l="",h=!1;for(;a<i.length;){let p=i[a];if("string"==typeof p)if(2&c){const m=i[++a];l+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&c?l+="."+p:4&c&&(l+=" "+p);else""!==l&&!tn(p)&&(s+=bw(h,l),l=""),c=p,h=h||!tn(c);a++}return""!==l&&(s+=bw(h,l)),s}const ht={};function _S(i){vS(Ot(),le(),or()+i,ia())}function vS(i,s,a,c){if(!c)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&jc(s,h,a)}else{const h=i.preOrderHooks;null!==h&&ua(s,h,0,a)}Zs(a)}function C_(i,s){return i<<17|s<<2}function Ds(i){return i>>17&32767}function ww(i){return 2|i}function nn(i){return(131068&i)>>2}function Nu(i,s){return-131069&i|s<<2}function As(i){return 1|i}function Hp(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const l=a[c],h=a[c+1];if(-1!==h){const p=i.data[h];aa(l),p.contentQueries(2,s[h],h)}}}function Ou(i,s,a,c,l,h,p,m,v,w){const I=s.blueprint.slice();return I[0]=l,I[2]=140|c,ap(I),I[3]=I[15]=i,I[8]=a,I[10]=p||i&&i[10],I[11]=m||i&&i[11],I[12]=v||i&&i[12]||null,I[9]=w||i&&i[9]||null,I[6]=h,I[16]=2==s.type?i[16]:I,I}function ku(i,s,a,c,l){let h=i.data[s];if(null===h)h=function(i,s,a,c,l){const h=Oc(),p=kc(),v=i.data[s]=function(i,s,a,c,l,h){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,a,s,c,l);return null===i.firstChild&&(i.firstChild=v),null!==h&&(p?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v)),v}(i,s,a,c,l),tt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=c,h.attrs=l;const p=function(){const i=tt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return hi(h,!0),h}function wa(i,s,a,c){if(0===a)return-1;const l=s.length;for(let h=0;h<a;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return l}function rh(i,s,a){hu(s);try{const c=i.viewQuery;null!==c&&Kw(1,c,a);const l=i.template;null!==l&&ih(i,s,l,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Hp(i,s),i.staticViewQueries&&Kw(2,i.viewQuery,a);const h=i.components;null!==h&&function(i,s){for(let a=0;a<s.length;a++)tO(i,s[a])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Sd()}}function yl(i,s,a,c){const l=s[2];if(256==(256&l))return;hu(s);const h=ia();try{ap(s),function(i){tt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&ih(i,s,a,2,c);const p=3==(3&l);if(!h)if(p){const w=i.preOrderCheckHooks;null!==w&&jc(s,w,null)}else{const w=i.preOrderHooks;null!==w&&ua(s,w,0,null),Nd(s,0)}if(function(i){for(let s=rl(i);null!==s;s=Np(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const l=a[c],h=l[3];0==(1024&l[2])&&vs(h,1),l[2]|=1024}}}(s),function(i){for(let s=rl(i);null!==s;s=Np(s))for(let a=10;a<s.length;a++){const c=s[a],l=c[1];lu(c)&&yl(l,c,l.template,c[8])}}(s),null!==i.contentQueries&&Hp(i,s),!h)if(p){const w=i.contentCheckHooks;null!==w&&jc(s,w)}else{const w=i.contentHooks;null!==w&&ua(s,w,1),Nd(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const l=a[c];if(l<0)Zs(~l);else{const h=l,p=a[++c],m=a[++c];dp(p,h),m(2,s[h])}}}finally{Zs(-1)}}(i,s);const m=i.components;null!==m&&function(i,s){for(let a=0;a<s.length;a++)eO(i,s[a])}(s,m);const v=i.viewQuery;if(null!==v&&Kw(2,v,c),!h)if(p){const w=i.viewCheckHooks;null!==w&&jc(s,w)}else{const w=i.viewHooks;null!==w&&ua(s,w,2),Nd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,vs(s[3],-1))}finally{Sd()}}function SS(i,s,a,c){const l=s[10],h=!ia(),p=sp(s);try{h&&!p&&l.begin&&l.begin(),p&&rh(i,s,c),yl(i,s,a,c)}finally{h&&!p&&l.end&&l.end()}}function ih(i,s,a,c,l){const h=or(),p=2&c;try{Zs(-1),p&&s.length>20&&vS(i,s,20,ia()),a(c,l)}finally{Zs(h)}}function zp(i,s,a){if(gd(s)){const l=s.directiveEnd;for(let h=s.directiveStart;h<l;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,a[h],h)}}}function sh(i,s,a){!du()||(function(i,s,a,c){const l=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||bs(a,s),Or(c,s);const p=a.initialInputs;for(let m=l;m<h;m++){const v=i.data[m],w=Mr(v);w&&JP(s,a,v);const I=ws(s,i,m,a);Or(I,s),null!==p&&BS(0,m-l,I,v,0,p),w&&(Rr(a.index,s)[8]=I)}}(i,s,a,Nr(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,l=a.directiveEnd,p=a.index,m=tt.lFrame.currentDirectiveIndex;try{Zs(p);for(let v=c;v<l;v++){const w=i.data[v],I=s[v];hp(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&k_(w,I)}}finally{Zs(-1),hp(m)}}(i,s,a))}function oh(i,s,a=Nr){const c=s.localNames;if(null!==c){let l=s.index+1;for(let h=0;h<c.length;h+=2){const p=c[h+1],m=-1===p?a(s,i):i[p];i[l++]=m}}}function N_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Wp(i,s,a,c,l,h,p,m,v,w){const I=20+c,A=I+l,x=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:ht);return a}(I,A),P="function"==typeof w?w():w;return x[1]={type:i,blueprint:x,template:a,queries:null,viewQuery:m,declTNode:s,data:x.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:v,consts:P,incompleteFirstPass:!1}}function Fw(i,s,a,c){const l=U_(s);null===a?l.push(c):(l.push(a),i.firstCreatePass&&B_(i).push(c,l.length-1))}function Lw(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const l=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,l):a[c]=[s,l]}return a}function ki(i,s,a,c,l,h,p,m){const v=Nr(s,a);let I,w=s.inputs;!m&&null!=w&&(I=w[c])?(qS(i,a,I,c,l),xc(s)&&function(i,s){const a=Rr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),l=null!=p?p(l,s.value||"",c):l,vn(h)?h.setProperty(v,c,l):gu(c)||(v.setProperty?v.setProperty(c,l):v[c]=l))}function O_(i,s,a,c){let l=!1;if(du()){const h=function(i,s,a){const c=i.directiveRegistry;let l=null;if(c)for(let h=0;h<c.length;h++){const p=c[h];Mu(a,p.selectors,!1)&&(l||(l=[]),qc(bs(a,s),i,p.type),Mr(p)?(LS(i,a),l.unshift(p)):l.push(p))}return l}(i,s,a),p=null===c?null:{"":-1};if(null!==h){l=!0,US(a,i.data.length,h.length);for(let I=0;I<h.length;I++){const A=h[I];A.providersResolver&&A.providersResolver(A)}let m=!1,v=!1,w=wa(i,s,h.length,null);for(let I=0;I<h.length;I++){const A=h[I];a.mergedAttrs=Od(a.mergedAttrs,A.hostAttrs),Kp(i,a,s,w,A),QP(w,A,p),null!==A.contentQueries&&(a.flags|=8),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=128);const x=A.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),m=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),v=!0),w++}!function(i,s){const c=s.directiveEnd,l=i.data,h=s.attrs,p=[];let m=null,v=null;for(let w=s.directiveStart;w<c;w++){const I=l[w],A=I.inputs,x=null===h||pl(s)?null:Hw(A,h);p.push(x),m=Lw(A,w,m),v=Lw(I.outputs,w,v)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=m,s.outputs=v}(i,a)}p&&function(i,s,a){if(s){const c=i.localNames=[];for(let l=0;l<s.length;l+=2){const h=a[s[l+1]];if(null==h)throw new sn("301",`Export of name '${s[l+1]}' not found!`);c.push(s[l],h)}}}(a,c,p)}return a.mergedAttrs=Od(a.mergedAttrs,a.attrs),l}function Uw(i,s,a,c,l,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const v=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=v&&m.push(v),m.push(c,l,p)}}function k_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function LS(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function QP(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Mr(s)&&(a[""]=i)}}function US(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Kp(i,s,a,c,l){i.data[c]=l;const h=l.factory||(l.factory=qs(l.type)),p=new hr(h,Mr(l),null);i.blueprint[c]=p,a[c]=p,Uw(i,s,0,c,wa(i,a,l.hostVars,ht),l)}function JP(i,s,a){const c=Nr(s,i),l=N_(a),h=i[10],p=Qp(i,Ou(i,l,null,a.onPush?64:16,c,s,h,h.createRenderer(c,a),null,null));i[s.index]=p}function so(i,s,a,c,l,h){const p=Nr(i,s);!function(i,s,a,c,l,h,p){if(null==h)vn(i)?i.removeAttribute(s,l,a):s.removeAttribute(l);else{const m=null==p?ie(h):p(h,c||"",l);vn(i)?i.setAttribute(s,l,m,a):a?s.setAttributeNS(a,l,m):s.setAttribute(l,m)}}(s[11],p,h,i.value,a,c,l)}function BS(i,s,a,c,l,h){const p=h[s];if(null!==p){const m=c.setInput;for(let v=0;v<p.length;){const w=p[v++],I=p[v++],A=p[v++];null!==m?c.setInput(a,A,w,I):a[I]=A}}}function Hw(i,s){let a=null,c=0;for(;c<s.length;){const l=s[c];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===a&&(a=[]),a.push(l,i[l],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Yp(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function eO(i,s){const a=Rr(s,i);if(lu(a)){const c=a[1];80&a[2]?yl(c,a,c.template,a[8]):a[5]>0&&L_(a)}}function L_(i){for(let c=rl(i);null!==c;c=Np(c))for(let l=10;l<c.length;l++){const h=c[l];if(1024&h[2]){const p=h[1];yl(p,h,p.template,h[8])}else h[5]>0&&L_(h)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const l=Rr(a[c],i);lu(l)&&l[5]>0&&L_(l)}}function tO(i,s){const a=Rr(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),rh(c,a,a[8])}function Qp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function zw(i){for(;i;){i[2]|=64;const s=Iu(i);if(vo(i)&&!s)return i;i=s}return null}function Ww(i,s,a){const c=s[10];c.begin&&c.begin();try{yl(i,s,i.template,a)}catch(l){throw HS(s,l),l}finally{c.end&&c.end()}}function $S(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Wd(a),l=c[1];SS(l,c,l.template,a)}}(i[8])}function Kw(i,s,a){aa(0),s(i,a)}const sO=(()=>Promise.resolve(null))();function U_(i){return i[7]||(i[7]=[])}function B_(i){return i.cleanup||(i.cleanup=[])}function HS(i,s){const a=i[9],c=a?a.get(xu,null):null;c&&c.handleError(s)}function qS(i,s,a,c,l){for(let h=0;h<a.length;){const p=a[h++],m=a[h++],v=s[p],w=i.data[p];null!==w.setInput?w.setInput(v,l,c,m):v[m]=l}}function Ca(i,s,a){const c=ys(s,i);!function(i,s,a){vn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function j_(i,s,a){let c=a?i.styles:null,l=a?i.classes:null,h=0;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?h=m:1==h?l=Xe(l,m):2==h&&(c=Xe(c,m+": "+s[++p]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=l:i.classesWithoutHost=l}const ah=new fn("INJECTOR",-1);class $_{get(s,a=So){if(a===So){const c=new Error(`NullInjectorError: No provider for ${X(s)}!`);throw c.name="NullInjectorError",c}return a}}const Jp=new fn("Set Injector scope."),_l={},zS={};let Yw;function WS(){return void 0===Yw&&(Yw=new $_),Yw}function uh(i,s=null,a=null,c){return new cO(i,a,s||WS(),c)}class cO{constructor(s,a,c,l=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&Mi(a,m=>this.processProvider(m,s,a)),Mi([s],m=>this.processInjectorType(m,[],h)),this.records.set(ah,ch(void 0,this));const p=this.records.get(Jp);this.scope=null!=p?p.value:null,this.source=l||("object"==typeof s?null:X(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=So,c=We.Default){this.assertNotDestroyed();const l=Fn(this),h=Ze(void 0);try{if(!(c&We.SkipSelf)){let m=this.records.get(s);if(void 0===m){const v=("function"==typeof(i=s)||"object"==typeof i&&i instanceof fn)&&wr(s);m=v&&this.injectableDefInScope(v)?ch(Qw(s),_l):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(c&We.Self?WS():this.parent).get(s,a=c&We.Optional&&a===So?null:a)}catch(p){if("NullInjectorError"===p.name){if((p[ut]=p[ut]||[]).unshift(X(s)),l)throw p;return qy(p,s,"R3InjectorError",this.source)}throw p}finally{Ze(h),Fn(l)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,l)=>s.push(X(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=we(s)))return!1;let l=po(s);const h=null==l&&s.ngModule||void 0,p=void 0===h?s:h,m=-1!==c.indexOf(p);if(void 0!==h&&(l=po(h)),null==l)return!1;if(null!=l.imports&&!m){let I;c.push(p);try{Mi(l.imports,A=>{this.processInjectorType(A,a,c)&&(void 0===I&&(I=[]),I.push(A))})}finally{}if(void 0!==I)for(let A=0;A<I.length;A++){const{ngModule:x,providers:P}=I[A];Mi(P,U=>this.processProvider(U,x,P||Ge))}}this.injectorDefTypes.add(p);const v=qs(p)||(()=>new p);this.records.set(p,ch(v,_l));const w=l.providers;if(null!=w&&!m){const I=s;Mi(w,A=>this.processProvider(A,I,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,c){let l=lh(s=we(s))?s:we(s&&s.provide);const h=(i=s,KS(i)?ch(void 0,i.useValue):ch(Jw(i),_l));var i;if(lh(s)||!0!==s.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=ch(void 0,_l,!0),p.factory=()=>pn(p.multi),this.records.set(l,p)),l=s,p.multi.push(s)}this.records.set(l,h)}hydrate(s,a){return a.value===_l&&(a.value=zS,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=we(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Qw(i){const s=wr(i),a=null!==s?s.factory:qs(i);if(null!==a)return a;if(i instanceof fn)throw new Error(`Token ${X(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=function(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?");throw new Error(`Can't resolve all parameters for ${X(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[oi]||i[Ii]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Jw(i,s,a){let c;if(lh(i)){const l=we(i);return qs(l)||Qw(l)}if(KS(i))c=()=>we(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...pn(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Cn(we(i.useExisting));else{const l=we(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return qs(l)||Qw(l);c=()=>new l(...pn(i.deps))}return c}function ch(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function KS(i){return null!==i&&"object"==typeof i&&$d in i}function lh(i){return"function"==typeof i}const G_=function(i,s,a){return function(i,s=null,a=null,c){const l=uh(i,s,a,c);return l._resolveInjectorDefTypes(),l}({name:a},s,i,a)};let Dn=(()=>{class i{static create(a,c){return Array.isArray(a)?G_(a,c,""):G_(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=So,i.NULL=new $_,i.\u0275prov=bn({token:i,providedIn:"any",factory:()=>Cn(ah)}),i.__NG_ELEMENT_ID__=-1,i})();function fh(i,s){fu(Wd(i)[1],qn())}function ph(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let l;if(Mr(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");l=s.\u0275dir}if(l){if(a){c.push(l);const p=i;p.inputs=bl(i.inputs),p.declaredInputs=bl(i.declaredInputs),p.outputs=bl(i.outputs);const m=l.hostBindings;m&&Q_(i,m);const v=l.viewQuery,w=l.contentQueries;if(v&&XS(i,v),w&&Ro(i,w),be(i.inputs,l.inputs),be(i.declaredInputs,l.declaredInputs),be(i.outputs,l.outputs),Mr(l)&&l.data.animation){const I=i.data;I.animation=(I.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===ph&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const l=i[c];l.hostVars=s+=l.hostVars,l.hostAttrs=Od(l.hostAttrs,a=Od(a,l.hostAttrs))}}(c)}function bl(i){return i===At?{}:i===Ge?[]:i}function XS(i,s){const a=i.viewQuery;i.viewQuery=a?(c,l)=>{s(c,l),a(c,l)}:s}function Ro(i,s){const a=i.contentQueries;i.contentQueries=a?(c,l,h)=>{s(c,l,h),a(c,l,h)}:s}function Q_(i,s){const a=i.hostBindings;i.hostBindings=a?(c,l)=>{s(c,l),a(c,l)}:s}let Da=null;function Aa(){if(!Da){const i=ee.Symbol;if(i&&i.iterator)Da=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Da=c)}}}return Da}class Vi{constructor(s){this.wrapped=s}static wrap(s){return new Vi(s)}static unwrap(s){return Vi.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Vi}}function gh(i){return!!mh(i)&&(Array.isArray(i)||!(i instanceof Map)&&Aa()in i)}function mh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function mi(i,s,a){return i[s]=a}function Vn(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function wl(i,s,a,c){const l=Vn(i,s,a);return Vn(i,s+1,c)||l}function Sa(i,s,a,c){const l=le();return Vn(l,oa(),s)&&(Ot(),so(cn(),l,i,s,a,c)),Sa}function gC(i,s,a,c,l,h,p,m){const v=le(),w=Ot(),I=i+20,A=w.firstCreatePass?function(i,s,a,c,l,h,p,m,v){const w=s.consts,I=ku(s,i,4,p||null,_s(w,m));O_(s,a,I,_s(w,v)),fu(s,I);const A=I.tViews=Wp(2,I,c,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,I),A.queries=s.queries.embeddedTView(I)),I}(I,w,v,s,a,c,l,h,p):w.data[I];hi(A,!1);const x=v[11].createComment("");ya(w,v,x,A),Or(x,v),Qp(v,v[I]=Yp(x,v,x,A)),Mc(A)&&sh(w,v,A),null!=p&&oh(v,A,m)}function wh(i,s=We.Default){const a=le();return null===a?Cn(i,s):kd(qn(),a,we(i),s)}function dv(i,s,a){const c=le();return Vn(c,oa(),s)&&ki(Ot(),cn(),c,i,s,c[11],a,!1),dv}function Ih(i,s,a,c,l){const p=l?"class":"style";qS(i,a,s.inputs[p],p,c)}function lg(i,s,a,c){const l=le(),h=Ot(),p=20+i,m=l[11],v=l[p]=Rp(m,s,tt.lFrame.currentNamespace),w=h.firstCreatePass?function(i,s,a,c,l,h,p){const m=s.consts,w=ku(s,i,2,l,_s(m,h));return O_(s,a,w,_s(m,p)),null!==w.attrs&&j_(w,w.attrs,!1),null!==w.mergedAttrs&&j_(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(p,h,l,0,s,a,c):h.data[p];hi(w,!0);const I=w.mergedAttrs;null!==I&&pu(m,v,I);const A=w.classes;null!==A&&c_(m,v,A);const x=w.styles;null!==x&&Zd(m,v,x),64!=(64&w.flags)&&ya(h,l,v,w),0===tt.lFrame.elementDepthCount&&Or(v,l),tt.lFrame.elementDepthCount++,Mc(w)&&(sh(h,l,w),zp(h,w,l)),null!==c&&oh(l,w)}function Th(){let i=qn();kc()?ra():(i=i.parent,hi(i,!1));const s=i;tt.lFrame.elementDepthCount--;const a=Ot();a.firstCreatePass&&(fu(a,i),gd(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Ih(a,s,le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Ih(a,s,le(),s.stylesWithoutHost,!1)}function Ui(i,s,a,c){lg(i,s,a,c),Th()}function Dh(i,s,a){const c=le(),l=Ot(),h=i+20,p=l.firstCreatePass?function(i,s,a,c,l){const h=s.consts,p=_s(h,c),m=ku(s,i,8,"ng-container",p);return null!==p&&j_(m,p,!0),O_(s,a,m,_s(h,l)),null!==s.queries&&s.queries.elementStart(s,m),m}(h,l,c,s,a):l.data[h];hi(p,!0);const m=c[h]=c[11].createComment("");ya(l,c,m,p),Or(m,c),Mc(p)&&(sh(l,c,p),zp(l,p,c)),null!=a&&oh(c,p)}function Cl(){let i=qn();const s=Ot();kc()?ra():(i=i.parent,hi(i,!1)),s.firstCreatePass&&(fu(s,i),gd(i)&&s.queries.elementEnd(i))}function hv(){return le()}function SC(i){return!!i&&"function"==typeof i.then}function dg(i){return!!i&&"function"==typeof i.subscribe}const Ah=dg;function Sh(i,s,a,c){const l=le(),h=Ot(),p=qn();return function(i,s,a,c,l,h,p,m){const v=Mc(c),I=i.firstCreatePass&&B_(i),A=s[8],x=U_(s);let P=!0;if(3&c.type||m){const H=Nr(c,s),me=m?m(H):H,se=x.length,$e=m?ot=>m(kn(ot[c.index])):c.index;if(vn(a)){let ot=null;if(!m&&v&&(ot=function(i,s,a,c){const l=i.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const p=l[h];if(p===a&&l[h+1]===c){const m=s[7],v=l[h+2];return m.length>v?m[v]:null}"string"==typeof p&&(h+=2)}return null}(i,s,l,c.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=h,ot.__ngLastListenerFn__=h,P=!1;else{h=fg(c,s,A,h,!1);const Mt=a.listen(me,l,h);x.push(h,Mt),I&&I.push(l,$e,se,se+1)}}else h=fg(c,s,A,h,!0),me.addEventListener(l,h,p),x.push(h),I&&I.push(l,$e,se,p)}else h=fg(c,s,A,h,!1);const U=c.outputs;let Y;if(P&&null!==U&&(Y=U[l])){const H=Y.length;if(H)for(let me=0;me<H;me+=2){const kt=s[Y[me]][Y[me+1]].subscribe(h),Ei=x.length;x.push(h,kt),I&&I.push(l,c.index,Ei,-(Ei+1))}}}(h,l,l[11],p,i,s,!!a,c),Sh}function hg(i,s,a,c){try{return!1!==a(c)}catch(l){return HS(i,l),!1}}function fg(i,s,a,c,l){return function h(p){if(p===Function)return c;const m=2&i.flags?Rr(i.index,s):s;0==(32&s[2])&&zw(m);let v=hg(s,0,c,p),w=h.__ngNextListenerFn__;for(;w;)v=hg(s,0,w,p)&&v,w=w.__ngNextListenerFn__;return l&&!1===v&&(p.preventDefault(),p.returnValue=!1),v}}function pg(i=1){return function(i){return(tt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,tt.lFrame.contextLView))[8]}(i)}function bg(i,s,a,c,l){const h=i[a+1],p=null===s;let m=c?Ds(h):nn(h),v=!1;for(;0!==m&&(!1===v||p);){const I=i[m+1];RO(i[m],s)&&(v=!0,i[m+1]=c?As(I):ww(I)),m=c?Ds(I):nn(I)}v&&(i[a+1]=c?ww(h):As(h))}function RO(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ao(i,s)>=0}function Rh(i,s){return function(i,s,a,c){const l=le(),h=Ot(),p=Di(2);h.firstUpdatePass&&function(i,s,a,c){const l=i.data;if(null===l[a+1]){const h=l[or()],p=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,c)&&null===s&&!p&&(s=!1),s=function(i,s,a,c){const l=function(i){const s=tt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===l)0===(c?s.classBindings:s.styleBindings)&&(a=qu(a=Iv(null,i,s,a,c),s.attrs,c),h=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==l)if(a=Iv(l,i,s,a,c),null===h){let v=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==nn(c))return i[Ds(c)]}(i,s,c);void 0!==v&&Array.isArray(v)&&(v=Iv(null,i,s,v[1],c),v=qu(v,s.attrs,c),function(i,s,a,c){i[Ds(a?s.classBindings:s.styleBindings)]=c}(i,s,c,v))}else h=function(i,s,a){let c;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)c=qu(c,i[h].hostAttrs,a);return qu(c,s.attrs,a)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),a}(l,h,s,c),function(i,s,a,c,l,h){let p=h?s.classBindings:s.styleBindings,m=Ds(p),v=nn(p);i[c]=a;let I,w=!1;if(Array.isArray(a)){const A=a;I=A[1],(null===I||Ao(A,I)>0)&&(w=!0)}else I=a;if(l)if(0!==v){const x=Ds(i[m+1]);i[c+1]=C_(x,m),0!==x&&(i[x+1]=Nu(i[x+1],c)),i[m+1]=function(i,s){return 131071&i|s<<17}(i[m+1],c)}else i[c+1]=C_(m,0),0!==m&&(i[m+1]=Nu(i[m+1],c)),m=c;else i[c+1]=C_(v,0),0===m?m=c:i[v+1]=Nu(i[v+1],c),v=c;w&&(i[c+1]=ww(i[c+1])),bg(i,I,c,!0),bg(i,I,c,!1),function(i,s,a,c,l){const h=l?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Ao(h,s)>=0&&(a[c+1]=As(a[c+1]))}(s,I,i,c,h),p=C_(m,v),h?s.classBindings=p:s.styleBindings=p}(l,h,s,a,p,c)}}(h,i,p,c),s!==ht&&Vn(l,p,s)&&function(i,s,a,c,l,h,p,m){if(!(3&s.type))return;const v=i.data,w=v[m+1];Tv(function(i){return 1==(1&i)}(w)?FC(v,s,a,l,nn(w),p):void 0)||(Tv(h)||function(i){return 2==(2&i)}(w)&&(h=FC(v,null,a,l,m,p)),function(i,s,a,c,l){const h=vn(i);if(s)l?h?i.addClass(a,c):a.classList.add(c):h?i.removeClass(a,c):a.classList.remove(c);else{let p=-1===c.indexOf("-")?void 0:Is.DashCase;if(null==l)h?i.removeStyle(a,c,p):a.style.removeProperty(c);else{const m="string"==typeof l&&l.endsWith("!important");m&&(l=l.slice(0,-10),p|=Is.Important),h?i.setStyle(a,c,l,p):a.style.setProperty(c,l,m?"important":"")}}}(c,p,ys(or(),a),l,h))}(h,h.data[or()],l,l[11],i,l[p+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=X(is(i)))),i}(s,a),c,p)}(i,s,null,!0),Rh}function Iv(i,s,a,c,l){let h=null;const p=a.directiveEnd;let m=a.directiveStylingLast;for(-1===m?m=a.directiveStart:m++;m<p&&(h=s[m],c=qu(c,h.hostAttrs,l),h!==i);)m++;return null!==i&&(a.directiveStylingLast=m),c}function qu(i,s,a){const c=a?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const p=s[h];"number"==typeof p?l=p:l===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Dr(i,p,!!a||s[++h]))}return void 0===i?null:i}function FC(i,s,a,c,l,h){const p=null===s;let m;for(;l>0;){const v=i[l],w=Array.isArray(v),I=w?v[1]:v,A=null===I;let x=a[l+1];x===ht&&(x=A?Ge:void 0);let P=A?Do(x,c):I===c?x:void 0;if(w&&!Tv(P)&&(P=Do(v,c)),Tv(P)&&(m=P,p))return m;const U=i[l+1];l=p?Ds(U):nn(U)}if(null!==s){let v=h?s.residualClasses:s.residualStyles;null!=v&&(m=Do(v,c))}return m}function Tv(i){return void 0!==i}function VC(i,s=""){const a=le(),c=Ot(),l=i+20,h=c.firstCreatePass?ku(c,l,1,s,null):c.data[l],p=a[l]=function(i,s){return vn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);ya(c,a,p,h),hi(h,!1)}function UC(i){return Dv("",i,""),UC}function Dv(i,s,a){const c=le(),l=function(i,s,a,c){return Vn(i,oa(),a)?s+ie(a)+c:ht}(c,i,s,a);return l!==ht&&Ca(c,or(),l),Dv}function BC(i,s,a,c,l){const h=le(),p=function(i,s,a,c,l,h){const m=wl(i,Qi(),a,l);return Di(2),m?s+ie(a)+c+ie(l)+h:ht}(h,i,s,a,c,l);return p!==ht&&Ca(h,or(),p),BC}function Il(i,s,a){const c=le();return Vn(c,oa(),s)&&ki(Ot(),cn(),c,i,s,c[11],a,!0),Il}const Ms=void 0;var Lx=["en",[["a","p"],["AM","PM"],Ms],[["AM","PM"],Ms,Ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ms,"{1} 'at' {0}",Ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Na={};function Ph(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Rv(s);if(a)return a;const c=s.split("-")[0];if(a=Rv(c),a)return a;if("en"===c)return Lx;throw new Error(`Missing locale data for the locale "${i}".`)}function Ng(i){return Ph(i)[rt.PluralCase]}function Rv(i){return i in Na||(Na[i]=ee.ng&&ee.ng.common&&ee.ng.common.locales&&ee.ng.common.locales[i]),Na[i]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const Rg="en-US";let ZC=Rg;function Pv(i){Ft(i,"Expected localeId to be defined"),"string"==typeof i&&(ZC=i.toLowerCase().replace(/_/g,"-"))}function Zv(i,s,a,c,l){if(i=we(i),Array.isArray(i))for(let h=0;h<i.length;h++)Zv(i[h],s,a,c,l);else{const h=Ot(),p=le();let m=lh(i)?i:we(i.provide),v=Jw(i);const w=qn(),I=1048575&w.providerIndexes,A=w.directiveStart,x=w.providerIndexes>>20;if(lh(i)||!i.multi){const P=new hr(v,l,wh),U=Yv(m,s,l?I:I+x,A);-1===U?(qc(bs(w,p),h,m),Dl(h,i,s.length),s.push(m),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),a.push(P),p.push(P)):(a[U]=P,p[U]=P)}else{const P=Yv(m,s,I+x,A),U=Yv(m,s,I,I+x),Y=P>=0&&a[P],H=U>=0&&a[U];if(l&&!H||!l&&!Y){qc(bs(w,p),h,m);const me=function(i,s,a,c,l){const h=new hr(i,a,wh);return h.multi=[],h.index=s,h.componentProviders=0,fI(h,l,c&&!a),h}(l?hM:dM,a.length,l,c,v);!l&&H&&(a[U].providerFactory=me),Dl(h,i,s.length,0),s.push(m),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),a.push(me),p.push(me)}else Dl(h,i,P>-1?P:U,fI(a[l?U:P],v,!l&&c));!l&&c&&H&&a[U].componentProviders++}}}function Dl(i,s,a,c){const l=lh(s);if(l||function(i){return!!i.useClass}(s)){const p=(s.useClass||s).prototype.ngOnDestroy;if(p){const m=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const v=m.indexOf(a);-1===v?m.push(a,[c,p]):m[v+1].push(c,p)}else m.push(a,p)}}}function fI(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Yv(i,s,a,c){for(let l=a;l<c;l++)if(s[l]===i)return l;return-1}function dM(i,s,a,c){return Qv(this.multi,[])}function hM(i,s,a,c){const l=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=ws(a,a[1],this.providerFactory.index,c);h=m.slice(0,p),Qv(l,h);for(let v=p;v<m.length;v++)h.push(m[v])}else h=[],Qv(l,h);return h}function Qv(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function pI(i,s=[]){return a=>{a.providersResolver=(c,l)=>function(i,s,a){const c=Ot();if(c.firstCreatePass){const l=Mr(i);Zv(a,c.data,c.blueprint,l,!0),Zv(s,c.data,c.blueprint,l,!1)}}(c,l?l(i):i,s)}}class zg{}const mI="ngComponent";class gM{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${X(i)}. Did you add it to @NgModule.entryComponents?`);return s[mI]=i,s}(s)}}let Al=(()=>{class i{}return i.NULL=new gM,i})();function Wg(...i){}function Sl(i,s){return new co(Nr(i,s))}const Xv=function(){return Sl(qn(),le())};let co=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Xv,i})();function _I(i){return i instanceof co?i.nativeElement:i}class Lh{}let ik=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>vM(),i})();const vM=function(){const i=le(),a=Rr(qn().index,i);return function(i){return i[11]}(Yi(a)?a:i)};let eE=(()=>{class i{}return i.\u0275prov=bn({token:i,providedIn:"root",factory:()=>null}),i})();class EI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Kg=new EI("12.2.17");class bI{constructor(){}supports(s){return gh(s)}create(s){return new tE(s)}}const wM=(i,s)=>s;class tE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||wM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,l=0,h=null;for(;a||c;){const p=!c||a&&a.currentIndex<CI(c,l,h)?a:c,m=CI(p,l,h),v=p.currentIndex;if(p===c)l--,c=c._nextRemoved;else if(a=a._next,null==p.previousIndex)l++;else{h||(h=[]);const w=m-l,I=v-l;if(w!=I){for(let x=0;x<w;x++){const P=x<h.length?h[x]:h[x]=0,U=P+x;I<=U&&U<w&&(h[x]=P+1)}h[p.previousIndex]=I-w}}m!==v&&s(p,m,v)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!gh(s))throw new Error(`Error trying to diff '${X(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,p,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)h=s[m],p=this._trackByFn(m,h),null!==a&&Object.is(a.trackById,p)?(c&&(a=this._verifyReinsertion(a,h,p,m)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,p,m),c=!0),a=a._next}else l=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Aa()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,m=>{p=this._trackByFn(l,m),null!==a&&Object.is(a.trackById,p)?(c&&(a=this._verifyReinsertion(a,m,p,l)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,p,l),c=!0),a=a._next,l++}),this.length=l;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,l)):s=this._addAfter(new wI(a,c),h,l),s}_verifyReinsertion(s,a,c,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const l=null===a?this._itHead:a._next;return s._next=l,s._prev=a,null===l?this._itTail=s:l._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Zg),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sk{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Zg{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new sk,this.map.set(a,c)),c.add(s)}get(s,a){const l=this.map.get(s);return l?l.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CI(i,s,a){const c=i.previousIndex;if(null===c)return c;let l=0;return a&&c<a.length&&(l=a[c]),c+s+l}class II{constructor(){}supports(s){return s instanceof Map||mh(s)}create(){return new IM}}class IM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||mh(s)))throw new Error(`Error trying to diff '${X(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,l)=>{if(a&&a.key===l)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(l,c);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,a);const h=l._prev,p=l._next;return h&&(h._next=p),p&&(p._prev=h),l._next=null,l._prev=null,l}const c=new TM(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class TM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TI(){return new Yg([new bI])}let Yg=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const l=c.factories.slice();a=a.concat(l)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||TI()),deps:[[i,new E,new ts]]}}find(a){const c=this.factories.find(l=>l.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=bn({token:i,providedIn:"root",factory:TI}),i})();function DM(){return new nE([new II])}let nE=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const l=c.factories.slice();a=a.concat(l)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||DM()),deps:[[i,new E,new ts]]}}find(a){const c=this.factories.find(l=>l.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=bn({token:i,providedIn:"root",factory:DM}),i})();function rE(i,s,a,c,l=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&c.push(kn(h)),Ti(h))for(let m=10;m<h.length;m++){const v=h[m],w=v[1].firstChild;null!==w&&rE(v[1],v,w,c)}const p=a.type;if(8&p)rE(i,s,a.child,c);else if(32&p){const m=xp(a,s);let v;for(;v=m();)c.push(v)}else if(16&p){const m=s_(s,a);if(Array.isArray(m))c.push(...m);else{const v=Iu(s[16]);rE(v[1],v,m,c,!0)}}a=l?a.projectionNext:a.next}return c}class Qg{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return rE(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ti(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(al(s,c),Ni(a,c))}this._attachedToViewContainer=!1}q0(this._lView[1],this._lView)}onDestroy(s){Fw(this._lView[1],this._lView,null,s)}markForCheck(){zw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ww(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){sa(!0);try{Ww(i,s,a)}finally{sa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Du(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class ak extends Qg{constructor(s){super(s),this._view=s}detectChanges(){$S(this._view)}checkNoChanges(){!function(i){sa(!0);try{$S(i)}finally{sa(!1)}}(this._view)}get context(){return null}}const ck=function(i){return function(i,s,a){if(xc(i)&&!a){const c=Rr(i.index,s);return new Qg(c,c)}return 47&i.type?new Qg(s[16],s):null}(qn(),le(),16==(16&i))};let lk=(()=>{class i{}return i.__NG_ELEMENT_ID__=ck,i})();const AM=[new II],pk=new Yg([new bI]),gk=new nE(AM),yk=function(){return iE(qn(),le())};let Jg=(()=>{class i{}return i.__NG_ELEMENT_ID__=yk,i})();const _k=Jg,vk=class extends _k{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Ou(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(c[19]=h.createEmbeddedView(a)),rh(a,c,s),new Qg(c)}};function iE(i,s){return 4&i.type?new vk(s,i,Sl(i,s)):null}class xl{}class SM{}const wk=function(){return NM(qn(),le())};let sE=(()=>{class i{}return i.__NG_ELEMENT_ID__=wk,i})();const Ik=sE,xM=class extends Ik{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Sl(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const s=mu(this._hostTNode,this._hostLView);if(Py(s)){const a=Qs(s,this._hostLView),c=wo(s);return new pi(a[1].data[c+8],a)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=MM(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const l=s.createEmbeddedView(a||{});return this.insert(l,c),l}createComponent(s,a,c,l,h){const p=c||this.parentInjector;if(!h&&null==s.ngModule&&p){const v=p.get(xl,null);v&&(h=v)}const m=s.create(p,l,void 0,h);return this.insert(m.hostView,a),m}insert(s,a){const c=s._lView,l=c[1];if(Ti(c[3])){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const A=c[3],x=new xM(A,A[6],A[3]);x.detach(x.indexOf(s))}}const h=this._adjustIndex(a),p=this._lContainer;!function(i,s,a,c){const l=10+c,h=a.length;c>0&&(a[l-1][4]=s),c<h-10?(s[4]=a[l],Qc(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const p=s[17];null!==p&&a!==p&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(p,s);const m=s[19];null!==m&&m.insertView(i),s[2]|=128}(l,c,p,h);const m=Pp(h,p),v=c[11],w=Ts(v,p[7]);return null!==w&&function(i,s,a,c,l,h){c[0]=l,c[6]=s,Du(i,c,a,1,l,h)}(l,p[6],v,c,w,m),s.attachToViewContainerRef(),Qc(DI(p),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=MM(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=al(this._lContainer,a);c&&(Ni(DI(this._lContainer),a),q0(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=al(this._lContainer,a);return c&&null!=Ni(DI(this._lContainer),a)?new Qg(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function MM(i){return i[8]}function DI(i){return i[8]||(i[8]=[])}function NM(i,s){let a;const c=s[i.index];if(Ti(c))a=c;else{let l;if(8&i.type)l=kn(c);else{const h=s[11];l=h.createComment("");const p=Nr(i,s);Tu(h,Ts(h,p),l,function(i,s){return vn(i)?i.nextSibling(s):s.nextSibling}(h,p),!1)}s[i.index]=a=Yp(c,s,l,i),Qp(s,a)}return new xM(a,i,s)}const Lo={};class DE extends Al{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=On(s);return new Br(a,this.ngModule)}}function zh(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Wh=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yw});class Br extends zg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(gS).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(s,a,c,l){const h=(l=l||this.ngModule)?function(i,s){return{get:(a,c,l)=>{const h=i.get(a,Lo,l);return h!==Lo||c===Lo?h:s.get(a,c,l)}}}(s,l.injector):s,p=h.get(Lh,rp),m=h.get(eE,null),v=p.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",I=c?function(i,s,a){if(vn(i))return i.selectRootElement(s,a===pt.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(v,c,this.componentDef.encapsulation):Rp(p.createRenderer(null,this.componentDef),w,function(i){const s=i.toLowerCase();return"svg"===s?zs:"math"===s?"http://www.w3.org/1998/MathML/":null}(w)),A=this.componentDef.onPush?576:528,x=function(i,s){return{components:[],scheduler:i||yw,clean:sO,playerHandler:s||null,flags:0}}(),P=Wp(0,null,null,1,0,null,null,null,null,null),U=Ou(null,P,x,A,null,null,p,v,m,h);let Y,H;hu(U);try{const me=function(i,s,a,c,l,h){const p=a[1];a[20]=i;const v=ku(p,20,2,"#host",null),w=v.mergedAttrs=s.hostAttrs;null!==w&&(j_(v,w,!0),null!==i&&(pu(l,i,w),null!==v.classes&&c_(l,i,v.classes),null!==v.styles&&Zd(l,i,v.styles)));const I=c.createRenderer(i,s),A=Ou(a,N_(s),null,s.onPush?64:16,a[20],v,c,I,h||null,null);return p.firstCreatePass&&(qc(bs(v,a),p,s.type),LS(p,v),US(v,a.length,1)),Qp(a,A),a[20]=A}(I,this.componentDef,U,p,v);if(I)if(c)pu(v,I,["ng-version",Kg.full]);else{const{attrs:se,classes:$e}=function(i){const s=[],a=[];let c=1,l=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===l?""!==h&&s.push(h,i[++c]):8===l&&a.push(h);else{if(!tn(l))break;l=h}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);se&&pu(v,I,se),$e&&$e.length>0&&c_(v,I,$e.join(" "))}if(H=cu(P,20),void 0!==a){const se=H.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const ot=a[$e];se.push(null!=ot?Array.from(ot):null)}}Y=function(i,s,a,c,l){const h=a[1],p=function(i,s,a){const c=qn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Kp(i,c,s,wa(i,s,1,null),a));const l=ws(s,i,c.directiveStart,c);Or(l,s);const h=Nr(c,s);return h&&Or(h,s),l}(h,a,s);if(c.components.push(p),i[8]=p,l&&l.forEach(v=>v(p,s)),s.contentQueries){const v=qn();s.contentQueries(1,p,v.directiveStart)}const m=qn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Zs(m.index),Uw(a[1],m,0,m.directiveStart,m.directiveEnd,s),k_(s,p)),p}(me,this.componentDef,U,x,[fh]),rh(P,U,null)}finally{Sd()}return new ym(this.componentType,Y,Sl(H,U),U,H)}}class ym extends class{}{constructor(s,a,c,l,h){super(),this.location=c,this._rootLView=l,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new ak(l),this.componentType=s}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const La=new Map;class SE extends xl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DE(this);const c=ci(s),l=s[ue]||null;l&&Pv(l),this._bootstrapComponents=ro(c.bootstrap),this._r3Injector=uh(s,a,[{provide:xl,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],X(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Dn.THROW_IF_NOT_FOUND,c=We.Default){return s===Dn||s===xl||s===ah?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Nl extends SM{constructor(s){super(),this.moduleType=s,null!==ci(s)&&function(i){const s=new Set;!function a(c){const l=ci(c,!0),h=l.id;null!==h&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${X(s)} vs ${X(s.name)}`)}(h,La.get(h),c),La.set(h,c));const p=ro(l.imports);for(const m of p)s.has(m)||(s.add(m),a(m))}(i)}(s)}create(s){return new SE(this.moduleType,s)}}function xE(i,s,a,c){return function(i,s,a,c,l,h){const p=s+a;return Vn(i,p,l)?mi(i,p+1,h?c.call(h,l):c(l)):Vo(i,p+1)}(le(),sr(),i,s,a,c)}function Vo(i,s){const a=i[s];return a===ht?void 0:a}function Va(i,s,a,c,l,h,p,m,v){const w=s+a;return function(i,s,a,c,l,h){const p=wl(i,s,a,c);return wl(i,s+2,l,h)||p}(i,w,l,h,p,m)?mi(i,w+4,v?c.call(v,l,h,p,m):c(l,h,p,m)):Vo(i,w+4)}function tT(i,s){const a=Ot();let c;const l=i+20;a.firstCreatePass?(c=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}throw new sn("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[l]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(l,c.onDestroy)):c=a.data[l];const h=c.factory||(c.factory=qs(c.type)),p=Ze(wh);try{const m=wn(!1),v=h();return wn(m),function(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,le(),l,v),v}finally{Ze(p)}}function Ua(i,s,a,c,l,h){const p=i+20,m=le(),v=function(i,s){return i[s]}(m,p);return function(i,s){Vi.isWrapped(s)&&(s=Vi.unwrap(s),i[Qi()]=ht);return s}(m,function(i,s){return i[1].data[s].pure}(m,p)?Va(m,sr(),s,v.transform,a,c,l,h,v):v.transform(a,c,l,h))}function ln(i){return s=>{setTimeout(i,void 0,s)}}const $i=class extends pe.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var l,h,p;let m=s,v=a||(()=>null),w=c;if(s&&"object"==typeof s){const A=s;m=null===(l=A.next)||void 0===l?void 0:l.bind(A),v=null===(h=A.error)||void 0===h?void 0:h.bind(A),w=null===(p=A.complete)||void 0===p?void 0:p.bind(A)}this.__isAsync&&(v=ln(v),m&&(m=ln(m)),w&&(w=ln(w)));const I=super.subscribe({next:m,error:v,complete:w});return s instanceof ve.w&&s.add(I),I}};function Qh(){return this._results[Aa()]()}class $a{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Aa(),c=$a.prototype;c[a]||(c[a]=Qh)}get changes(){return this._changes||(this._changes=new $i)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const l=xi(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let l=i[c],h=s[c];if(a&&(l=a(l),h=a(h)),h!==l)return!1}return!0}(c._results,l,a))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class PE{constructor(s){this.queryList=s,this.matches=null}clone(){return new PE(this.queryList)}setDirty(){this.queryList.setDirty()}}class OE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,l=[];for(let h=0;h<c;h++){const p=a.getByIndex(h);l.push(this.queries[p.indexInDeclarationView].clone())}return new OE(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==wm(s,a).matches&&this.queries[a].setDirty()}}class oT{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class ec{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const l=null!==a?a.length:0,h=this.getByIndex(c).embeddedTView(s,l);h&&(h.indexInDeclarationView=c,null!==a?a.push(h):a=[h])}return null!==a?new ec(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class lo{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new lo(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const h=c[l];this.matchTNodeWithReadOption(s,a,aT(a,h)),this.matchTNodeWithReadOption(s,a,ca(a,s,h,!1,!1))}else c===Jg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ca(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===co||l===sE||l===Jg&&4&a.type)this.addMatch(a.index,-2);else{const h=ca(a,s,l,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function aT(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function cT(i,s,a,c){return-1===a?function(i,s){return 11&i.type?Sl(i,s):4&i.type?iE(i,s):null}(s,i):-2===a?function(i,s,a){return a===co?Sl(s,i):a===Jg?iE(s,i):a===sE?NM(s,i):void 0}(i,s,c):ws(i,i[1],a,s)}function lT(i,s,a,c){const l=s[19].queries[c];if(null===l.matches){const h=i.data,p=a.matches,m=[];for(let v=0;v<p.length;v+=2){const w=p[v];m.push(w<0?null:cT(s,h[w],p[v+1],a.metadata.read))}l.matches=m}return l.matches}function kE(i,s,a,c){const l=i.queries.getByIndex(a),h=l.matches;if(null!==h){const p=lT(i,s,l,a);for(let m=0;m<h.length;m+=2){const v=h[m];if(v>0)c.push(p[m/2]);else{const w=h[m+1],I=s[-v];for(let A=10;A<I.length;A++){const x=I[A];x[17]===x[3]&&kE(x[1],x,w,c)}if(null!==I[9]){const A=I[9];for(let x=0;x<A.length;x++){const P=A[x];kE(P[1],P,w,c)}}}}}return c}function FE(i){const s=le(),a=Ot(),c=fp();aa(c+1);const l=wm(a,c);if(i.dirty&&sp(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const h=l.crossesNgTemplate?kE(a,s,c,[]):lT(a,s,l,c);i.reset(h,_I),i.notifyOnChanges()}return!0}return!1}function LE(i,s,a,c){const l=Ot();if(l.firstCreatePass){const h=qn();(function(i,s,a){null===i.queries&&(i.queries=new ec),i.queries.track(new lo(s,a))})(l,new oT(s,a,c),h.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(l,i),2==(2&a)&&(l.staticContentQueries=!0)}!function(i,s,a){const c=new $a(4==(4&a));Fw(i,s,c,c.destroy),null===s[19]&&(s[19]=new OE),s[19].queries.push(new PE(c))}(l,le(),a)}function VE(){return i=le(),s=fp(),i[19].queries[s].queryList;var i,s}function wm(i,s){return i.queries.getByIndex(s)}const rb=new fn("Application Initializer");let kl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Wg,this.reject=Wg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(SC(h))a.push(h);else if(Ah(h)){const p=new Promise((m,v)=>{h.subscribe({complete:m,error:v})});a.push(p)}}Promise.all(a).then(()=>{c()}).catch(l=>{this.reject(l)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Cn(rb,8))},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();const CT=new fn("AppId"),l1={provide:CT,useFactory:function(){return`${TT()}${TT()}${TT()}`},deps:[]};function TT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DT=new fn("Platform Initializer"),ib=new fn("Platform ID"),lt=new fn("appBootstrapListener");let sb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();const dn=new fn("LocaleId"),Ke=new fn("DefaultCurrencyCode");class ob{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Ll=function(i){return new Nl(i)},d1=Ll,AT=function(i){return Promise.resolve(Ll(i))},Nm=function(i){const s=Ll(i),c=ro(ci(i).declarations).reduce((l,h)=>{const p=On(h);return p&&l.push(new Br(p)),l},[]);return new ob(s,c)},ST=Nm,ab=function(i){return Promise.resolve(Nm(i))};let W=(()=>{class i{constructor(){this.compileModuleSync=d1,this.compileModuleAsync=AT,this.compileModuleAndAllComponentsSync=ST,this.compileModuleAndAllComponentsAsync=ab}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();const f1=(()=>Promise.resolve(0))();function sc(i){"undefined"==typeof Zone?f1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Gi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $i(!1),this.onMicrotaskEmpty=new $i(!1),this.onStable=new $i(!1),this.onError=new $i(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&a,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let i=ee.requestAnimationFrame,s=ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ee,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,cb(i),i.isCheckStableRunning=!0,Pm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),cb(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,l,h,p,m)=>{try{return yi(i),a.invokeTask(l,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),xT(i)}},onInvoke:(a,c,l,h,p,m,v)=>{try{return yi(i),a.invoke(l,h,p,m,v)}finally{i.shouldCoalesceRunChangeDetection&&s(),xT(i)}},onHasTask:(a,c,l,h)=>{a.hasTask(l,h),c===l&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,cb(i),Pm(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,c,l,h)=>(a.handleError(l,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,l){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+l,s,oc,Wg,Wg);try{return h.runTask(p,a,c)}finally{h.cancelTask(p)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const oc={};function Pm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function cb(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function yi(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function xT(i){i._nesting--,Pm(i)}class lb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $i,this.onMicrotaskEmpty=new $i,this.onStable=new $i,this.onError=new $i}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,l){return s.apply(a,c)}}let MT=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),sc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,l){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:l})}whenStable(a,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,l){return[]}}return i.\u0275fac=function(a){return new(a||i)(Cn(Gi))},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})(),NT=(()=>{class i{constructor(){this._applications=new Map,$o.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return $o.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();class ac{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function RT(i){$o=i}let $o=new ac,db=!0,Vl=!1;function uc(){return Vl=!0,db}function PT(){if(Vl)throw new Error("Cannot enable prod mode after platform setup.");db=!1}let Os;const Go=new fn("AllowMultipleToken");class Om{constructor(s,a){this.name=s,this.token=a}}function ks(i,s,a=[]){const c=`Platform: ${s}`,l=new fn(c);return(h=[])=>{let p=fb();if(!p||p.injector.get(Go,!1))if(i)i(a.concat(h).concat({provide:l,useValue:!0}));else{const m=a.concat(h).concat({provide:l,useValue:!0},{provide:Jp,useValue:"platform"});!function(i){if(Os&&!Os.destroyed&&!Os.injector.get(Go,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Os=i.get(fc);const s=i.get(DT,null);s&&s.forEach(a=>a())}(Dn.create({providers:m,name:c}))}return function(i){const s=fb();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(l)}}function fb(){return Os&&!Os.destroyed?Os:null}let fc=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const m=function(i,s){let a;return a="noop"===i?new lb:("zone.js"===i?void 0:i)||new Gi({enableLongStackTrace:uc(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),v=[{provide:Gi,useValue:m}];return m.run(()=>{const w=Dn.create({providers:v,parent:this.injector,name:a.moduleType.name}),I=a.create(w),A=I.injector.get(xu,null);if(!A)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const x=m.onError.subscribe({next:P=>{A.handleError(P)}});I.onDestroy(()=>{Fm(this._modules,I),x.unsubscribe()})}),function(i,s,a){try{const c=a();return SC(c)?c.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(A,m,()=>{const x=I.injector.get(kl);return x.runInitializers(),x.donePromise.then(()=>(Pv(I.injector.get(dn,Rg)||Rg),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const l=km({},c);return function(i,s,a){const c=new Nl(a);return Promise.resolve(c)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(a){const c=a.injector.get(Ho);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${X(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Cn(Dn))},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();function km(i,s){return Array.isArray(s)?s.reduce(km,i):Object.assign(Object.assign({},i),s)}let Ho=(()=>{class i{constructor(a,c,l,h,p){this._zone=a,this._injector=c,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new g.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new g.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),sc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=function(...i){let s=Number.POSITIVE_INFINITY,a=null,c=i[i.length-1];return(0,J.K)(c)?(a=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(s=i.pop())):"number"==typeof c&&(s=i.pop()),null===a&&1===i.length&&i[0]instanceof g.y?i[0]:(0,Z.J)(s)((0,oe.n)(i,a))}(m,v.pipe(i=>(0,F.x)()(function(i,s){return function(c){let l;l="function"==typeof i?i:function(){return i};const h=Object.create(c,ye.N);return h.source=c,h.subjectFactory=l,h}}(G)(i))))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=a instanceof zg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(l.componentType);const h=function(i){return i.isBoundToModule}(l)?void 0:this._injector.get(xl),m=l.create(Dn.NULL,[],c||l.selector,h),v=m.location.nativeElement,w=m.injector.get(MT,null),I=w&&m.injector.get(NT);return w&&I&&I.registerApplication(v,w),m.onDestroy(()=>{this.detachView(m.hostView),Fm(this.components,m),I&&I.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Fm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(lt,[]).concat(this._bootstrapListeners).forEach(l=>l(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Cn(Gi),Cn(Dn),Cn(xu),Cn(Al),Cn(kl))},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();function Fm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class pf{}class OT{}const kT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let FT=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||kT}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,l]=a.split("#");return void 0===l&&(l="default"),k(255)(c).then(h=>h[l]).then(h=>Pt(h,c,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(a){let[c,l]=a.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),k(255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(p=>p[l+h]).then(p=>Pt(p,c,l))}}return i.\u0275fac=function(a){return new(a||i)(Cn(W),Cn(OT,8))},i.\u0275prov=bn({token:i,factory:i.\u0275fac}),i})();function Pt(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const _i=function(i){return null},_f=ks(null,"core",[{provide:ib,useValue:"unknown"},{provide:fc,deps:[Dn]},{provide:NT,deps:[]},{provide:sb,deps:[]}]),$T=[{provide:Ho,useClass:Ho,deps:[Gi,Dn,xu,Al,kl]},{provide:Wh,deps:[Gi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:kl,useClass:kl,deps:[[new ts,rb]]},{provide:W,useClass:W,deps:[]},l1,{provide:Yg,useFactory:function(){return pk},deps:[]},{provide:nE,useFactory:function(){return gk},deps:[]},{provide:dn,useFactory:function(i){return Pv(i=i||"undefined"!=typeof $localize&&$localize.locale||Rg),i},deps:[[new ga(dn),new ts,new E]]},{provide:Ke,useValue:"USD"}];let GT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Cn(Ho))},i.\u0275mod=ui({type:i}),i.\u0275inj=zi({providers:$T}),i})()},497:(ze,de,k)=>{"use strict";k.d(de,{hO:()=>wt});var g=k(639),J=k(854),Z=k(910),oe=k(26),he=k(422);class pe{constructor(et,ke){this._delegate=et,this.firebase=ke,(0,oe._addComponent)(et,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(et,ke=oe._DEFAULT_ENTRY_NAME){var Wt;this._delegate.checkDestroyed();const Ht=this._delegate.container.getProvider(et);return!Ht.isInitialized()&&"EXPLICIT"===(null===(Wt=Ht.getComponent())||void 0===Wt?void 0:Wt.instantiationMode)&&Ht.initialize(),Ht.getImmediate({identifier:ke})}_removeServiceInstance(et,ke=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(ke)}_addComponent(et){(0,oe._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,oe._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new J.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function N(){const Ve=function(Ve){const et={},ke={__esModule:!0,initializeApp:function(Tt,Ut={}){const Ft=oe.initializeApp(Tt,Ut);if((0,J.r3)(et,Ft.name))return et[Ft.name];const it=new Ve(Ft,ke);return et[Ft.name]=it,it},app:Ht,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function(Tt){const Ut=Tt.name,Ft=Ut.replace("-compat","");if(oe._registerComponent(Tt)&&"PUBLIC"===Tt.type){const it=(Gn=Ht())=>{if("function"!=typeof Gn[Ft])throw ye.create("invalid-app-argument",{appName:Ut});return Gn[Ft]()};void 0!==Tt.serviceProps&&(0,J.ZB)(it,Tt.serviceProps),ke[Ft]=it,Ve.prototype[Ft]=function(...Gn){return this._getService.bind(this,Ut).apply(this,Tt.multipleInstances?Gn:[])}}return"PUBLIC"===Tt.type?ke[Ft]:null},removeApp:function(Tt){delete et[Tt]},useAsService:function(Tt,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:oe}};function Ht(Tt){if(!(0,J.r3)(et,Tt=Tt||oe._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Tt});return et[Tt]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function(){return Object.keys(et).map(Tt=>et[Tt])}}),Ht.App=Ve,ke}(pe);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:N,extendNamespace:function(ke){(0,J.ZB)(Ve,ke)},createSubscribe:J.ne,ErrorFactory:J.LL,deepExtend:J.ZB}),Ve}(),G=new he.Yd("@firebase/app-compat");if((0,J.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const X=F;(0,oe.registerVersion)("@firebase/app-compat","0.2.5",undefined),X.registerVersion("firebase","9.18.0","app-compat");var xe=k(722);ze=k.hmd(ze);class sn{constructor(et){return et}}const Gr=new g.OlP("angularfire2.app.options"),$n=new g.OlP("angularfire2.app.name"),Oe={provide:sn,useFactory:function(Ve,et,ke){const Ht="object"==typeof ke&&ke||{};Ht.name=Ht.name||"string"==typeof ke&&ke||"[DEFAULT]";const on=X.apps.filter(Qt=>Qt&&Qt.name===Ht.name)[0]||et.runOutsideAngular(()=>X.initializeApp(Ve,Ht));try{JSON.stringify(Ve)!==JSON.stringify(on.options)&&((Ve,...et)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Ve](...et)})("error",`${on.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qt){}return new sn(on)},deps:[Gr,g.R0b,[new g.FiY,$n]]};let wt=(()=>{class Ve{constructor(ke){X.registerVersion("angularfire",xe.q4.full,"core"),X.registerVersion("angularfire",xe.q4.full,"app-compat"),X.registerVersion("angular",g.q4F.full,ke.toString())}static initializeApp(ke,Wt){return{ngModule:Ve,providers:[{provide:Gr,useValue:ke},{provide:$n,useValue:Wt}]}}}return Ve.\u0275fac=function(ke){return new(ke||Ve)(g.LFG(g.Lbi))},Ve.\u0275mod=g.oAB({type:Ve}),Ve.\u0275inj=g.cJS({providers:[Oe]}),Ve})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},722:(ze,de,k)=>{"use strict";k.d(de,{q4:()=>Bd,HU:()=>Hd,vb:()=>vu,JM:()=>$d,u3:()=>ts});var g=k(639),J=k(213),Z=k(239),oe=k(26),he=k(854),pe=k(910),ve=k(422),ye=k(782);const te="@firebase/installations",N="0.6.4",G=`w:${N}`,ne="FIS_v2",xe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(b){return b instanceof he.ZR&&b.code.includes("request-failed")}function Rn({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function xr(b){return{token:b.token,requestStatus:2,expiresIn:wt(b.expiresIn),creationTime:Date.now()}}function sn(b,E){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Z.Z)(function*(b,E){const S=(yield E.json()).error;return xe.create("request-failed",{requestName:b,serverCode:S.code,serverMessage:S.message,serverStatus:S.status})})).apply(this,arguments)}function $n({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ie(b,{refreshToken:E}){const T=$n(b);return T.append("Authorization",function(b){return`${ne} ${b}`}(E)),T}function _e(b){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,Z.Z)(function*(b){const E=yield b();return E.status>=500&&E.status<600?b():E})).apply(this,arguments)}function wt(b){return Number(b.replace("s","000"))}function dt(b,E){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:E},{fid:T}){const S=Rn(b),V=$n(b),B=E.getImmediate({optional:!0});if(B){const He=yield B.getHeartbeatsHeader();He&&V.append("x-firebase-client",He)}const Re={method:"POST",headers:V,body:JSON.stringify({fid:T,authVersion:ne,appId:b.appId,sdkVersion:G})},Fe=yield _e(()=>fetch(S,Re));if(Fe.ok){const He=yield Fe.json();return{fid:He.fid||T,registrationStatus:2,refreshToken:He.refreshToken,authToken:xr(He.authToken)}}throw yield sn("Create Installation",Fe)})).apply(this,arguments)}function si(b){return new Promise(E=>{setTimeout(E,b)})}const et=/^[cdef][\w-]{21}$/;function Wt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const T=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return et.test(T)?T:""}catch(b){return""}}function Yt(b){return`${b.appName}!${b.appId}`}const on=new Map;function Qt(b,E){const T=Yt(b);Ut(T,E),function(b,E){const T=(!it&&"BroadcastChannel"in self&&(it=new BroadcastChannel("[Firebase] FID Change"),it.onmessage=b=>{Ut(b.data.key,b.data.fid)}),it);T&&T.postMessage({key:b,fid:E}),0===on.size&&it&&(it.close(),it=null)}(T,E)}function Ut(b,E){const T=on.get(b);if(T)for(const S of T)S(E)}let it=null;const Ci="firebase-installations-store";let zi=null;function wr(){return zi||(zi=(0,ye.X3)("firebase-installations-database",1,{upgrade:(b,E)=>{0===E&&b.createObjectStore(Ci)}})),zi}function hs(b,E){return yn.apply(this,arguments)}function yn(){return(yn=(0,Z.Z)(function*(b,E){const T=Yt(b),V=(yield wr()).transaction(Ci,"readwrite"),B=V.objectStore(Ci),ce=yield B.get(T);return yield B.put(E,T),yield V.done,(!ce||ce.fid!==E.fid)&&Qt(b,E.fid),E})).apply(this,arguments)}function Wi(b){return po.apply(this,arguments)}function po(){return(po=(0,Z.Z)(function*(b){const E=Yt(b),S=(yield wr()).transaction(Ci,"readwrite");yield S.objectStore(Ci).delete(E),yield S.done})).apply(this,arguments)}function oi(b,E){return js.apply(this,arguments)}function js(){return(js=(0,Z.Z)(function*(b,E){const T=Yt(b),V=(yield wr()).transaction(Ci,"readwrite"),B=V.objectStore(Ci),ce=yield B.get(T),Re=E(ce);return void 0===Re?yield B.delete(T):yield B.put(Re,T),yield V.done,Re&&(!ce||ce.fid!==Re.fid)&&Qt(b,Re.fid),Re})).apply(this,arguments)}function Ii(b){return ai.apply(this,arguments)}function ai(){return(ai=(0,Z.Z)(function*(b){let E;const T=yield oi(b.appConfig,S=>{const V=We(S),B=an(b,V);return E=B.registrationPromise,B.installationEntry});return""===T.fid?{installationEntry:yield E}:{installationEntry:T,registrationPromise:E}})).apply(this,arguments)}function We(b){return Hn(b||{fid:Wt(),registrationStatus:0})}function an(b,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(xe.create("app-offline"))};const T={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},S=function(b,E){return Ze.apply(this,arguments)}(b,T);return{installationEntry:T,registrationPromise:S}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Ki(b)}:{installationEntry:E}}function Ze(){return(Ze=(0,Z.Z)(function*(b,E){try{const T=yield dt(b,E);return hs(b.appConfig,T)}catch(T){throw we(T)&&409===T.customData.serverCode?yield Wi(b.appConfig):yield hs(b.appConfig,{fid:E.fid,registrationStatus:0}),T}})).apply(this,arguments)}function Ki(b){return fs.apply(this,arguments)}function fs(){return(fs=(0,Z.Z)(function*(b){let E=yield hn(b.appConfig);for(;1===E.registrationStatus;)yield si(100),E=yield hn(b.appConfig);if(0===E.registrationStatus){const{installationEntry:T,registrationPromise:S}=yield Ii(b);return S||T}return E})).apply(this,arguments)}function hn(b){return oi(b,E=>{if(!E)throw xe.create("installation-not-found");return Hn(E)})}function Hn(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Dc(b,E){return pt.apply(this,arguments)}function pt(){return(pt=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:E},T){const S=Ac(b,T),V=ie(b,T),B=E.getImmediate({optional:!0});if(B){const He=yield B.getHeartbeatsHeader();He&&V.append("x-firebase-client",He)}const Re={method:"POST",headers:V,body:JSON.stringify({installation:{sdkVersion:G,appId:b.appId}})},Fe=yield _e(()=>fetch(S,Re));if(Fe.ok)return xr(yield Fe.json());throw yield sn("Generate Auth Token",Fe)})).apply(this,arguments)}function Ac(b,{fid:E}){return`${Rn(b)}/${E}/authTokens:generate`}function Lt(b){return go.apply(this,arguments)}function go(){return(go=(0,Z.Z)(function*(b,E=!1){let T;const S=yield oi(b.appConfig,B=>{if(!Ge(B))throw xe.create("not-registered");const ce=B.authToken;if(!E&&Pn(ce))return B;if(1===ce.requestStatus)return T=Se(b,E),B;{if(!navigator.onLine)throw xe.create("app-offline");const Re=O(B);return T=Dt(b,Re),Re}});return T?yield T:S.authToken})).apply(this,arguments)}function Se(b,E){return ee.apply(this,arguments)}function ee(){return(ee=(0,Z.Z)(function*(b,E){let T=yield Me(b.appConfig);for(;1===T.authToken.requestStatus;)yield si(100),T=yield Me(b.appConfig);const S=T.authToken;return 0===S.requestStatus?Lt(b,E):S})).apply(this,arguments)}function Me(b){return oi(b,E=>{if(!Ge(E))throw xe.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Dt(b,E){return At.apply(this,arguments)}function At(){return(At=(0,Z.Z)(function*(b,E){try{const T=yield Dc(b,E),S=Object.assign(Object.assign({},E),{authToken:T});return yield hs(b.appConfig,S),T}catch(T){if(!we(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const S=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield hs(b.appConfig,S)}else yield Wi(b.appConfig);throw T}})).apply(this,arguments)}function Ge(b){return void 0!==b&&2===b.registrationStatus}function Pn(b){return 2===b.requestStatus&&!function(b){const E=Date.now();return E<b.creationTime||b.creationTime+b.expiresIn<E+36e5}(b)}function O(b){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:E})}function q(){return(q=(0,Z.Z)(function*(b){const E=b,{installationEntry:T,registrationPromise:S}=yield Ii(E);return S?S.catch(console.error):Lt(E).catch(console.error),T.fid})).apply(this,arguments)}function gt(){return(gt=(0,Z.Z)(function*(b,E=!1){const T=b;return yield Jt(T),(yield Lt(T,E)).token})).apply(this,arguments)}function Jt(b){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Z.Z)(function*(b){const{registrationPromise:E}=yield Ii(b);E&&(yield E)})).apply(this,arguments)}function On(b){return xe.create("missing-app-config-values",{valueName:b})}const gs="installations";(0,oe._registerComponent)(new pe.wA(gs,b=>{const E=b.getProvider("app").getImmediate(),T=function(b){if(!b||!b.options)throw On("App Configuration");if(!b.name)throw On("App Name");const E=["projectId","apiKey","appId"];for(const T of E)if(!b.options[T])throw On(T);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(E);return{app:E,appConfig:T,heartbeatServiceProvider:(0,oe._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,oe._registerComponent)(new pe.wA("installations-internal",b=>{const E=b.getProvider("app").getImmediate(),T=(0,oe._getProvider)(E,gs).getImmediate();return{getId:()=>function(b){return q.apply(this,arguments)}(T),getToken:V=>function(b){return gt.apply(this,arguments)}(T,V)}},"PRIVATE")),(0,oe.registerVersion)(te,N),(0,oe.registerVersion)(te,N,"esm2017");const Ie="@firebase/remote-config",Bt=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Sc{constructor(E,T,S,V){this.client=E,this.storage=T,this.storageCache=S,this.logger=V}isCachedDataFresh(E,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const S=Date.now()-T,V=S<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${S}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${V}.`),V}fetch(E){var T=this;return(0,Z.Z)(function*(){const[S,V]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(V&&T.isCachedDataFresh(E.cacheMaxAgeMillis,S))return V;E.eTag=V&&V.eTag;const B=yield T.client.fetch(E),ce=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===B.status&&ce.push(T.storage.setLastSuccessfulFetchResponse(B)),yield Promise.all(ce),B})()}}function ea(b=navigator){return b.languages&&b.languages[0]||b.language}class en{constructor(E,T,S,V,B,ce){this.firebaseInstallations=E,this.sdkVersion=T,this.namespace=S,this.projectId=V,this.apiKey=B,this.appId=ce}fetch(E){var T=this;return(0,Z.Z)(function*(){const[S,V]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Fe={sdk_version:T.sdkVersion,app_instance_id:S,app_instance_id_token:V,app_id:T.appId,language_code:ea()},He={method:"POST",headers:Re,body:JSON.stringify(Fe)},yt=fetch(ce,He),at=new Promise((Pi,ns)=>{E.signal.addEventListener(()=>{const bu=new Error("The operation was aborted.");bu.name="AbortError",ns(bu)})});let Ri;try{yield Promise.race([yt,at]),Ri=yield yt}catch(Pi){let ns="fetch-client-network";throw"AbortError"===(null==Pi?void 0:Pi.name)&&(ns="fetch-timeout"),Bt.create(ns,{originalErrorMessage:null==Pi?void 0:Pi.message})}let In=Ri.status;const eo=Ri.headers.get("ETag")||void 0;let zd,to;if(200===Ri.status){let Pi;try{Pi=yield Ri.json()}catch(ns){throw Bt.create("fetch-client-parse",{originalErrorMessage:null==ns?void 0:ns.message})}zd=Pi.entries,to=Pi.state}if("INSTANCE_STATE_UNSPECIFIED"===to?In=500:"NO_CHANGE"===to?In=304:("NO_TEMPLATE"===to||"EMPTY_CONFIG"===to)&&(zd={}),304!==In&&200!==In)throw Bt.create("fetch-status",{httpStatus:In});return{status:In,eTag:eo,config:zd}})()}}class Ti{constructor(E,T){this.client=E,this.storage=T}fetch(E){var T=this;return(0,Z.Z)(function*(){const S=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(E,S)})()}attemptFetch(E,{throttleEndTimeMillis:T,backoffCount:S}){var V=this;return(0,Z.Z)(function*(){yield function(b,E){return new Promise((T,S)=>{const V=Math.max(E-Date.now(),0),B=setTimeout(T,V);b.addEventListener(()=>{clearTimeout(B),S(Bt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,T);try{const B=yield V.client.fetch(E);return yield V.storage.deleteThrottleMetadata(),B}catch(B){if(!function(b){if(!(b instanceof he.ZR&&b.customData))return!1;const E=Number(b.customData.httpStatus);return 429===E||500===E||503===E||504===E}(B))throw B;const ce={throttleEndTimeMillis:Date.now()+(0,he.$s)(S),backoffCount:S+1};return yield V.storage.setThrottleMetadata(ce),V.attemptFetch(E,ce)}})()}}class Mc{constructor(E,T,S,V,B){this.app=E,this._client=T,this._storageCache=S,this._storage=V,this._logger=B,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mr(b,E){const T=b.target.error||void 0;return Bt.create(E,{originalErrorMessage:T&&(null==T?void 0:T.message)})}const vo="app_namespace_store";class v0{constructor(E,T,S,V=function(){return new Promise((b,E)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=S=>{E(Mr(S,"storage-open"))},T.onsuccess=S=>{b(S.target.result)},T.onupgradeneeded=S=>{0===S.oldVersion&&S.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(T){E(Bt.create("storage-open",{originalErrorMessage:null==T?void 0:T.message}))}})}()){this.appId=E,this.appName=T,this.namespace=S,this.openDbPromise=V}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var T=this;return(0,Z.Z)(function*(){const S=yield T.openDbPromise;return new Promise((V,B)=>{const Re=S.transaction([vo],"readonly").objectStore(vo),Fe=T.createCompositeKey(E);try{const He=Re.get(Fe);He.onerror=yt=>{B(Mr(yt,"storage-get"))},He.onsuccess=yt=>{const at=yt.target.result;V(at?at.value:void 0)}}catch(He){B(Bt.create("storage-get",{originalErrorMessage:null==He?void 0:He.message}))}})})()}set(E,T){var S=this;return(0,Z.Z)(function*(){const V=yield S.openDbPromise;return new Promise((B,ce)=>{const Fe=V.transaction([vo],"readwrite").objectStore(vo),He=S.createCompositeKey(E);try{const yt=Fe.put({compositeKey:He,value:T});yt.onerror=at=>{ce(Mr(at,"storage-set"))},yt.onsuccess=()=>{B()}}catch(yt){ce(Bt.create("storage-set",{originalErrorMessage:null==yt?void 0:yt.message}))}})})()}delete(E){var T=this;return(0,Z.Z)(function*(){const S=yield T.openDbPromise;return new Promise((V,B)=>{const Re=S.transaction([vo],"readwrite").objectStore(vo),Fe=T.createCompositeKey(E);try{const He=Re.delete(Fe);He.onerror=yt=>{B(Mr(yt,"storage-delete"))},He.onsuccess=()=>{V()}}catch(He){B(Bt.create("storage-delete",{originalErrorMessage:null==He?void 0:He.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class E0{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,Z.Z)(function*(){const T=E.storage.getLastFetchStatus(),S=E.storage.getLastSuccessfulFetchTimestampMillis(),V=E.storage.getActiveConfig(),B=yield T;B&&(E.lastFetchStatus=B);const ce=yield S;ce&&(E.lastSuccessfulFetchTimestampMillis=ce);const Re=yield V;Re&&(E.activeConfig=Re)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function vy(){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,Z.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,oe._registerComponent)(new pe.wA("remote-config",function(E,{instanceIdentifier:T}){const S=E.getProvider("app").getImmediate(),V=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bt.create("registration-window");if(!(0,he.hl)())throw Bt.create("indexed-db-unavailable");const{projectId:B,apiKey:ce,appId:Re}=S.options;if(!B)throw Bt.create("registration-project-id");if(!ce)throw Bt.create("registration-api-key");if(!Re)throw Bt.create("registration-app-id");const Fe=new v0(Re,S.name,T=T||"firebase"),He=new E0(Fe),yt=new ve.Yd(Ie);yt.logLevel=ve.in.ERROR;const at=new en(V,oe.SDK_VERSION,T,B,ce,Re),Ri=new Ti(at,Fe),In=new Sc(Ri,Fe,He,yt),eo=new Mc(S,In,He,Fe,yt);return function(b){const E=(0,he.m9)(b);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(eo),eo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ie,"0.4.4"),(0,oe.registerVersion)(Ie,"0.4.4","esm2017");const w0="/firebase-messaging-sw.js",Ey="/firebase-cloud-messaging-push-scope",md="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",by="google.c.a.c_id",yA="google.c.a.c_l",C0="google.c.a.ts",yd="google.c.a.e";var au=(()=>{return(b=au||(au={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",au;var b})();function Hs(b){const E=new Uint8Array(b);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _A(b){const T=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),S=atob(T),V=new Uint8Array(S.length);for(let B=0;B<S.length;++B)V[B]=S.charCodeAt(B);return V}const qs="fcm_token_details_db",_d="fcm_token_object_Store";function Cy(b){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,Z.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(B=>B.name).includes(qs))return null;let E=null;return(yield(0,ye.X3)(qs,5,{upgrade:(S=(0,Z.Z)(function*(V,B,ce,Re){var Fe;if(B<2||!V.objectStoreNames.contains(_d))return;const He=Re.objectStore(_d),yt=yield He.index("fcmSenderId").get(b);if(yield He.clear(),yt)if(2===B){const at=yt;if(!at.auth||!at.p256dh||!at.endpoint)return;E={token:at.fcmToken,createTime:null!==(Fe=at.createTime)&&void 0!==Fe?Fe:Date.now(),subscriptionOptions:{auth:at.auth,p256dh:at.p256dh,endpoint:at.endpoint,swScope:at.swScope,vapidKey:"string"==typeof at.vapidKey?at.vapidKey:Hs(at.vapidKey)}}}else if(3===B){const at=yt;E={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:Hs(at.auth),p256dh:Hs(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:Hs(at.vapidKey)}}}else if(4===B){const at=yt;E={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:Hs(at.auth),p256dh:Hs(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:Hs(at.vapidKey)}}}}),function(B,ce,Re,Fe){return S.apply(this,arguments)})})).close(),yield(0,ye.Lj)(qs),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Iy(E)?E:null;var S}),Nc.apply(this,arguments)}function Iy(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:E}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const ta="firebase-messaging-store";let uu=null;function Ed(){return uu||(uu=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(b,E)=>{0===E&&b.createObjectStore(ta)}})),uu}function Tr(b){return zs.apply(this,arguments)}function zs(){return(zs=(0,Z.Z)(function*(b){const E=np(b),S=yield(yield Ed()).transaction(ta).objectStore(ta).get(E);if(S)return S;{const V=yield Cy(b.appConfig.senderId);if(V)return yield Rc(b,V),V}})).apply(this,arguments)}function Rc(b,E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Z.Z)(function*(b,E){const T=np(b),V=(yield Ed()).transaction(ta,"readwrite");return yield V.objectStore(ta).put(E,T),yield V.done,E})).apply(this,arguments)}function Ty(b){return na.apply(this,arguments)}function na(){return(na=(0,Z.Z)(function*(b){const E=np(b),S=(yield Ed()).transaction(ta,"readwrite");yield S.objectStore(ta).delete(E),yield S.done})).apply(this,arguments)}function np({appConfig:b}){return b.appId}const Qn=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rp(b,E){return bd.apply(this,arguments)}function bd(){return(bd=(0,Z.Z)(function*(b,E){const T=yield wd(b),S=Eo(E),V={method:"POST",headers:T,body:JSON.stringify(S)};let B;try{B=yield(yield fetch(Nr(b.appConfig),V)).json()}catch(ce){throw Qn.create("token-subscribe-failed",{errorInfo:null==ce?void 0:ce.toString()})}if(B.error)throw Qn.create("token-subscribe-failed",{errorInfo:B.error.message});if(!B.token)throw Qn.create("token-subscribe-no-token");return B.token})).apply(this,arguments)}function kn(b,E){return ip.apply(this,arguments)}function ip(){return(ip=(0,Z.Z)(function*(b,E){const T=yield wd(b),S=Eo(E.subscriptionOptions),V={method:"PATCH",headers:T,body:JSON.stringify(S)};let B;try{B=yield(yield fetch(`${Nr(b.appConfig)}/${E.token}`,V)).json()}catch(ce){throw Qn.create("token-update-failed",{errorInfo:null==ce?void 0:ce.toString()})}if(B.error)throw Qn.create("token-update-failed",{errorInfo:B.error.message});if(!B.token)throw Qn.create("token-update-no-token");return B.token})).apply(this,arguments)}function I0(b,E){return ys.apply(this,arguments)}function ys(){return(ys=(0,Z.Z)(function*(b,E){const S={method:"DELETE",headers:yield wd(b)};try{const B=yield(yield fetch(`${Nr(b.appConfig)}/${E}`,S)).json();if(B.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:B.error.message})}catch(V){throw Qn.create("token-unsubscribe-failed",{errorInfo:null==V?void 0:V.toString()})}})).apply(this,arguments)}function Nr({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function wd(b){return cu.apply(this,arguments)}function cu(){return(cu=(0,Z.Z)(function*({appConfig:b,installations:E}){const T=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Eo({p256dh:b,auth:E,endpoint:T,vapidKey:S}){const V={web:{endpoint:T,auth:E,p256dh:b}};return S!==md&&(V.web.applicationPubKey=S),V}const Rr=6048e5;function sp(b){return lu.apply(this,arguments)}function lu(){return(lu=(0,Z.Z)(function*(b){const E=yield up(b.swRegistration,b.vapidKey),T={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:E.endpoint,auth:Hs(E.getKey("auth")),p256dh:Hs(E.getKey("p256dh"))},S=yield Tr(b.firebaseDependencies);if(S){if(cp(S.subscriptionOptions,T))return Date.now()>=S.createTime+Rr?ap(b,{token:S.token,createTime:Date.now(),subscriptionOptions:T}):S.token;try{yield I0(b.firebaseDependencies,S.token)}catch(V){console.warn(V)}return tt(b.firebaseDependencies,T)}return tt(b.firebaseDependencies,T)})).apply(this,arguments)}function op(b){return _s.apply(this,arguments)}function _s(){return(_s=(0,Z.Z)(function*(b){const E=yield Tr(b.firebaseDependencies);E&&(yield I0(b.firebaseDependencies,E.token),yield Ty(b.firebaseDependencies));const T=yield b.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()})).apply(this,arguments)}function ap(b,E){return vs.apply(this,arguments)}function vs(){return(vs=(0,Z.Z)(function*(b,E){try{const T=yield kn(b.firebaseDependencies,E),S=Object.assign(Object.assign({},E),{token:T,createTime:Date.now()});return yield Rc(b.firebaseDependencies,S),T}catch(T){throw yield op(b),T}})).apply(this,arguments)}function tt(b,E){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,Z.Z)(function*(b,E){const S={token:yield rp(b,E),createTime:Date.now(),subscriptionOptions:E};return yield Rc(b,S),S.token})).apply(this,arguments)}function up(b,E){return bo.apply(this,arguments)}function bo(){return(bo=(0,Z.Z)(function*(b,E){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_A(E)})})).apply(this,arguments)}function cp(b,E){return E.vapidKey===b.vapidKey&&E.endpoint===b.endpoint&&E.auth===b.auth&&E.p256dh===b.p256dh}function du(b){const E={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function(b,E){if(!E.notification)return;b.notification={};const T=E.notification.title;T&&(b.notification.title=T);const S=E.notification.body;S&&(b.notification.body=S);const V=E.notification.image;V&&(b.notification.image=V);const B=E.notification.icon;B&&(b.notification.icon=B)}(E,b),function(b,E){!E.data||(b.data=E.data)}(E,b),function(b,E){var T,S,V,B,ce;if(!E.fcmOptions&&!(null===(T=E.notification)||void 0===T?void 0:T.click_action))return;b.fcmOptions={};const Re=null!==(V=null===(S=E.fcmOptions)||void 0===S?void 0:S.link)&&void 0!==V?V:null===(B=E.notification)||void 0===B?void 0:B.click_action;Re&&(b.fcmOptions.link=Re);const Fe=null===(ce=E.fcmOptions)||void 0===ce?void 0:ce.analytics_label;Fe&&(b.fcmOptions.analyticsLabel=Fe)}(E,b),E}function Ot(b){return"object"==typeof b&&!!b&&by in b}function Id(b,E){const T=[];for(let S=0;S<b.length;S++)T.push(b.charAt(S)),S<E.length&&T.push(E.charAt(S));return T.join("")}function Oc(b){return Qn.create("missing-app-config-values",{valueName:b})}Id("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Id("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ks{constructor(E,T,S){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const V=function(b){if(!b||!b.options)throw Oc("App Configuration Object");if(!b.name)throw Oc("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:T}=b;for(const S of E)if(!T[S])throw Oc(S);return{appName:b.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:V,installations:T,analyticsProvider:S}}_delete(){return Promise.resolve()}}function hi(b){return kc.apply(this,arguments)}function kc(){return(kc=(0,Z.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(w0,{scope:Ey}),b.swRegistration.update().catch(()=>{})}catch(E){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:null==E?void 0:E.message})}})).apply(this,arguments)}function ra(b,E){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,Z.Z)(function*(b,E){if(!E&&!b.swRegistration&&(yield hi(b)),E||!b.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");b.swRegistration=E}})).apply(this,arguments)}function T0(b,E){return ia.apply(this,arguments)}function ia(){return(ia=(0,Z.Z)(function*(b,E){E?b.vapidKey=E:b.vapidKey||(b.vapidKey=md)})).apply(this,arguments)}function sr(){return(sr=(0,Z.Z)(function*(b,E){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield T0(b,null==E?void 0:E.vapidKey),yield ra(b,null==E?void 0:E.serviceWorkerRegistration),sp(b)})).apply(this,arguments)}function Qi(b,E,T){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,Z.Z)(function*(b,E,T){const S=oa(E);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(S,{message_id:T[by],message_name:T[yA],message_time:T[C0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oa(b){switch(b){case au.NOTIFICATION_CLICKED:return"notification_open";case au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vc(){return(Vc=(0,Z.Z)(function*(b,E){const T=E.data;if(!T.isFirebaseMessaging)return;b.onMessageHandler&&T.messageType===au.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(du(T)):b.onMessageHandler.next(du(T)));const S=T.data;Ot(S)&&"1"===S[yd]&&(yield Qi(b,T.messageType,S))})).apply(this,arguments)}const Td="@firebase/messaging";function fp(){return aa.apply(this,arguments)}function aa(){return(aa=(0,Z.Z)(function*(){try{yield(0,he.eu)()}catch(b){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,oe._registerComponent)(new pe.wA("messaging",b=>{const E=new Ks(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function(b,E){return Vc.apply(this,arguments)}(E,T)),E},"PUBLIC")),(0,oe._registerComponent)(new pe.wA("messaging-internal",b=>{const E=b.getProvider("messaging").getImmediate();return{getToken:S=>function(b,E){return sr.apply(this,arguments)}(E,S)}},"PRIVATE")),(0,oe.registerVersion)(Td,"0.12.4"),(0,oe.registerVersion)(Td,"0.12.4","esm2017");const Bc="analytics",Sy="firebase_id",cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xd="https://www.googletagmanager.com/gtag/js",ar=new ve.Yd("@firebase/analytics");function Md(b){return Promise.all(b.map(E=>E.catch(T=>T)))}function xy(b,E){const T=document.createElement("script");T.src=`${xd}?l=${b}&id=${E}`,T.async=!0,document.head.appendChild(T)}function x0(b,E,T,S,V,B){return fu.apply(this,arguments)}function fu(){return(fu=(0,Z.Z)(function*(b,E,T,S,V,B){const ce=S[V];try{if(ce)yield E[ce];else{const Fe=(yield Md(T)).find(He=>He.measurementId===V);Fe&&(yield E[Fe.appId])}}catch(Re){ar.error(Re)}b("config",V,B)})).apply(this,arguments)}function jc(b,E,T,S,V){return ua.apply(this,arguments)}function ua(){return(ua=(0,Z.Z)(function*(b,E,T,S,V){try{let B=[];if(V&&V.send_to){let ce=V.send_to;Array.isArray(ce)||(ce=[ce]);const Re=yield Md(T);for(const Fe of ce){const He=Re.find(at=>at.measurementId===Fe),yt=He&&E[He.appId];if(!yt){B=[];break}B.push(yt)}}0===B.length&&(B=Object.values(E)),yield Promise.all(B),b("event",S,V||{})}catch(B){ar.error(B)}})).apply(this,arguments)}function M0(b){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(xd)&&T.src.includes(b))return T;return null}const hr=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gc=new class{constructor(E={},T=1e3){this.throttleMetadata=E,this.intervalMillis=T}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,T){this.throttleMetadata[E]=T}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Ry(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Rd(b){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,Z.Z)(function*(b){var E;const{appId:T,apiKey:S}=b,V={method:"GET",headers:Ry(S)},B=cn.replace("{app-id}",T),ce=yield fetch(B,V);if(200!==ce.status&&304!==ce.status){let Re="";try{const Fe=yield ce.json();(null===(E=Fe.error)||void 0===E?void 0:E.message)&&(Re=Fe.error.message)}catch(Fe){}throw hr.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:Re})}return ce.json()})).apply(this,arguments)}function vA(b){return pu.apply(this,arguments)}function pu(){return(pu=(0,Z.Z)(function*(b,E=Gc,T){const{appId:S,apiKey:V,measurementId:B}=b.options;if(!S)throw hr.create("no-app-id");if(!V){if(B)return{measurementId:B,appId:S};throw hr.create("no-api-key")}const ce=E.getThrottleMetadata(S)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Py;return setTimeout((0,Z.Z)(function*(){Re.abort()}),void 0!==T?T:6e4),pp({appId:S,apiKey:V,measurementId:B},ce,Re,E)})).apply(this,arguments)}function pp(b,E,T){return gu.apply(this,arguments)}function gu(){return(gu=(0,Z.Z)(function*(b,{throttleEndTimeMillis:E,backoffCount:T},S,V=Gc){var B;const{appId:ce,measurementId:Re}=b;try{yield Od(S,E)}catch(Fe){if(Re)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${null==Fe?void 0:Fe.message}]`),{appId:ce,measurementId:Re};throw Fe}try{const Fe=yield Rd(b);return V.deleteThrottleMetadata(ce),Fe}catch(Fe){const He=Fe;if(!gp(He)){if(V.deleteThrottleMetadata(ce),Re)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${null==He?void 0:He.message}]`),{appId:ce,measurementId:Re};throw Fe}const yt=503===Number(null===(B=null==He?void 0:He.customData)||void 0===B?void 0:B.httpStatus)?(0,he.$s)(T,V.intervalMillis,30):(0,he.$s)(T,V.intervalMillis),at={throttleEndTimeMillis:Date.now()+yt,backoffCount:T+1};return V.setThrottleMetadata(ce,at),ar.debug(`Calling attemptFetch again in ${yt} millis`),pp(b,at,S,V)}})).apply(this,arguments)}function Od(b,E){return new Promise((T,S)=>{const V=Math.max(E-Date.now(),0),B=setTimeout(T,V);b.addEventListener(()=>{clearTimeout(B),S(hr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function gp(b){if(!(b instanceof he.ZR&&b.customData))return!1;const E=Number(b.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Py{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let wo,zr;function Qs(){return(Qs=(0,Z.Z)(function*(b,E,T,S,V){if(V&&V.global)b("event",T,S);else{const B=yield E;b("event",T,Object.assign(Object.assign({},S),{send_to:B}))}})).apply(this,arguments)}function Hc(b){zr=b}function mu(b){wo=b}function qc(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Z.Z)(function*(){if(!(0,he.hl)())return ar.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(b){return ar.warn(hr.create("indexeddb-unavailable",{errorInfo:null==b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function zc(){return(zc=(0,Z.Z)(function*(b,E,T,S,V,B,ce){var Re;const Fe=vA(b);Fe.then(In=>{T[In.measurementId]=In.appId,b.options.measurementId&&In.measurementId!==b.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>ar.error(In)),E.push(Fe);const He=qc().then(In=>{if(In)return S.getId()}),[yt,at]=yield Promise.all([Fe,He]);M0(B)||xy(B,yt.measurementId),zr&&(V("consent","default",zr),Hc(void 0)),V("js",new Date);const Ri=null!==(Re=null==ce?void 0:ce.config)&&void 0!==Re?Re:{};return Ri.origin="firebase",Ri.update=!0,null!=at&&(Ri[Sy]=at),V("config",yt.measurementId,Ri),wo&&(V("set",wo),mu(void 0)),yt.measurementId})).apply(this,arguments)}class kd{constructor(E){this.app=E}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},Ep=[];const bp={};let yu,Xi,ca="dataLayer",la=!1;function Ld(b,E,T){!function(){const b=[];if((0,he.ru)()&&b.push("This is a browser extension environment."),(0,he.zI)()||b.push("Cookies are not available."),b.length>0){const E=b.map((S,V)=>`(${V+1}) ${S}`).join(" "),T=hr.create("invalid-analytics-context",{errorInfo:E});ar.warn(T.message)}}();const S=b.options.appId;if(!S)throw hr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw hr.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ji[S])throw hr.create("already-exists",{id:S});if(!la){!function(b){let E=[];Array.isArray(window[b])?E=window[b]:window[b]=E}(ca);const{wrappedGtag:B,gtagCore:ce}=function(b,E,T,S,V){let B=function(...ce){window[S].push(arguments)};return window[V]&&"function"==typeof window[V]&&(B=window[V]),window[V]=function(b,E,T,S){function B(){return(B=(0,Z.Z)(function*(ce,Re,Fe){try{"event"===ce?yield jc(b,E,T,Re,Fe):"config"===ce?yield x0(b,E,T,S,Re,Fe):"consent"===ce?b("consent","update",Fe):b("set",Re)}catch(He){ar.error(He)}})).apply(this,arguments)}return function(ce,Re,Fe){return B.apply(this,arguments)}}(B,b,E,T),{gtagCore:B,wrappedGtag:window[V]}}(Ji,Ep,bp,ca,"gtag");Xi=B,yu=ce,la=!0}return Ji[S]=function(b,E,T,S,V,B,ce){return zc.apply(this,arguments)}(b,Ep,bp,E,yu,ca,T),new kd(b)}function Wr(){return Js.apply(this,arguments)}function Js(){return(Js=(0,Z.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(b){return!1}})).apply(this,arguments)}const Vd="@firebase/analytics";(0,oe._registerComponent)(new pe.wA(Bc,(E,{options:T})=>Ld(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,oe._registerComponent)(new pe.wA("analytics-internal",function(E){try{const T=E.getProvider(Bc).getImmediate();return{logEvent:(S,V,B)=>function(b,E,T,S){b=(0,he.m9)(b),function(b,E,T,S,V){return Qs.apply(this,arguments)}(Xi,Ji[b.app.options.appId],E,T,S).catch(V=>ar.error(V))}(T,S,V,B)}}catch(T){throw hr.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,oe.registerVersion)(Vd,"0.9.4"),(0,oe.registerVersion)(Vd,"0.9.4","esm2017");var Io=k(319);class P0 extends Io.w{constructor(E,T){super()}schedule(E,T=0){return this}}class wp extends P0{constructor(E,T){super(E,T),this.scheduler=E,this.work=T,this.pending=!1}schedule(E,T=0){if(this.closed)return this;this.state=E;const S=this.id,V=this.scheduler;return null!=S&&(this.id=this.recycleAsyncId(V,S,T)),this.pending=!0,this.delay=T,this.id=this.id||this.requestAsyncId(V,this.id,T),this}requestAsyncId(E,T,S=0){return setInterval(E.flush.bind(E,this),S)}recycleAsyncId(E,T,S=0){if(null!==S&&this.delay===S&&!1===this.pending)return T;clearInterval(T)}execute(E,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(E,T);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,T){let V,S=!1;try{this.work(E)}catch(B){S=!0,V=!!B&&B||new Error(B)}if(S)return this.unsubscribe(),V}_unsubscribe(){const E=this.id,T=this.scheduler,S=T.actions,V=S.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==V&&S.splice(V,1),null!=E&&(this.id=this.recycleAsyncId(T,E,null)),this.delay=null}}let Vy=(()=>{class b{constructor(T,S=b.now){this.SchedulerAction=T,this.now=S}schedule(T,S=0,V){return new this.SchedulerAction(this,T).schedule(V,S)}}return b.now=()=>Date.now(),b})();class Cs extends Vy{constructor(E,T=Vy.now){super(E,()=>Cs.delegate&&Cs.delegate!==this?Cs.delegate.now():T()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(E,T=0,S){return Cs.delegate&&Cs.delegate!==this?Cs.delegate.schedule(E,T,S):super.schedule(E,T,S)}flush(E){const{actions:T}=this;if(this.active)return void T.push(E);let S;this.active=!0;do{if(S=E.execute(E.state,E.delay))break}while(E=T.shift());if(this.active=!1,S){for(;E=T.shift();)E.unsubscribe();throw S}}}const Kc=new class extends Cs{}(class extends wp{constructor(E,T){super(E,T),this.scheduler=E,this.work=T}schedule(E,T=0){return T>0?super.schedule(E,T):(this.delay=T,this.state=E,this.scheduler.flush(this),this)}execute(E,T){return T>0||this.closed?super.execute(E,T):this._execute(E,T)}requestAsyncId(E,T,S=0){return null!==S&&S>0||null===S&&this.delay>0?super.requestAsyncId(E,T,S):E.flush(this)}}),O0=new Cs(wp);var _u=k(574);let zn=1;const Yc=Promise.resolve(),To={};function Cp(b){return b in To&&(delete To[b],!0)}const Ip={setImmediate(b){const E=zn++;return To[E]=!0,Yc.then(()=>Cp(E)&&b()),E},clearImmediate(b){Cp(b)}},En=new class extends Cs{flush(E){this.active=!0,this.scheduled=void 0;const{actions:T}=this;let S,V=-1,B=T.length;E=E||T.shift();do{if(S=E.execute(E.state,E.delay))break}while(++V<B&&(E=T.shift()));if(this.active=!1,S){for(;++V<B&&(E=T.shift());)E.unsubscribe();throw S}}}(class extends wp{constructor(E,T){super(E,T),this.scheduler=E,this.work=T}requestAsyncId(E,T,S=0){return null!==S&&S>0?super.requestAsyncId(E,T,S):(E.actions.push(this),E.scheduled||(E.scheduled=Ip.setImmediate(E.flush.bind(E,null))))}recycleAsyncId(E,T,S=0){if(null!==S&&S>0||null===S&&this.delay>0)return super.recycleAsyncId(E,T,S);0===E.actions.length&&(Ip.clearImmediate(T),E.scheduled=void 0)}});var Tp=k(796);class Jc extends _u.y{constructor(E,T=0,S=En){var b;super(),this.source=E,this.delayTime=T,this.scheduler=S,(!(!(0,Tp.k)(b=T)&&b-parseFloat(b)+1>=0)||T<0)&&(this.delayTime=0),(!S||"function"!=typeof S.schedule)&&(this.scheduler=En)}static create(E,T=0,S=En){return new Jc(E,T,S)}static dispatch(E){const{source:T,subscriber:S}=E;return this.add(T.subscribe(S))}_subscribe(E){return this.scheduler.schedule(Jc.dispatch,this.delayTime,{source:this.source,subscriber:E})}}function jy(b,E=0){return function(S){return S.lift(new k0(b,E))}}class k0{constructor(E,T){this.scheduler=E,this.delay=T}call(E,T){return new Jc(T,this.delay,this.scheduler).subscribe(E)}}var es=k(393),Dr=k(193),Do=k(917);class gi{constructor(E,T,S){this.kind=E,this.value=T,this.error=S,this.hasValue="N"===E}observe(E){switch(this.kind){case"N":return E.next&&E.next(this.value);case"E":return E.error&&E.error(this.error);case"C":return E.complete&&E.complete()}}do(E,T,S){switch(this.kind){case"N":return E&&E(this.value);case"E":return T&&T(this.error);case"C":return S&&S()}}accept(E,T,S){return E&&"function"==typeof E.next?this.observe(E):this.do(E,T,S)}toObservable(){switch(this.kind){case"N":return(0,Do.of)(this.value);case"E":return b=this.error,new _u.y(T=>T.error(b));case"C":return(0,Dr.c)()}var b;throw new Error("unexpected notification kind value")}static createNext(E){return void 0!==E?new gi("N",E):gi.undefinedValueNotification}static createError(E){return new gi("E",void 0,E)}static createComplete(){return gi.completeNotification}}function Dp(b,E=0){return function(S){return S.lift(new Gy(b,E))}}gi.completeNotification=new gi("C"),gi.undefinedValueNotification=new gi("N",void 0);class Gy{constructor(E,T=0){this.scheduler=E,this.delay=T}call(E,T){return T.subscribe(new Ud(E,this.scheduler,this.delay))}}class Ud extends es.L{constructor(E,T,S=0){super(E),this.scheduler=T,this.delay=S}static dispatch(E){const{notification:T,destination:S}=E;T.observe(S),this.unsubscribe()}scheduleMessage(E){this.destination.add(this.scheduler.schedule(Ud.dispatch,this.delay,new Ap(E,this.destination)))}_next(E){this.scheduleMessage(gi.createNext(E))}_error(E){this.scheduleMessage(gi.createError(E)),this.unsubscribe()}_complete(){this.scheduleMessage(gi.createComplete()),this.unsubscribe()}}class Ap{constructor(E,T){this.notification=E,this.destination=T}}var ha=k(342);const Bd=new g.GfV("7.5.0"),fa="__angularfire_symbol__analyticsIsSupportedValue",Sp="__angularfire_symbol__analyticsIsSupported",So="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",ut="__angularfire_symbol__messagingIsSupportedValue",jd="__angularfire_symbol__messagingIsSupported";function $d(b,E,T){if(E){if(1===E.length)return E[0];const B=E.filter(ce=>ce.app===T);if(1===B.length)return B[0]}return T.container.getProvider(b).getImmediate({optional:!0})}globalThis[Sp]||(globalThis[Sp]=Wr().then(b=>globalThis[fa]=b).catch(()=>globalThis[fa]=!1)),globalThis[jd]||(globalThis[jd]=fp().then(b=>globalThis[ut]=b).catch(()=>globalThis[ut]=!1)),globalThis[pa]||(globalThis[pa]=vy().then(b=>globalThis[So]=b).catch(()=>globalThis[So]=!1));const vu=(b,E)=>{const T=E?[E]:(0,J.C6)(),S=[];return T.forEach(V=>{V.container.getProvider(b).instances.forEach(ce=>{S.includes(ce)||S.push(ce)})}),S};function Fn(){}class Gd{constructor(E,T=Kc){this.zone=E,this.delegate=T}now(){return this.delegate.now()}schedule(E,T,S){const V=this.zone;return this.delegate.schedule(function(ce){V.runGuarded(()=>{E.apply(this,[ce])})},T,S)}}class Cn{constructor(E){this.zone=E,this.task=null}call(E,T){const S=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fn,{},Fn,Fn)),T.pipe((0,ha.b)({next:S,complete:S,error:S})).subscribe(E).add(S)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hd=(()=>{class b{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Gd(Zone.current)),this.insideAngular=T.run(()=>new Gd(Zone.current,O0)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(T){return new(T||b)(g.LFG(g.R0b))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Eu(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function pn(b){return Eu().ngZone.runOutsideAngular(()=>b())}function Ln(b){return Eu().ngZone.run(()=>b())}function qd(b){return Eu(),function(b){return function(T){return(T=T.lift(new Cn(b.ngZone))).pipe(jy(b.outsideAngular),Dp(b.insideAngular))}}(Eu())(b)}const ga=(b,E)=>{const T=void 0;return function(){const S=arguments;return E&&setTimeout(()=>{"scheduled"===E.state&&E.invoke()},10),Ln(()=>b.apply(T,S))}},ts=(b,E)=>function(){let T;const S=arguments;for(let B=0;B<arguments.length;B++)"function"==typeof S[B]&&(E&&(T||(T=Ln(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fn,{},Fn,Fn)))),S[B]=ga(S[B],T));const V=pn(()=>b.apply(this,S));if(!E){if(V instanceof _u.y){const B=Eu();return V.pipe(jy(B.outsideAngular),Dp(B.insideAngular))}return Ln(()=>V)}return V instanceof _u.y?V.pipe(qd):V instanceof Promise?Ln(()=>new Promise((B,ce)=>V.then(Re=>Ln(()=>B(Re)),Re=>Ln(()=>ce(Re))))):"function"==typeof V&&T?function(){return setTimeout(()=>{T&&"scheduled"===T.state&&T.invoke()},10),V.apply(this,arguments)}:Ln(()=>V)}},854:(ze,de,k)=>{"use strict";k.d(de,{BH:()=>sn,LL:()=>Qt,ZR:()=>on,zI:()=>Ht,US:()=>pe,tV:()=>N,L:()=>te,$s:()=>Dt,r3:()=>Ci,Sg:()=>Gr,ne:()=>We,vZ:()=>yn,ZB:()=>G,aH:()=>Rn,q4:()=>xe,P0:()=>we,Pz:()=>xr,m9:()=>Pn,z$:()=>$n,jU:()=>Oe,ru:()=>wt,xb:()=>wr,w1:()=>Ee,hl:()=>ke,uI:()=>ie,b$:()=>Qe,xO:()=>oi,eu:()=>Wt});const oe=function(L){const O=[];let $=0;for(let ue=0;ue<L.length;ue++){let q=L.charCodeAt(ue);q<128?O[$++]=q:q<2048?(O[$++]=q>>6|192,O[$++]=63&q|128):55296==(64512&q)&&ue+1<L.length&&56320==(64512&L.charCodeAt(ue+1))?(q=65536+((1023&q)<<10)+(1023&L.charCodeAt(++ue)),O[$++]=q>>18|240,O[$++]=q>>12&63|128,O[$++]=q>>6&63|128,O[$++]=63&q|128):(O[$++]=q>>12|224,O[$++]=q>>6&63|128,O[$++]=63&q|128)}return O},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,O){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let q=0;q<L.length;q+=3){const Ne=L[q],gt=q+1<L.length,Jt=gt?L[q+1]:0,Cr=q+2<L.length,rr=Cr?L[q+2]:0;let ui=(15&Jt)<<2|rr>>6,ps=63&rr;Cr||(ps=64,gt||(ui=64)),ue.push($[Ne>>2],$[(3&Ne)<<4|Jt>>4],$[ui],$[ps])}return ue.join("")},encodeString(L,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(L):this.encodeByteArray(oe(L),O)},decodeString(L,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(L):function(L){const O=[];let $=0,ue=0;for(;$<L.length;){const q=L[$++];if(q<128)O[ue++]=String.fromCharCode(q);else if(q>191&&q<224){const Ne=L[$++];O[ue++]=String.fromCharCode((31&q)<<6|63&Ne)}else if(q>239&&q<365){const Cr=((7&q)<<18|(63&L[$++])<<12|(63&L[$++])<<6|63&L[$++])-65536;O[ue++]=String.fromCharCode(55296+(Cr>>10)),O[ue++]=String.fromCharCode(56320+(1023&Cr))}else{const Ne=L[$++],gt=L[$++];O[ue++]=String.fromCharCode((15&q)<<12|(63&Ne)<<6|63&gt)}}return O.join("")}(this.decodeStringToByteArray(L,O))},decodeStringToByteArray(L,O){this.init_();const $=O?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let q=0;q<L.length;){const Ne=$[L.charAt(q++)],Jt=q<L.length?$[L.charAt(q)]:0;++q;const rr=q<L.length?$[L.charAt(q)]:64;++q;const Rt=q<L.length?$[L.charAt(q)]:64;if(++q,null==Ne||null==Jt||null==rr||null==Rt)throw new ve;ue.push(Ne<<2|Jt>>4),64!==rr&&(ue.push(Jt<<4&240|rr>>2),64!==Rt&&ue.push(rr<<6&192|Rt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const te=function(L){return function(L){const O=oe(L);return pe.encodeByteArray(O,!0)}(L).replace(/\./g,"")},N=function(L){try{return pe.decodeString(L,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function G(L,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return O}for(const $ in O)!O.hasOwnProperty($)||!ne($)||(L[$]=G(L[$],O[$]));return L}function ne(L){return"__proto__"!==L}const Ye=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if("undefined"==typeof document)return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($){return}const O=L&&N(L[1]);return O&&JSON.parse(O)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},xe=L=>{var O,$;return null===($=null===(O=Ye())||void 0===O?void 0:O.emulatorHosts)||void 0===$?void 0:$[L]},we=L=>{const O=xe(L);if(!O)return;const $=O.lastIndexOf(":");if($<=0||$+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const ue=parseInt(O.substring($+1),10);return"["===O[0]?[O.substring(1,$-1),ue]:[O.substring(0,$),ue]},Rn=()=>{var L;return null===(L=Ye())||void 0===L?void 0:L.config},xr=L=>{var O;return null===(O=Ye())||void 0===O?void 0:O[`_${L}`]};class sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,$)=>{this.resolve=O,this.reject=$})}wrapCallback(O){return($,ue)=>{$?this.reject($):this.resolve(ue),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O($):O($,ue))}}}function Gr(L,O){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=O||"demo-project",q=L.iat||0,Ne=L.sub||L.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:q,exp:q+3600,auth_time:q,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},L);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(gt)),""].join(".")}function $n(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function Oe(){return"object"==typeof self&&self.self===self}function wt(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){const L=$n();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function ke(){try{return"object"==typeof indexedDB}catch(L){return!1}}function Wt(){return new Promise((L,O)=>{try{let $=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(ue);q.onsuccess=()=>{q.result.close(),$||self.indexedDB.deleteDatabase(ue),L(!0)},q.onupgradeneeded=()=>{$=!1},q.onerror=()=>{var Ne;O((null===(Ne=q.error)||void 0===Ne?void 0:Ne.message)||"")}}catch($){O($)}})}function Ht(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class on extends Error{constructor(O,$,ue){super($),this.code=O,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(O,$,ue){this.service=O,this.serviceName=$,this.errors=ue}create(O,...$){const ue=$[0]||{},q=`${this.service}/${O}`,Ne=this.errors[O],gt=Ne?function(L,O){return L.replace(Tt,($,ue)=>{const q=O[ue];return null!=q?String(q):`<${ue}?>`})}(Ne,ue):"Error";return new on(q,`${this.serviceName}: ${gt} (${q}).`,ue)}}const Tt=/\{\$([^}]+)}/g;function Ci(L,O){return Object.prototype.hasOwnProperty.call(L,O)}function wr(L){for(const O in L)if(Object.prototype.hasOwnProperty.call(L,O))return!1;return!0}function yn(L,O){if(L===O)return!0;const $=Object.keys(L),ue=Object.keys(O);for(const q of $){if(!ue.includes(q))return!1;const Ne=L[q],gt=O[q];if(Wi(Ne)&&Wi(gt)){if(!yn(Ne,gt))return!1}else if(Ne!==gt)return!1}for(const q of ue)if(!$.includes(q))return!1;return!0}function Wi(L){return null!==L&&"object"==typeof L}function oi(L){const O=[];for(const[$,ue]of Object.entries(L))Array.isArray(ue)?ue.forEach(q=>{O.push(encodeURIComponent($)+"="+encodeURIComponent(q))}):O.push(encodeURIComponent($)+"="+encodeURIComponent(ue));return O.length?"&"+O.join("&"):""}function We(L,O){const $=new an(L,O);return $.subscribe.bind($)}class an{constructor(O,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{O(this)}).catch(ue=>{this.error(ue)})}next(O){this.forEachObserver($=>{$.next(O)})}error(O){this.forEachObserver($=>{$.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,$,ue){let q;if(void 0===O&&void 0===$&&void 0===ue)throw new Error("Missing Observer.");q=function(L,O){if("object"!=typeof L||null===L)return!1;for(const $ of["next","error","complete"])if($ in L&&"function"==typeof L[$])return!0;return!1}(O)?O:{next:O,error:$,complete:ue},void 0===q.next&&(q.next=Ki),void 0===q.error&&(q.error=Ki),void 0===q.complete&&(q.complete=Ki);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(gt){}}),this.observers.push(q),Ne}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,O)}sendOne(O,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{$(this.observers[O])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ki(){}function Dt(L,O=1e3,$=2){const ue=O*Math.pow($,L),q=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+q)}function Pn(L){return L&&L._delegate?L._delegate:L}},574:(ze,de,k)=>{"use strict";k.d(de,{y:()=>F});var g=k(393),Z=k(181),oe=k(490),pe=k(554),ve=k(487);var N=k(494);let F=(()=>{class ne{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const X=new ne;return X.source=this,X.operator=be,X}subscribe(be,X,Xe){const{operator:Ye}=this,xe=function(ne,ae,be){if(ne){if(ne instanceof g.L)return ne;if(ne[Z.b])return ne[Z.b]()}return ne||ae||be?new g.L(ne,ae,be):new g.L(oe.c)}(be,X,Xe);if(xe.add(Ye?Ye.call(xe,this.source):this.source||N.v.useDeprecatedSynchronousErrorHandling&&!xe.syncErrorThrowable?this._subscribe(xe):this._trySubscribe(xe)),N.v.useDeprecatedSynchronousErrorHandling&&xe.syncErrorThrowable&&(xe.syncErrorThrowable=!1,xe.syncErrorThrown))throw xe.syncErrorValue;return xe}_trySubscribe(be){try{return this._subscribe(be)}catch(X){N.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=X),function(ne){for(;ne;){const{closed:ae,destination:be,isStopped:X}=ne;if(ae||X)return!1;ne=be&&be instanceof g.L?be:null}return!0}(be)?be.error(X):console.warn(X)}}forEach(be,X){return new(X=G(X))((Xe,Ye)=>{let xe;xe=this.subscribe(we=>{try{be(we)}catch(Rn){Ye(Rn),xe&&xe.unsubscribe()}},Ye,Xe)})}_subscribe(be){const{source:X}=this;return X&&X.subscribe(be)}[pe.L](){return this}pipe(...be){return 0===be.length?this:function(ne){return 0===ne.length?ve.y:1===ne.length?ne[0]:function(be){return ne.reduce((X,Xe)=>Xe(X),be)}}(be)(this)}toPromise(be){return new(be=G(be))((X,Xe)=>{let Ye;this.subscribe(xe=>Ye=xe,xe=>Xe(xe),()=>X(Ye))})}}return ne.create=ae=>new ne(ae),ne})();function G(ne){if(ne||(ne=N.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},490:(ze,de,k)=>{"use strict";k.d(de,{c:()=>Z});var g=k(494),J=k(449);const Z={closed:!0,next(oe){},error(oe){if(g.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,J.z)(oe)},complete(){}}},709:(ze,de,k)=>{"use strict";k.d(de,{xQ:()=>ye,Yc:()=>ve});var g=k(574),J=k(393),Z=k(319),oe=k(971);class he extends Z.w{constructor(F,G){super(),this.subject=F,this.subscriber=G,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const F=this.subject,G=F.observers;if(this.subject=null,!G||0===G.length||F.isStopped||F.closed)return;const ne=G.indexOf(this.subscriber);-1!==ne&&G.splice(ne,1)}}var pe=k(181);class ve extends J.L{constructor(F){super(F),this.destination=F}}let ye=(()=>{class N extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[pe.b](){return new ve(this)}lift(G){const ne=new te(this,this);return ne.operator=G,ne}next(G){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:ne}=this,ae=ne.length,be=ne.slice();for(let X=0;X<ae;X++)be[X].next(G)}}error(G){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:ne}=this,ae=ne.length,be=ne.slice();for(let X=0;X<ae;X++)be[X].error(G);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:G}=this,ne=G.length,ae=G.slice();for(let be=0;be<ne;be++)ae[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new oe.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new oe.N;return this.hasError?(G.error(this.thrownError),Z.w.EMPTY):this.isStopped?(G.complete(),Z.w.EMPTY):(this.observers.push(G),new he(this,G))}asObservable(){const G=new g.y;return G.source=this,G}}return N.create=(F,G)=>new te(F,G),N})();class te extends ye{constructor(F,G){super(),this.destination=F,this.source=G}next(F){const{destination:G}=this;G&&G.next&&G.next(F)}error(F){const{destination:G}=this;G&&G.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:G}=this;return G?this.source.subscribe(F):Z.w.EMPTY}}},393:(ze,de,k)=>{"use strict";k.d(de,{L:()=>ve});var g=k(105),J=k(490),Z=k(319),oe=k(181),he=k(494),pe=k(449);class ve extends Z.w{constructor(N,F,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!N){this.destination=J.c;break}if("object"==typeof N){N instanceof ve?(this.syncErrorThrowable=N.syncErrorThrowable,this.destination=N,N.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,N));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,N,F,G)}}[oe.b](){return this}static create(N,F,G){const ne=new ve(N,F,G);return ne.syncErrorThrowable=!1,ne}next(N){this.isStopped||this._next(N)}error(N){this.isStopped||(this.isStopped=!0,this._error(N))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(N){this.destination.next(N)}_error(N){this.destination.error(N),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:N}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=N,this}}class ye extends ve{constructor(N,F,G,ne){super(),this._parentSubscriber=N;let ae,be=this;(0,g.m)(F)?ae=F:F&&(ae=F.next,G=F.error,ne=F.complete,F!==J.c&&(be=Object.create(F),(0,g.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=ae,this._error=G,this._complete=ne}next(N){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;he.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,N)&&this.unsubscribe():this.__tryOrUnsub(this._next,N)}}error(N){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:G}=he.v;if(this._error)G&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,N),this.unsubscribe()):(this.__tryOrUnsub(this._error,N),this.unsubscribe());else if(F.syncErrorThrowable)G?(F.syncErrorValue=N,F.syncErrorThrown=!0):(0,pe.z)(N),this.unsubscribe();else{if(this.unsubscribe(),G)throw N;(0,pe.z)(N)}}}complete(){if(!this.isStopped){const{_parentSubscriber:N}=this;if(this._complete){const F=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?(this.__tryOrSetError(N,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(N,F){try{N.call(this._context,F)}catch(G){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw G;(0,pe.z)(G)}}__tryOrSetError(N,F,G){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,G)}catch(ne){return he.v.useDeprecatedSynchronousErrorHandling?(N.syncErrorValue=ne,N.syncErrorThrown=!0,!0):((0,pe.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:N}=this;this._context=null,this._parentSubscriber=null,N.unsubscribe()}}},319:(ze,de,k)=>{"use strict";k.d(de,{w:()=>pe});var g=k(796),J=k(555),Z=k(105);const he=(()=>{function ye(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((N,F)=>`${F+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ye.prototype=Object.create(Error.prototype),ye})();class pe{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:N,_ctorUnsubscribe:F,_unsubscribe:G,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,N instanceof pe)N.remove(this);else if(null!==N)for(let ae=0;ae<N.length;++ae)N[ae].remove(this);if((0,Z.m)(G)){F&&(this._unsubscribe=void 0);try{G.call(this)}catch(ae){te=ae instanceof he?ve(ae.errors):[ae]}}if((0,g.k)(ne)){let ae=-1,be=ne.length;for(;++ae<be;){const X=ne[ae];if((0,J.K)(X))try{X.unsubscribe()}catch(Xe){te=te||[],Xe instanceof he?te=te.concat(ve(Xe.errors)):te.push(Xe)}}}if(te)throw new he(te)}add(te){let N=te;if(!te)return pe.EMPTY;switch(typeof te){case"function":N=new pe(te);case"object":if(N===this||N.closed||"function"!=typeof N.unsubscribe)return N;if(this.closed)return N.unsubscribe(),N;if(!(N instanceof pe)){const ne=N;N=new pe,N._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:F}=N;if(null===F)N._parentOrParents=this;else if(F instanceof pe){if(F===this)return N;N._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return N;F.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[N]:G.push(N),N}remove(te){const N=this._subscriptions;if(N){const F=N.indexOf(te);-1!==F&&N.splice(F,1)}}}var ye;function ve(ye){return ye.reduce((te,N)=>te.concat(N instanceof he?N.errors:N),[])}pe.EMPTY=((ye=new pe).closed=!0,ye)},494:(ze,de,k)=>{"use strict";k.d(de,{v:()=>J});let g=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=Z},get useDeprecatedSynchronousErrorHandling(){return g}}},345:(ze,de,k)=>{"use strict";k.d(de,{IY:()=>oe,Ds:()=>pe,ft:()=>ye});var g=k(393),J=k(574),Z=k(444);class oe extends g.L{constructor(N){super(),this.parent=N}_next(N){this.parent.notifyNext(N)}_error(N){this.parent.notifyError(N),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class pe extends g.L{notifyNext(N){this.destination.next(N)}notifyError(N){this.destination.error(N)}notifyComplete(){this.destination.complete()}}function ye(te,N){if(N.closed)return;if(te instanceof J.y)return te.subscribe(N);let F;try{F=(0,Z.s)(te)(N)}catch(G){N.error(G)}return F}},441:(ze,de,k)=>{"use strict";k.d(de,{c:()=>he,N:()=>pe});var g=k(709),J=k(574),Z=k(319),oe=k(307);class he extends J.y{constructor(F,G){super(),this.source=F,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new Z.w,F.add(this.source.subscribe(new ve(this.getSubject(),this))),F.closed&&(this._connection=null,F=Z.w.EMPTY)),F}refCount(){return(0,oe.x)()(this)}}const pe=(()=>{const N=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:N._subscribe},_isComplete:{value:N._isComplete,writable:!0},getSubject:{value:N.getSubject},connect:{value:N.connect},refCount:{value:N.refCount}}})();class ve extends g.Yc{constructor(F,G){super(F),this.connectable=G}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const G=F._connection;F._refCount=0,F._subject=null,F._connection=null,G&&G.unsubscribe()}}}},193:(ze,de,k)=>{"use strict";k.d(de,{E:()=>J,c:()=>Z});var g=k(574);const J=new g.y(he=>he.complete());function Z(he){return he?function(he){return new g.y(pe=>he.schedule(()=>pe.complete()))}(he):J}},402:(ze,de,k)=>{"use strict";k.d(de,{D:()=>be});var g=k(574),J=k(444),Z=k(319),oe=k(554),ve=k(87),ye=k(377),F=k(72),G=k(489);function be(X,Xe){return Xe?function(X,Xe){if(null!=X){if(function(X){return X&&"function"==typeof X[oe.L]}(X))return function(X,Xe){return new g.y(Ye=>{const xe=new Z.w;return xe.add(Xe.schedule(()=>{const we=X[oe.L]();xe.add(we.subscribe({next(Rn){xe.add(Xe.schedule(()=>Ye.next(Rn)))},error(Rn){xe.add(Xe.schedule(()=>Ye.error(Rn)))},complete(){xe.add(Xe.schedule(()=>Ye.complete()))}}))})),xe})}(X,Xe);if((0,F.t)(X))return function(X,Xe){return new g.y(Ye=>{const xe=new Z.w;return xe.add(Xe.schedule(()=>X.then(we=>{xe.add(Xe.schedule(()=>{Ye.next(we),xe.add(Xe.schedule(()=>Ye.complete()))}))},we=>{xe.add(Xe.schedule(()=>Ye.error(we)))}))),xe})}(X,Xe);if((0,G.z)(X))return(0,ve.r)(X,Xe);if(function(X){return X&&"function"==typeof X[ye.hZ]}(X)||"string"==typeof X)return function(X,Xe){if(!X)throw new Error("Iterable cannot be null");return new g.y(Ye=>{const xe=new Z.w;let we;return xe.add(()=>{we&&"function"==typeof we.return&&we.return()}),xe.add(Xe.schedule(()=>{we=X[ye.hZ](),xe.add(Xe.schedule(function(){if(Ye.closed)return;let Rn,xr;try{const sn=we.next();Rn=sn.value,xr=sn.done}catch(sn){return void Ye.error(sn)}xr?Ye.complete():(Ye.next(Rn),this.schedule())}))})),xe})}(X,Xe)}throw new TypeError((null!==X&&typeof X||X)+" is not observable")}(X,Xe):X instanceof g.y?X:new g.y((0,J.s)(X))}},693:(ze,de,k)=>{"use strict";k.d(de,{n:()=>oe});var g=k(574),J=k(15),Z=k(87);function oe(he,pe){return pe?(0,Z.r)(he,pe):new g.y((0,J.V)(he))}},917:(ze,de,k)=>{"use strict";k.d(de,{of:()=>oe});var g=k(869),J=k(693),Z=k(87);function oe(...he){let pe=he[he.length-1];return(0,g.K)(pe)?(he.pop(),(0,Z.r)(he,pe)):(0,J.n)(he)}},2:(ze,de,k)=>{"use strict";k.d(de,{U:()=>J});var g=k(393);function J(he,pe){return function(ye){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new Z(he,pe))}}class Z{constructor(pe,ve){this.project=pe,this.thisArg=ve}call(pe,ve){return ve.subscribe(new oe(pe,this.project,this.thisArg))}}class oe extends g.L{constructor(pe,ve,ye){super(pe),this.project=ve,this.count=0,this.thisArg=ye||this}_next(pe){let ve;try{ve=this.project.call(this.thisArg,pe,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(ve)}}},282:(ze,de,k)=>{"use strict";k.d(de,{J:()=>Z});var g=k(773),J=k(487);function Z(oe=Number.POSITIVE_INFINITY){return(0,g.zg)(J.y,oe)}},773:(ze,de,k)=>{"use strict";k.d(de,{zg:()=>oe});var g=k(2),J=k(402),Z=k(345);function oe(ye,te,N=Number.POSITIVE_INFINITY){return"function"==typeof te?F=>F.pipe(oe((G,ne)=>(0,J.D)(ye(G,ne)).pipe((0,g.U)((ae,be)=>te(G,ae,ne,be))),N)):("number"==typeof te&&(N=te),F=>F.lift(new he(ye,N)))}class he{constructor(te,N=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=N}call(te,N){return N.subscribe(new pe(te,this.project,this.concurrent))}}class pe extends Z.Ds{constructor(te,N,F=Number.POSITIVE_INFINITY){super(te),this.project=N,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let N;const F=this.index++;try{N=this.project(te,F)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(N)}_innerSub(te){const N=new Z.IY(this),F=this.destination;F.add(N);const G=(0,Z.ft)(te,N);G!==N&&F.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},307:(ze,de,k)=>{"use strict";k.d(de,{x:()=>J});var g=k(393);function J(){return function(pe){return pe.lift(new Z(pe))}}class Z{constructor(pe){this.connectable=pe}call(pe,ve){const{connectable:ye}=this;ye._refCount++;const te=new oe(pe,ye),N=ve.subscribe(te);return te.closed||(te.connection=ye.connect()),N}}class oe extends g.L{constructor(pe,ve){super(pe),this.connectable=ve}_unsubscribe(){const{connectable:pe}=this;if(!pe)return void(this.connection=null);this.connectable=null;const ve=pe._refCount;if(ve<=0)return void(this.connection=null);if(pe._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:ye}=this,te=pe._connection;this.connection=null,te&&(!ye||te===ye)&&te.unsubscribe()}}},342:(ze,de,k)=>{"use strict";k.d(de,{b:()=>oe});var g=k(393);function J(){}var Z=k(105);function oe(ve,ye,te){return function(F){return F.lift(new he(ve,ye,te))}}class he{constructor(ye,te,N){this.nextOrObserver=ye,this.error=te,this.complete=N}call(ye,te){return te.subscribe(new pe(ye,this.nextOrObserver,this.error,this.complete))}}class pe extends g.L{constructor(ye,te,N,F){super(ye),this._tapNext=J,this._tapError=J,this._tapComplete=J,this._tapError=N||J,this._tapComplete=F||J,(0,Z.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||J,this._tapError=te.error||J,this._tapComplete=te.complete||J)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(te){return void this.destination.error(te)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(te){return void this.destination.error(te)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},87:(ze,de,k)=>{"use strict";k.d(de,{r:()=>Z});var g=k(574),J=k(319);function Z(oe,he){return new g.y(pe=>{const ve=new J.w;let ye=0;return ve.add(he.schedule(function(){ye!==oe.length?(pe.next(oe[ye++]),pe.closed||ve.add(this.schedule())):pe.complete()})),ve})}},377:(ze,de,k)=>{"use strict";k.d(de,{hZ:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},554:(ze,de,k)=>{"use strict";k.d(de,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},181:(ze,de,k)=>{"use strict";k.d(de,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},971:(ze,de,k)=>{"use strict";k.d(de,{N:()=>J});const J=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},449:(ze,de,k)=>{"use strict";function g(J){setTimeout(()=>{throw J},0)}k.d(de,{z:()=>g})},487:(ze,de,k)=>{"use strict";function g(J){return J}k.d(de,{y:()=>g})},796:(ze,de,k)=>{"use strict";k.d(de,{k:()=>g});const g=Array.isArray||(J=>J&&"number"==typeof J.length)},489:(ze,de,k)=>{"use strict";k.d(de,{z:()=>g});const g=J=>J&&"number"==typeof J.length&&"function"!=typeof J},105:(ze,de,k)=>{"use strict";function g(J){return"function"==typeof J}k.d(de,{m:()=>g})},555:(ze,de,k)=>{"use strict";function g(J){return null!==J&&"object"==typeof J}k.d(de,{K:()=>g})},72:(ze,de,k)=>{"use strict";function g(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}k.d(de,{t:()=>g})},869:(ze,de,k)=>{"use strict";function g(J){return J&&"function"==typeof J.schedule}k.d(de,{K:()=>g})},444:(ze,de,k)=>{"use strict";k.d(de,{s:()=>F});var g=k(15),J=k(449),oe=k(377),pe=k(554),ye=k(489),te=k(72),N=k(555);const F=G=>{if(G&&"function"==typeof G[pe.L])return(G=>ne=>{const ae=G[pe.L]();if("function"!=typeof ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ae.subscribe(ne)})(G);if((0,ye.z)(G))return(0,g.V)(G);if((0,te.t)(G))return(G=>ne=>(G.then(ae=>{ne.closed||(ne.next(ae),ne.complete())},ae=>ne.error(ae)).then(null,J.z),ne))(G);if(G&&"function"==typeof G[oe.hZ])return(G=>ne=>{const ae=G[oe.hZ]();for(;;){let be;try{be=ae.next()}catch(X){return ne.error(X),ne}if(be.done){ne.complete();break}if(ne.next(be.value),ne.closed)break}return"function"==typeof ae.return&&ne.add(()=>{ae.return&&ae.return()}),ne})(G);{const ae=`You provided ${(0,N.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ae)}}},15:(ze,de,k)=>{"use strict";k.d(de,{V:()=>g});const g=J=>Z=>{for(let oe=0,he=J.length;oe<he&&!Z.closed;oe++)Z.next(J[oe]);Z.complete()}},411:(ze,de,k)=>{"use strict";var g=k(639);let J=null;function Z(){return J}const ve=new g.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,g.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,g.LFG)(F)}const N=new g.OlP("Location Initialized");let F=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){G()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){G()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve))},n.\u0275prov=(0,g.Yz7)({factory:ne,token:n,providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function ne(){return new F((0,g.LFG)(ve))}function ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let Xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,g.Yz7)({factory:Ye,token:n,providedIn:"root"}),n})();function Ye(n){const e=(0,g.LFG)(ve).location;return new we((0,g.LFG)(ye),e&&e.origin||"")}const xe=new g.OlP("appBaseHref");let we=(()=>{class n extends Xe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+X(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+X(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ye),g.LFG(xe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Rn=(()=>{class n extends Xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+X(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+X(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ye),g.LFG(xe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),xr=(()=>{class n{constructor(t,r){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=be($n(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$n(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Xe),g.LFG(ye))},n.normalizeQueryParams=X,n.joinWithSlash=ae,n.stripTrailingSlash=be,n.\u0275prov=(0,g.Yz7)({factory:sn,token:n,providedIn:"root"}),n})();function sn(){return new xr((0,g.LFG)(Xe),(0,g.LFG)(ye))}function $n(n){return n.replace(/\/index.html$/,"")}const ie={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var _e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Percent=1]="Percent",_e[_e.Currency=2]="Currency",_e[_e.Scientific=3]="Scientific",_e))(),Oe=(()=>((Oe=Oe||{})[Oe.Zero=0]="Zero",Oe[Oe.One=1]="One",Oe[Oe.Two=2]="Two",Oe[Oe.Few=3]="Few",Oe[Oe.Many=4]="Many",Oe[Oe.Other=5]="Other",Oe))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function Ut(n,e){const t=(0,g.cg1)(n),r=t[g.wAp.NumberSymbols][e];if(void 0===r){if(e===Ee.CurrencyDecimal)return t[g.wAp.NumberSymbols][Ee.Decimal];if(e===Ee.CurrencyGroup)return t[g.wAp.NumberSymbols][Ee.Group]}return r}const bn=g.kL8;const Cr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gs(n,e,t,r,o){const d=function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],d=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],f=d[0],y=d[1]||"";t.posPre=f.substr(0,f.indexOf("#"));for(let C=0;C<y.length;C++){const D=y.charAt(C);"0"===D?t.minFrac=t.maxFrac=C+1:"#"===D?t.maxFrac=C+1:t.posSuf+=D}const _=f.split(",");if(t.gSize=_[1]?_[1].length:0,t.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,u){const C=o.length-t.posPre.length-t.posSuf.length,D=u.indexOf("#");t.negPre=u.substr(0,D).replace(/'/g,""),t.negSuf=u.substr(D+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,g.cg1)(n)[g.wAp.NumberFormats][e]}(e,_e.Currency),Ut(e,Ee.MinusSign));return d.minFrac=function(n){let e;const t=ie[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function(n,e,t,r,o,u,d=!1){let f="",y=!1;if(isFinite(n)){let _=function(n){let r,o,u,d,f,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(f=e.length))r=[0],o=1;else{for(f--;"0"===e.charAt(f);)f--;for(o-=u,r=[],d=0;u<=f;u++,d++)r[d]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);d&&(_=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(_));let C=e.minInt,D=e.minFrac,M=e.maxFrac;if(u){const qe=u.match(Cr);if(null===qe)throw new Error(`${u} is not a valid digit info`);const Le=qe[1],Et=qe[3],Nt=qe[5];null!=Le&&(C=Xt(Le)),null!=Et&&(D=Xt(Et)),null!=Nt?M=Xt(Nt):null!=Et&&D>M&&(M=D)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let d=u+n.integerLen,f=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let D=d;D<r.length;D++)r[D]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let D=1;D<d;D++)r[D]=0}if(f>=5)if(d-1<0){for(let D=0;D>d;D--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;o<Math.max(0,u);o++)r.push(0);let y=0!==u;const _=e+n.integerLen,C=r.reduceRight(function(D,M,R,j){return j[R]=(M+=D)<10?M:M-10,y&&(0===j[R]&&R>=_?j.pop():y=!1),M>=10?1:0},0);C&&(r.unshift(C),n.integerLen++)}(_,D,M);let R=_.digits,j=_.integerLen;const K=_.exponent;let re=[];for(y=R.every(qe=>!qe);j<C;j++)R.unshift(0);for(;j<0;j++)R.unshift(0);j>0?re=R.splice(j,R.length):(re=R,R=[0]);const Ae=[];for(R.length>=e.lgSize&&Ae.unshift(R.splice(-e.lgSize,R.length).join(""));R.length>e.gSize;)Ae.unshift(R.splice(-e.gSize,R.length).join(""));R.length&&Ae.unshift(R.join("")),f=Ae.join(Ut(t,r)),re.length&&(f+=Ut(t,o)+re.join("")),K&&(f+=Ut(t,Ee.Exponential)+"+"+K)}else f=Ut(t,Ee.Infinity);return f=n<0&&!y?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,d,e,Ee.CurrencyGroup,Ee.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function Xt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ir{}let Bt=(()=>{class n extends ir{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(bn(r||this.locale)(t)){case Oe.Zero:return"zero";case Oe.One:return"one";case Oe.Two:return"two";case Oe.Few:return"few";case Oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.soG))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class mt{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _o=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,u,d)=>{if(null==o.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new mt(null,this._ngForOf,-1,-1),null===d?void 0:d),y=new Qo(o,f);r.push(y)}else if(null==d)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const f=this._viewContainer.get(u);this._viewContainer.move(f,d);const y=new Qo(o,f);r.push(y)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const d=this._viewContainer.get(o);d.context.index=o,d.context.count=u,d.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Qo{constructor(e,t){this.record=e,this.view=t}}let ms=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function Jo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let Xo=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let Ey=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",u,d){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==o&&(f="symbol"===o||"symbol-narrow"===o?function(n,e,t="en"){const r=function(n){return(0,g.cg1)(n)[g.wAp.Currencies]}(t)[n]||ie[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(f,"symbol"===o?"wide":"narrow",d):o);try{return gs(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,f,r,u)}catch(y){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,g.AaK)(n)}'`)}(n,y.message)}}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.soG,16),g.Y36(g.EJc,16))},n.\u0275pipe=g.Yjl({name:"currency",type:n,pure:!0}),n})();let C0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[{provide:ir,useClass:Bt}]}),n})(),Nc=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Iy((0,g.LFG)(ve),window)}),n})();class Iy{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vd(this.window.history)||vd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function vd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Tr extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Tr,J||(J=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null);return null==t?null:function(n){Ws=Ws||document.createElement("a"),Ws.setAttribute("href",n);const e=Ws.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ws,zs=null;const na=new g.OlP("TRANSITION_ID"),vn=[{provide:g.ip1,useFactory:function(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=Z(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[na,ve,g.zs3],multi:!0}];class Qn{static init(){(0,g.VLi)(new Qn)}addToWindow(e){g.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const f=function(y){d=d||y,u--,0==u&&r(d)};o.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?Z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let rp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=new g.OlP("EventManagerPlugins");let tt=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(vs),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Pc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Z().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let up=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),bo=(()=>{class n extends up{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cp),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cp))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function cp(n){Z().remove(n)}const du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cd=/%COMP%/g;function Ks(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ks(n,o,t):(o=o.replace(Cd,n),t.push(o))}return t}function hi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ra=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fc(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new sr(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case g.ifc.ShadowDom:return new Qi(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ks(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(tt),g.LFG(bo),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Fc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(du[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=du[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=du[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,o&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hi(r)):this.eventManager.addEventListener(e,t,hi(r))}}class sr extends Fc{constructor(e,t,r,o){super(e),this.component=r;const u=Ks(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Cd,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Cd,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Qi extends Fc{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ks(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Lc=(()=>{class n extends Pc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const aa=["alt","control","meta","shift"],Uc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bc=(()=>{class n extends Pc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(aa.forEach(y=>{const _=r.indexOf(y);_>-1&&(r.splice(_,1),d+=y+".")}),d+=u,0!=r.length||0===u.length)return null;const f={};return f.domEventName=o,f.fullKey=d,f}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&hu.hasOwnProperty(e)&&(e=hu[e]))}return Uc[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),aa.forEach(u=>{u!=o&&Sd[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const ua=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){Tr.makeCurrent(),Qn.init()},multi:!0},{provide:ve,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Nd=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:vs,useClass:Lc,multi:!0,deps:[ve,g.R0b,g.Lbi]},{provide:vs,useClass:Bc,multi:!0,deps:[ve]},[],{provide:ra,useClass:ra,deps:[tt,bo,g.AFp]},{provide:g.FYo,useExisting:ra},{provide:up,useExisting:bo},{provide:bo,useClass:bo,deps:[ve]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:tt,useClass:tt,deps:[vs,g.R0b]},{provide:class{},useClass:rp,deps:[]},[]];let $c=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:na,useExisting:g.AFp},vn]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:Nd,imports:[C0,g.hGG]}),n})();"undefined"!=typeof window&&window;var wn=k(402),Ct=k(917),Es=k(709),yp=k(971);class qr extends Es.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yp.N;return this._value}next(e){super.next(this._value=e)}}var _p=k(869),bs=k(796),zr=k(393);class Hc extends zr.L{notifyNext(e,t,r,o,u){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class mu extends zr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var qc=k(444),Ai=k(574);function vp(n,e,t,r,o=new mu(n,t,r)){if(!o.closed)return e instanceof Ai.y?e.subscribe(o):(0,qc.s)(e)(o)}var zc=k(693);const kd={};class Ep{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bp(e,this.resultSelector))}}class bp extends Hc{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(kd),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(vp(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,d=this.toRespond?o[r]===kd?--this.toRespond:this.toRespond:0;o[r]=t,0===d&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const ws=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var yu=k(282);function la(...n){return(0,yu.J)(1)((0,Ct.of)(...n))}var pi=k(193);function Fd(n){return new Ai.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,wn.D)(t):(0,pi.c)()).subscribe(e)})}var Ld=k(441),qt=k(2),Si=k(345);function Wr(n,e){return"function"==typeof e?t=>t.pipe(Wr((r,o)=>(0,wn.D)(n(r,o)).pipe((0,qt.U)((u,d)=>e(r,u,o,d))))):t=>t.lift(new Js(n))}class Js{constructor(e){this.project=e}call(e,t){return t.subscribe(new Wc(e,this.project))}}class Wc extends Si.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Si.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Si.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Co=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ky(n){return e=>0===n?(0,pi.c)():e.lift(new EA(n))}class EA{constructor(e){if(this.total=e,this.total<0)throw new Co}call(e,t){return t.subscribe(new Fy(e,this.total))}}class Fy extends zr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Vd(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new fn(n,e,t))}}class fn{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Ly(e,this.accumulator,this.seed,this.hasSeed))}}class Ly extends zr.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Io(n,e){return function(r){return r.lift(new P0(n,e))}}class P0{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new wp(e,this.predicate,this.thisArg))}}class wp extends zr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function da(n){return function(t){const r=new Vy(n),o=t.lift(r);return r.caught=o}}class Vy{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Cs(e,this.selector,this.caught))}}class Cs extends Si.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const r=new Si.IY(this);this.add(r);const o=(0,Si.ft)(t,r);o!==r&&this.add(o)}}}var Pr=k(773);function Kc(n,e){return(0,Pr.zg)(n,e,1)}function Uy(n){return function(t){return 0===n?(0,pi.c)():t.lift(new O0(n))}}class O0{constructor(e){if(this.total=e,this.total<0)throw new Co}call(e,t){return t.subscribe(new Zc(e,this.total))}}class Zc extends zr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<r;u++){const d=t++%r;e.next(o[d])}}e.complete()}}function _u(n=To){return e=>e.lift(new zn(n))}class zn{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Yc(e,this.errorFactory))}}class Yc extends zr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function To(){return new ws}function Cp(n=null){return e=>e.lift(new Ip(n))}class Ip{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new xi(e,this.defaultValue))}}class xi extends zr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Mi=k(487);function Ni(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Io((o,u)=>n(o,u,r)):Mi.y,ky(1),t?Cp(e):_u(()=>new ws))}var En=k(342),Tp=k(307),By=k(319);class jy{constructor(e){this.callback=e}call(e,t){return t.subscribe(new k0(e,this.callback))}}class k0 extends zr.L{constructor(e,t){super(e),this.add(new By.w(t))}}class es{constructor(e,t){this.id=e,this.url=t}}class Dr extends es{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Do extends es{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ao extends es{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class F0 extends es{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $y extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp extends es{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gy extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ud extends es{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ap{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ha{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bd{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sp{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pa{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ut="primary";class jd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xs(n){return new jd(n)}const Hy="ngNavigationCancelingError";function Xc(n){const e=Error("NavigationCancelingError: "+n);return e[Hy]=!0,e}function $d(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],f=n[u];if(d.startsWith(":"))o[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Fn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Gd(n[o],e[o]))return!1;return!0}function Gd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Cn(n){return Array.prototype.concat.apply([],n)}function Hd(n){return n.length>0?n[n.length-1]:null}function pn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ln(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,wn.D)(Promise.resolve(n)):(0,Ct.of)(n)}const qy={exact:function ts(n,e,t){if(!Fe(n.segments,e.segments)||!S(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ts(n.children[r],e.children[r],t))return!1;return!0},subset:E},qd={exact:function(n,e){return Fn(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gd(n[t],e[t]))},ignored:()=>!0};function zy(n,e,t){return qy[t.paths](n.root,e.root,t.matrixParams)&&qd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function E(n,e,t){return T(n,e,e.segments,t)}function T(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Fe(o,t)||e.hasChildren()||!S(o,t,r))}if(n.segments.length===t.length){if(!Fe(n.segments,t)||!S(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!E(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Fe(n.segments,o)&&S(n.segments,o,r)&&n.children[ut])&&T(n.children[ut],e,u,r)}}function S(n,e,t){return e.every((r,o)=>qd[t](n[o].parameters,r.parameters))}class V{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return Ri.serialize(this)}}class B{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class ce{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xs(this.parameters)),this._parameterMap}toString(){return Is(this)}}function Fe(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class yt{}class at{parse(e){const t=new Or(e);return new V(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${eo(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${to(t)}=${to(o)}`).join("&"):`${to(t)}=${to(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Ri=new at;function In(n){return n.segments.map(e=>Is(e)).join("/")}function eo(n,e){if(!n.hasChildren())return In(n);if(e){const t=n.children[ut]?eo(n.children[ut],!1):"",r=[];return pn(n.children,(o,u)=>{u!==ut&&r.push(`${u}:${eo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return pn(n.children,(r,o)=>{o===ut&&(t=t.concat(e(r,o)))}),pn(n.children,(r,o)=>{o!==ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===ut?[eo(n.children[ut],!1)]:[`${o}:${eo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${In(n)}/${t[0]}`:`${In(n)}/(${t.join("//")})`}}function zd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function to(n){return zd(n).replace(/%3B/gi,";")}function ns(n){return zd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(n){return decodeURIComponent(n)}function CA(n){return bu(n.replace(/\+/g,"%20"))}function Is(n){return`${ns(n.path)}${function(n){return Object.keys(n).map(e=>`;${ns(e)}=${ns(n[e])}`).join("")}(n.parameters)}`}const DA=/^[^\/()?;=#]+/;function wu(n){const e=n.match(DA);return e?e[0]:""}const Kr=/^[^=?&#]+/,V0=/^[^?&#]+/;class Or{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new B([],{}):new B([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new B(e,t)),r}parseSegment(){const e=wu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ce(bu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=wu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=wu(this.remaining);o&&(r=o,this.capture(r))}e[bu(t)]=bu(r)}parseQueryParam(e){const t=function(n){const e=n.match(Kr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function(n){const e=n.match(V0);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=CA(t),u=CA(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wu(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=ut);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[ut]:new B([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class el{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ky(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ky(e,this._root).map(t=>t.value)}}function Wd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wd(n,t);if(r)return r}return null}function Ky(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ky(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class B0 extends el{constructor(e,t){super(e),this.snapshot=t,Yy(this,e)}toString(){return this.snapshot.toString()}}function Zy(n,e){const t=function(n,e){const d=new nl([],{},{},"",{},ut,e,null,n.root,-1,{});return new xp("",new xo(d,[]))}(n,e),r=new qr([new ce("",{})]),o=new qr({}),u=new qr({}),d=new qr({}),f=new qr(""),y=new Cu(r,o,d,f,u,ut,e,t.root);return y.snapshot=t.root,new B0(new xo(y,[]),t)}class Cu{constructor(e,t,r,o,u,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Xs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Xs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class nl{constructor(e,t,r,o,u,d,f,y,_,C,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=_,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xp extends el{constructor(e,t){super(t),this.url=e,Yy(this,t)}toString(){return Qy(this._root)}}function Yy(n,e){e.value._routerState=n,e.children.forEach(t=>Yy(n,t))}function Qy(n){const e=n.children.length>0?` { ${n.children.map(Qy).join(", ")} } `:"";return`${n.value}${e}`}function Iu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fn(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mp(n,e){const t=Fn(n.params,e.params)&&function(n,e){return Fe(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mp(n.parent,e.parent))}function rl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return rl(n,r,o);return rl(n,r)})}(n,e,t);return new xo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return Np(e,d),d}}const r=function(n){return new Cu(new qr(n.url),new qr(n.params),new qr(n.queryParams),new qr(n.fragment),new qr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>rl(n,u));return new xo(r,o)}}function Np(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Np(n.children[t],e.children[t])}function sl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ol(n){return"object"==typeof n&&null!=n&&n.outlets}function Jy(n,e,t,r,o){let u={};return r&&pn(r,(d,f)=>{u[f]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new V(t.root===n?e:Rp(t.root,n,e),u,o)}function Rp(n,e,t){const r={};return pn(n.children,(o,u)=>{r[u]=o===e?t:Rp(o,e,t)}),new B(n.segments,r)}class H0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sl(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(ol);if(o&&o!==Hd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function e_(n,e,t){if(n||(n=new B([],{})),0===n.segments.length&&n.hasChildren())return al(n,e,t);const r=function(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],f=t[r];if(ol(f))break;const y=`${f}`,_=r<t.length-1?t[r+1]:null;if(o>0&&void 0===y)break;if(y&&_&&"object"==typeof _&&void 0===_.outlets){if(!t_(y,_,d))return u;r+=2}else{if(!t_(y,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new B(n.segments.slice(0,r.pathIndex),{});return u.children[ut]=new B(n.segments.slice(r.pathIndex),n.children),al(u,0,o)}return r.match&&0===o.length?new B(n.segments,{}):r.match&&!n.hasChildren()?Kd(n,e,t):r.match?al(n,0,o):Kd(n,e,t)}function al(n,e,t){if(0===t.length)return new B(n.segments,{});{const r=function(n){return ol(n[0])?n[0].outlets:{[ut]:n}}(t),o={};return pn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=e_(n.children[d],e,u))}),pn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new B(n.segments,o)}}function Kd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(ol(u)){const y=PA(u.outlets);return new B(r,y)}if(0===o&&sl(t[0])){r.push(new ce(n.segments[e].path,z0(t[0]))),o++;continue}const d=ol(u)?u.outlets[ut]:`${u}`,f=o<t.length-1?t[o+1]:null;d&&f&&sl(f)?(r.push(new ce(d,z0(f))),o+=2):(r.push(new ce(d,{})),o++)}return new B(r,{})}function PA(n){const e={};return pn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Kd(new B([],{}),0,t))}),e}function z0(n){const e={};return pn(n,(t,r)=>e[r]=`${t}`),e}function t_(n,e,t){return n==t.path&&Fn(e,t.parameters)}class Tu{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=tl(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),pn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=tl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=tl(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new So(u.value.snapshot))}),e.children.length&&this.forwardEvent(new fa(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Iu(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),n_(f.route)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),y=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=y,d.outlet&&d.outlet.activateWith(o,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}function n_(n){Iu(n.value),n.children.forEach(n_)}class r_{constructor(e,t){this.routes=e,this.module=t}}function Ts(n){return"function"==typeof n}function ma(n){return n instanceof V}const ya=Symbol("INITIAL_VALUE");function _a(){return Wr(n=>function(...n){let e,t;return(0,_p.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,bs.k)(n[0])&&(n=n[0]),(0,zc.n)(n,t).lift(new Ep(e))}(n.map(e=>e.pipe(ky(1),function(...n){const e=n[n.length-1];return(0,_p.K)(e)?(n.pop(),t=>la(n,t,e)):t=>la(n,t)}(ya)))).pipe(Vd((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==ya?o:(u===ya&&(r=!0),r||!1!==u&&d!==t.length-1&&!ma(u)?o:u),e)},ya),Io(e=>e!==ya),(0,qt.U)(e=>ma(e)?e:!0===e),ky(1)))}let s_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},directives:function(){return[fw]},encapsulation:2}),n})();function Pp(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];o_(r,a_(e,r))}}function o_(n,e){n.children&&Pp(n.children,e)}function a_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Du(n){const e=n.children&&n.children.map(Du),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=s_),t}function rs(n){return n.outlet||ut}function u_(n,e){const t=n.filter(r=>rs(r)===e);return t.push(...n.filter(r=>rs(r)!==e)),t}const J0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Op(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},J0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||$d)(t,n,e);if(!u)return Object.assign({},J0);const d={};pn(u.posParams,(y,_)=>{d[_]=y.path});const f=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:f,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Zd(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Fp(n,e,r)&&rs(r)!==ut)}(n,t,r)){const d=new B(e,function(n,e,t,r){const o={};o[ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&rs(u)!==ut){const d=new B([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[rs(u)]=d}return o}(n,e,r,new B(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Fp(n,e,r))}(n,t,r)){const d=new B(n.segments,function(n,e,t,r,o,u){const d={};for(const f of r)if(Fp(n,t,f)&&!o[rs(f)]){const y=new B([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[rs(f)]=y}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new B(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function X0(n,e,t,r){return!!(rs(n)===r||r!==ut&&Fp(e,t,n))&&("**"===n.path||Op(e,n,t).matched)}function kA(n,e,t){return 0===e.length&&!n.children[t]}class Yd{constructor(e){this.segmentGroup=e||null}}class Qd{constructor(e){this.urlTree=e}}function ul(n){return new Ai.y(e=>e.error(new Yd(n)))}function d_(n){return new Ai.y(e=>e.error(new Qd(n)))}function ew(n){return new Ai.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class FA{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(g.h0i)}apply(){const e=Zd(this.urlTree.root,[],[],this.config).segmentGroup,t=new B(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ut).pipe((0,qt.U)(u=>this.createUrlTree(h_(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(da(u=>{if(u instanceof Qd)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Yd?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ut).pipe((0,qt.U)(o=>this.createUrlTree(h_(o),e.queryParams,e.fragment))).pipe(da(o=>{throw o instanceof Yd?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new B([],{[ut]:e}):e;return new V(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,qt.U)(u=>new B([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,wn.D)(o).pipe(Kc(u=>{const d=r.children[u],f=u_(t,u);return this.expandSegmentGroup(e,f,d,u).pipe((0,qt.U)(y=>({segment:y,outlet:u})))}),Vd((u,d)=>(u[d.outlet]=d.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Io((o,u)=>n(o,u,r)):Mi.y,Uy(1),t?Cp(e):_u(()=>new ws))}())}expandSegment(e,t,r,o,u,d){return(0,wn.D)(r).pipe(Kc(f=>this.expandSegmentAgainstRoute(e,t,r,f,o,u,d).pipe(da(_=>{if(_ instanceof Yd)return(0,Ct.of)(null);throw _}))),Ni(f=>!!f),da((f,y)=>{if(f instanceof ws||"EmptyError"===f.name){if(kA(t,o,u))return(0,Ct.of)(new B([],{}));throw new Yd(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,o,u,d,f){return X0(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):ul(t):ul(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?d_(u):this.lineralizeSegments(r,u).pipe((0,Pr.zg)(d=>{const f=new B(d,{});return this.expandSegment(e,f,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:f,consumedSegments:y,lastChild:_,positionalParamSegments:C}=Op(t,o,u);if(!f)return ul(t);const D=this.applyRedirectCommands(y,o.redirectTo,C);return o.redirectTo.startsWith("/")?d_(D):this.lineralizeSegments(o,D).pipe((0,Pr.zg)(M=>this.expandSegment(e,t,r,M.concat(u.slice(_)),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ct.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,qt.U)(M=>(r._loadedConfig=M,new B(o,{})))):(0,Ct.of)(new B(o,{}));const{matched:d,consumedSegments:f,lastChild:y}=Op(t,r,o);if(!d)return ul(t);const _=o.slice(y);return this.getChildConfig(e,r,o).pipe((0,Pr.zg)(D=>{const M=D.module,R=D.routes,{segmentGroup:j,slicedSegments:K}=Zd(t,f,_,R),re=new B(j.segments,j.children);if(0===K.length&&re.hasChildren())return this.expandChildren(M,R,re).pipe((0,qt.U)(Et=>new B(f,Et)));if(0===R.length&&0===K.length)return(0,Ct.of)(new B(f,{}));const Ae=rs(r)===u;return this.expandSegment(M,re,R,K,Ae?ut:u,!0).pipe((0,qt.U)(Le=>new B(f.concat(Le.segments),Le.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ct.of)(new r_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ct.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Pr.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,qt.U)(u=>(t._loadedConfig=u,u))):(n=t,new Ai.y(e=>e.error(Xc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ct.of)(new r_([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ct.of)(!0);const u=o.map(d=>{const f=e.get(d);let y;if((n=f)&&Ts(n.canLoad))y=f.canLoad(t,r);else{if(!Ts(f))throw new Error("Invalid CanLoad guard");y=f(t,r)}var n;return Ln(y)});return(0,Ct.of)(u).pipe(_a(),(0,En.b)(d=>{if(!ma(d))return;const f=Xc(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,qt.U)(d=>!0===d))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ct.of)(r);if(o.numberOfChildren>1||!o.children[ut])return ew(e.redirectTo);o=o.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new V(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[u]=t[f]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return pn(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,o)}),new B(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function h_(n){const e={};for(const r of Object.keys(n.children)){const u=h_(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new B(n.segments.concat(e.segments),e.children)}return n}(new B(n.segments,e))}class nw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class is{constructor(e,t){this.component=e,this.route=t}}function cl(n,e,t){const r=n._root;return Jd(r,e?e._root:null,t,[r.value])}function Lp(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Jd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=tl(e);return n.children.forEach(d=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fe(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mp(n,e)||!Fn(n.queryParams,e.queryParams);default:return!Mp(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new nw(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Jd(n,e,u.component?f?f.children:null:t,r,o),y&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new is(f.outlet.component,d))}else d&&ll(e,f,o),o.canActivateChecks.push(new nw(r)),Jd(n,null,u.component?f?f.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),pn(u,(d,f)=>ll(d,t.getContext(f),o)),o}function ll(n,e,t){const r=tl(n),o=n.value;pn(r,(u,d)=>{ll(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new is(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class no{}function dl(n){return new Ai.y(e=>e.error(n))}class ow{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Zd(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ut);if(null===t)return null;const r=new nl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new xo(r,t),u=new xp(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=j0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],f=u_(e,u),y=this.processSegmentGroup(f,d,u);if(null===y)return null;r.push(...y)}const o=WA(r);return o.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return kA(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!X0(e,t,r,o))return null;let u,d=[],f=[];if("**"===e.path){const R=r.length>0?Hd(r).parameters:{};u=new nl(r,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,KA(e),rs(e),e.component,e,Vp(t),Up(t)+r.length,ZA(e))}else{const R=Op(t,e,r);if(!R.matched)return null;d=R.consumedSegments,f=r.slice(R.lastChild),u=new nl(d,R.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,KA(e),rs(e),e.component,e,Vp(t),Up(t)+d.length,ZA(e))}const y=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:_,slicedSegments:C}=Zd(t,d,f,y.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);var n;if(0===C.length&&_.hasChildren()){const R=this.processChildren(y,_);return null===R?null:[new xo(u,R)]}if(0===y.length&&0===C.length)return[new xo(u,[])];const D=rs(e)===o,M=this.processSegment(y,_,C,D?ut:o);return null===M?null:[new xo(u,M)]}}function OP(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function WA(n){const e=[],t=new Set;for(const r of n){if(!OP(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=WA(r.children);e.push(new xo(r.value,o))}return e.filter(r=>!t.has(r))}function Vp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Up(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function KA(n){return n.data||{}}function ZA(n){return n.resolve||{}}function Bp(n){return Wr(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,qt.U)(()=>e)):(0,Ct.of)(e)})}class f_ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const p_=new g.OlP("ROUTES");class Tn{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,qt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new r_(Cn(d.injector.get(p_,void 0,g.XFs.Self|g.XFs.Optional)).map(Du),d)}),da(u=>{throw t._loader$=void 0,u}));return t._loader$=new Ld.c(o,()=>new Es.xQ).pipe((0,Tp.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,wn.D)(this.loader.load(e)):Ln(e()).pipe((0,Pr.zg)(t=>t instanceof g.YKP?(0,Ct.of)(t):(0,wn.D)(this.compiler.compileModuleAsync(t))))}}class eS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hl,this.attachRef=null}}class hl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new eS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class dw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tS(n){throw n}function nS(n,e,t){return e.parse("/")}function hw(n,e){return(0,Ct.of)(null)}const rS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class n{constructor(t,r,o,u,d,f,y,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Es.xQ,this.errorHandler=tS,this.malformedUriErrorHandler=nS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hw,afterPreactivation:hw},this.urlHandlingStrategy=new dw,this.routeReuseStrategy=new f_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(g.h0i),this.console=d.get(g.c2e);const M=d.get(g.R0b);this.isNgZoneEnabled=M instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new V(new B([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tn(f,y,R=>this.triggerEvent(new Ap(R)),R=>this.triggerEvent(new ha(R))),this.routerState=Zy(this.currentUrlTree,this.rootComponentType),this.transitions=new qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Io(o=>0!==o.id),(0,qt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Wr(o=>{let u=!1,d=!1;return(0,Ct.of)(o).pipe((0,En.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wr(f=>{const y=this.browserUrlTree.toString(),_=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return va(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Ct.of)(f).pipe(Wr(D=>{const M=this.transitions.getValue();return r.next(new Dr(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions.getValue()?pi.E:Promise.resolve(D)}),function(n,e,t,r){return Wr(o=>function(n,e,t,r,o){return new FA(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,qt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Pr.zg)(u=>function(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new ow(n,e,t,r,o,u).recognize();return null===d?dl(new no):(0,Ct.of)(d)}catch(d){return dl(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,qt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(D=>{"eager"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(D.urlAfterRedirects,D),this.browserUrlTree=D.urlAfterRedirects);const M=new $y(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(M)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:R,source:j,restoredState:K,extras:re}=f,Ae=new Dr(M,this.serializeUrl(R),j,K);r.next(Ae);const qe=Zy(R,this.rootComponentType).snapshot;return(0,Ct.of)(Object.assign(Object.assign({},f),{targetSnapshot:qe,urlAfterRedirects:R,extras:Object.assign(Object.assign({},re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),pi.E}),Bp(f=>{const{targetSnapshot:y,id:_,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:R}}=f;return this.hooks.beforePreactivation(y,{navigationId:_,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!R})}),(0,En.b)(f=>{const y=new gi(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,qt.U)(f=>Object.assign(Object.assign({},f),{guards:cl(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Pr.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,Ct.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,wn.D)(n).pipe((0,Pr.zg)(o=>function(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Ct.of)(!0);const d=u.map(f=>{const y=Lp(f,e,o);let _;if(function(n){return n&&Ts(n.canDeactivate)}(y))_=Ln(y.canDeactivate(n,e,t,r));else{if(!Ts(y))throw new Error("Invalid CanDeactivate guard");_=Ln(y(n,e,t,r))}return _.pipe(Ni())});return(0,Ct.of)(d).pipe(_a())}(o.component,o.route,t,e,r)),Ni(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Pr.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,wn.D)(e).pipe(Kc(o=>la(function(n,e){return null!==n&&e&&e(new Bd(n)),(0,Ct.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Sp(n)),(0,Ct.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Fd(()=>{const f=d.guards.map(y=>{const _=Lp(y,d.node,t);let C;if(function(n){return n&&Ts(n.canActivateChild)}(_))C=Ln(_.canActivateChild(r,n));else{if(!Ts(_))throw new Error("Invalid CanActivateChild guard");C=Ln(_(r,n))}return C.pipe(Ni())});return(0,Ct.of)(f).pipe(_a())}));return(0,Ct.of)(u).pipe(_a())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ct.of)(!0);const o=r.map(u=>Fd(()=>{const d=Lp(u,e,t);let f;if(function(n){return n&&Ts(n.canActivate)}(d))f=Ln(d.canActivate(e,n));else{if(!Ts(d))throw new Error("Invalid CanActivate guard");f=Ln(d(e,n))}return f.pipe(Ni())}));return(0,Ct.of)(o).pipe(_a())}(n,o.route,t))),Ni(o=>!0!==o,!0))}(r,u,n,e):(0,Ct.of)(f)),(0,qt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,En.b)(f=>{if(ma(f.guardsResult)){const _=Xc(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw _.url=f.guardsResult,_}const y=new Dp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Io(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Bp(f=>{if(f.guards.canActivateChecks.length)return(0,Ct.of)(f).pipe((0,En.b)(y=>{const _=new Gy(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(_)}),Wr(y=>{let _=!1;return(0,Ct.of)(y).pipe(function(n,e){return(0,Pr.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ct.of)(t);let u=0;return(0,wn.D)(o).pipe(Kc(d=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ct.of)({});const u={};return(0,wn.D)(o).pipe((0,Pr.zg)(d=>function(n,e,t,r){const o=Lp(n,e,r);return Ln(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,En.b)(f=>{u[d]=f}))),Uy(1),(0,Pr.zg)(()=>Object.keys(u).length===o.length?(0,Ct.of)(u):pi.E))}(n._resolve,n,e,r).pipe((0,qt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),j0(n,t).resolve),null)))}(d.route,r,n,e)),(0,En.b)(()=>u++),Uy(1),(0,Pr.zg)(d=>u===o.length?(0,Ct.of)(t):pi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,En.b)(y=>{const _=new Ud(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(_)}))}),Bp(f=>{const{targetSnapshot:y,id:_,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:R}}=f;return this.hooks.afterPreactivation(y,{navigationId:_,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!R})}),(0,qt.U)(f=>{const y=function(n,e,t){const r=rl(n,e._root,t?t._root:void 0);return new B0(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,En.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,qt.U)(r=>(new Tu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,En.b)({next(){u=!0},complete(){u=!0}}),function(n){return e=>e.lift(new jy(n))}(()=>{var f;if(!u&&!d){const y=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,y)):this.cancelNavigationTransition(o,y)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===o.id&&(this.currentNavigation=null)}),da(f=>{if(d=!0,function(n){return n&&n[Hy]}(f)){const y=ma(f.url);y||(this.navigated=!0,this.restoreHistory(o,!0));const _=new Ao(o.id,this.serializeUrl(o.extractedUrl),f.message);r.next(_),y?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||va(o.source)};this.scheduleNavigation(C,"imperative",null,D,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const y=new F0(o.id,this.serializeUrl(o.extractedUrl),f);r.next(y);try{o.resolve(this.errorHandler(f))}catch(_){o.reject(_)}}return pi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:u,urlTree:d}=r,f={replaceUrl:!0};if(u){const y=Object.assign({},u);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(f.state=y)}this.scheduleNavigation(d,o,u,f)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pp(t),this.config=t.map(Du),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,_=o||this.routerState.root,C=y?this.currentUrlTree.fragment:d;let D=null;switch(f){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=u||null}return null!==D&&(D=this.removeEmptyProps(D)),function(n,e,t,r,o){if(0===t.length)return Jy(e.root,e.root,e,r,o);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new H0(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return pn(u.outlets,(y,_)=>{f[_]="string"==typeof y?y.split("/"):y}),[...o,{outlets:f}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&o.push(f))}),o):[...o,u]},[]);return new H0(t,e,r)}(t);if(u.toRoot())return Jy(e.root,new B([],{}),e,r,o);const d=function(n,e,t){if(n.isAbsolute)return new Xy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Xy(u,u===e.root,0)}const r=sl(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Xy(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),f=d.processChildren?al(d.segmentGroup,d.index,u.commands):e_(d.segmentGroup,d.index,u.commands);return Jy(d.segmentGroup,f,e,r,o)}(_,this.currentUrlTree,t,D,null!=C?C:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=ma(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},rS):!1===r?Object.assign({},iS):r,ma(t))return zy(this.currentUrlTree,t,o);const u=this.parseUrl(t);return zy(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Do(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var f,y;if(this.disposed)return Promise.resolve(!1);const _=this.getTransition(),C=va(r)&&_&&!va(_.source),R=(this.lastSuccessfulId===_.id||this.currentNavigation?_.rawUrl:_.urlAfterRedirects).toString()===t.toString();if(C&&R)return Promise.resolve(!0);let j,K,re;d?(j=d.resolve,K=d.reject,re=d.promise):re=new Promise((Le,Et)=>{j=Le,K=Et});const Ae=++this.navigationId;let qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),qe=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):qe=0,this.setTransition({id:Ae,targetPageId:qe,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:j,reject:K,promise:re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),re.catch(Le=>Promise.reject(Le))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Ao(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.DyG),g.LFG(yt),g.LFG(hl),g.LFG(xr),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function va(n){return"imperative"!==n}let m_=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.commands=[],this.onChanges=new Es.xQ,null==o&&u.setAttribute(d.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Ea(this.skipLocationChange),replaceUrl:Ea(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ea(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Oi),g.Y36(Cu),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&g.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),n})(),eh=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=[],this.onChanges=new Es.xQ,this.subscription=t.events.subscribe(u=>{u instanceof Do&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){if(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Ea(this.skipLocationChange),replaceUrl:Ea(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ea(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Oi),g.Y36(Cu),g.Y36(Xe))},n.\u0275dir=g.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&g.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&(g.Ikx("href",r.href,g.LSH),g.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),n})();function Ea(n){return""===n||!!n}let y_=(()=>{class n{constructor(t,r,o,u,d,f){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=d,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof Do&&this.update()})}ngAfterContentInit(){(0,Ct.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ct.of)(null)).pipe((0,yu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,wn.D)(r).pipe((0,yu.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Oi),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(m_,8),g.Y36(eh,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(g.Suo(o,m_,5),g.Suo(o,eh,5)),2&t){let u;g.iGM(u=g.CRH())&&(r.links=u),g.iGM(u=g.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[g.TTD]}),n})(),fw=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=u||ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,y=new pw(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(hl),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class pw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cu?this.route:e===hl?this.childContexts:this.parent.get(e,t)}}class th{}class gw{preload(e,t){return(0,Ct.of)(null)}}let xu=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=u,this.preloadingStrategy=d,this.loader=new Tn(r,o,_=>t.triggerEvent(new Ap(_)),_=>t.triggerEvent(new ha(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Io(t=>t instanceof Do),Kc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(g.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,wn.D)(o).pipe((0,yu.J)(),(0,qt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ct.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Pr.zg)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Oi),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(th))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),__=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Do&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pa&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pa(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Oi),g.LFG(Nc),g.LFG(void 0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const fr=new g.OlP("ROUTER_CONFIGURATION"),v_=new g.OlP("ROUTER_FORROOT_GUARD"),uS=[xr,{provide:yt,useClass:at},{provide:Oi,useFactory:function(n,e,t,r,o,u,d,f={},y,_){const C=new Oi(null,n,e,t,r,o,u,Cn(d));return y&&(C.urlHandlingStrategy=y),_&&(C.routeReuseStrategy=_),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(f,C),f.enableTracing&&C.events.subscribe(D=>{var M,R;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(R=console.groupEnd)||void 0===R||R.call(console)}),C},deps:[yt,hl,xr,g.zs3,g.v3s,g.Sil,p_,fr,[class{},new g.FiY],[class{},new g.FiY]]},hl,{provide:Cu,useFactory:function(n){return n.routerState.root},deps:[Oi]},{provide:g.v3s,useClass:g.EAV},xu,gw,class{preload(e,t){return t().pipe(da(()=>(0,Ct.of)(null)))}},{provide:fr,useValue:{enableTracing:!1}}];function mw(){return new g.PXZ("Router",Oi)}let cS=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[uS,_w(t),{provide:v_,useFactory:dS,deps:[[Oi,new g.FiY,new g.tp0]]},{provide:fr,useValue:r||{}},{provide:Xe,useFactory:lS,deps:[ye,[new g.tBr(xe),new g.FiY],fr]},{provide:__,useFactory:yw,deps:[Oi,Nc,fr]},{provide:th,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gw},{provide:g.PXZ,multi:!0,useFactory:mw},[vw,{provide:g.ip1,multi:!0,useFactory:Ew,deps:[vw]},{provide:E_,useFactory:VP,deps:[vw]},{provide:g.tb,multi:!0,useExisting:E_}]]}}static forChild(t){return{ngModule:n,providers:[_w(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(v_,8),g.LFG(Oi,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function yw(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new __(n,e,t)}function lS(n,e,t={}){return t.useHash?new Rn(n,e):new we(n,e)}function dS(n){return"guarded"}function _w(n){return[{provide:g.deG,multi:!0,useValue:n},{provide:p_,multi:!0,useValue:n}]}let vw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Es.xQ}appInitializer(){return this.injector.get(N,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(f=>r=f),u=this.injector.get(Oi),d=this.injector.get(fr);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,Ct.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(fr),o=this.injector.get(xu),u=this.injector.get(__),d=this.injector.get(Oi),f=this.injector.get(g.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Ew(n){return n.appInitializer.bind(n)}function VP(n){return n.bootstrapListener.bind(n)}const E_=new g.OlP("Router Initializer");var z=k(239),pl=(()=>((pl||(pl={})).Cart="cart",pl))();let fS=(()=>{class n{constructor(){this.storageValueList={}}get storage(){return localStorage}set(t,r){var o=this;return(0,z.Z)(function*(){return yield o.storage.setItem(t,JSON.stringify(r)),o.storageValueList[t]=r,r})()}get(t,r=!1){var o=this;return(0,z.Z)(function*(){let u=o.storageValueList[t];if(u)return u;const d=yield o.storage.getItem(t),f=JSON.parse(d);return f||(o.storageValueList[t]=f),f})()}remove(t){var r=this;return(0,z.Z)(function*(){r.storage.removeItem&&localStorage.removeItem(t),r.storage.remove&&(yield r.storage.remove(t)),r.storageValueList[t]=null})()}removeAll(){var t=this;return(0,z.Z)(function*(){yield Object.values(pl).forEach(r=>{t.storage.removeItem&&localStorage.removeItem(r),t.storage.remove&&t.storage.remove(r),t.storageValueList[r]=null})})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tn=k(722),ba=k(213);class Mu{constructor(e){return e}}class b_{constructor(){return(0,ba.C6)()}}const w_=new g.OlP("angularfire2._apps"),bw={provide:Mu,useFactory:function(n){return n&&1===n.length?n[0]:new Mu((0,ba.Mq)())},deps:[[new g.FiY,w_]]},gS={provide:b_,deps:[[new g.FiY,w_]]};function mS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mu(r)}}let yS=(()=>{class n{constructor(t){(0,ba.KN)("angularfire",tn.q4.full,"core"),(0,ba.KN)("angularfire",tn.q4.full,"app"),(0,ba.KN)("angular",g.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[bw,gS]}),n})();function ht(n,...e){return{ngModule:yS,providers:[{provide:w_,useFactory:mS(n),multi:!0,deps:[g.R0b,g.zs3,tn.HU,...e]}]}}const Ds=(0,tn.u3)(ba.ZF,!0);var nn=k(26),Nu=k(910),nt=k(854),As=k(422);const Cw=new Map,I_={activated:!1,tokenObservers:[]},GP={initialized:!1,enabled:!1};function gn(n){return Cw.get(n)||Object.assign({},I_)}function Ru(){return GP}class qP{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,z.Z)(function*(){t.stop();try{t.pending=new nt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new nt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zr=new nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IS(n){if(!gn(n).activated)throw Zr.create("use-before-activation",{appName:n.name})}function Sw(n,e){return xw.apply(this,arguments)}function xw(){return(xw=(0,z.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const D=yield o.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,u)}catch(D){throw Zr.create("fetch-network-error",{originalErrorMessage:null==D?void 0:D.message})}if(200!==d.status)throw Zr.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(D){throw Zr.create("fetch-parse-error",{originalErrorMessage:null==D?void 0:D.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(y[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+_,issuedAtTimeMillis:C}})).apply(this,arguments)}function KP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Gp="firebase-app-check-store";let ml=null;function Mw(){return ml||(ml=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Zr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gp,{keyPath:"compositeKey"})}}catch(t){e(Zr.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),ml)}function io(){return(io=(0,z.Z)(function*(n,e){const r=(yield Mw()).transaction(Gp,"readwrite"),u=r.objectStore(Gp).put({compositeKey:n,value:e});return new Promise((d,f)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var _;f(Zr.create("storage-set",{originalErrorMessage:null===(_=y.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Pu=new As.Yd("@firebase/app-check");function M_(n,e){return(0,nt.hl)()?function(n,e){return function(n,e){return io.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Pu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ku(){return Ru().enabled}function qp(){return wa.apply(this,arguments)}function wa(){return(wa=(0,z.Z)(function*(){const n=Ru();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yl={error:"UNKNOWN_ERROR"};function SS(n){return nt.US.encodeString(JSON.stringify(n),!1)}function ih(n){return zp.apply(this,arguments)}function zp(){return(zp=(0,z.Z)(function*(n,e=!1){const t=n.app;IS(t);const r=gn(t);let u,o=r.token;if(o&&!Fu(o)&&(r.token=void 0,o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(Fu(y)?o=y:yield M_(t,void 0))}if(!e&&o&&Fu(o))return{token:o.token};let f,d=!1;if(ku()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sw(KP(t,yield qp()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield M_(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield gn(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Pu.warn(y.message):Pu.error(y),u=y}return o?u?f=Fu(o)?{token:o.token,internalError:u}:xS(u):(f={token:o.token},r.token=o,yield M_(t,o)):f=xS(u),d&&Ow(t,f),f})).apply(this,arguments)}function oh(n,e){const t=gn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function N_(n){const{app:e}=n,t=gn(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new qP((0,z.Z)(function*(){let r;if(r=gn(e).token?yield ih(n,!0):yield ih(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ow(n,e){const t=gn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Fu(n){return n.expireTimeMillis-Date.now()>0}function xS(n){return{token:SS(yl),error:n}}class kw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gn(this.app);for(const t of e)oh(this.app,t.next);return Promise.resolve()}}const Zp="app-check-internal";(0,nn._registerComponent)(new Nu.wA("app-check",n=>function(n,e){return new kw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Zp).initialize()})),(0,nn._registerComponent)(new Nu.wA(Zp,n=>function(n){return{getToken:e=>ih(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,u=gn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Fu(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),N_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>N_(n))}(n,"INTERNAL",e),removeTokenListener:e=>oh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nn.registerVersion)("@firebase/app-check","0.6.4");class Yp{constructor(){return(0,tn.vb)("app-check")}}function B_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}"undefined"!=typeof window&&window;const H_=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ZS=new nt.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xp=new As.Yd("@firebase/auth");function vl(n,...e){Xp.logLevel<=As.in.ERROR&&Xp.error(`Auth (${nn.SDK_VERSION}): ${n}`,...e)}function Fi(n,...e){throw eg(n,...e)}function oo(n,...e){return eg(n,...e)}function Xw(n,e,t){const r=Object.assign(Object.assign({},H_()),{[e]:t});return new nt.LL("auth","Firebase",r).create(e,{appName:n.name})}function eg(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZS.create(n,...e)}function Ce(n,e,...t){if(!n)throw eg(e,...t)}function Ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vl(e),new Error(e)}function Ta(n,e){n||Ss(e)}const eC=new Map;function Li(n){Ta(n instanceof Function,"Expected a class definition");let e=eC.get(n);return e?(Ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eC.set(n,e),e)}function El(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function z_(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class dh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ta(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,nt.uI)()||(0,nt.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===z_()||"https:"===z_()||(0,nt.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function W_(n,e){Ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class K_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nC=new dh(3e4,6e4);function ur(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function pr(n,e,t,r){return rC.apply(this,arguments)}function rC(){return(rC=(0,z.Z)(function*(n,e,t,r,o={}){return JS(n,o,(0,z.Z)(function*(){let u={},d={};r&&("GET"===e?d=r:u={body:JSON.stringify(r)});const f=(0,nt.xO)(Object.assign({key:n.config.apiKey},d)).slice(1),y=yield n._getAdditionalHeaders();return y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode),K_.fetch()(Z_(n,n.config.apiHost,t,f),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function JS(n,e,t){return hh.apply(this,arguments)}function hh(){return(hh=(0,z.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vO),e);try{const o=new EO(n),u=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=yield u.json();if("needConfirmation"in d)throw Yr(n,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const f=u.ok?d.errorMessage:d.error.message,[y,_]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===y)throw Yr(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===y)throw Yr(n,"email-already-in-use",d);if("USER_DISABLED"===y)throw Yr(n,"user-disabled",d);const C=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Xw(n,C,_);Fi(n,C)}}catch(o){if(o instanceof nt.ZR)throw o;Fi(n,"internal-error",{message:String(o)})}})).apply(this,arguments)}function No(n,e,t,r){return ng.apply(this,arguments)}function ng(){return(ng=(0,z.Z)(function*(n,e,t,r,o={}){const u=yield pr(n,e,t,r,o);return"mfaPendingCredential"in u&&Fi(n,"multi-factor-auth-required",{_serverResponse:u}),u})).apply(this,arguments)}function Z_(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?W_(n.config,o):`${n.config.apiScheme}://${o}`}class EO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),nC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=oo(n,e,r);return o.customData._tokenResponse=t,o}function iC(){return(iC=(0,z.Z)(function*(n,e){return pr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function sC(n,e){return ig.apply(this,arguments)}function ig(){return(ig=(0,z.Z)(function*(n,e){return pr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function fh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function ph(){return(ph=(0,z.Z)(function*(n,e=!1){const t=(0,nt.m9)(n),r=yield t.getIdToken(e),o=bl(r);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u="object"==typeof o.firebase?o.firebase:void 0,d=null==u?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:fh(Y_(o.auth_time)),issuedAtTime:fh(Y_(o.iat)),expirationTime:fh(Y_(o.exp)),signInProvider:d||null,signInSecondFactor:(null==u?void 0:u.sign_in_second_factor)||null}})).apply(this,arguments)}function Y_(n){return 1e3*Number(n)}function bl(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return vl("JWT malformed, contained fewer than 3 sections"),null;try{const o=(0,nt.tV)(t);return o?JSON.parse(o):(vl("Failed to decode base64 JWT payload"),null)}catch(o){return vl("Caught error parsing JWT payload as JSON",null==o?void 0:o.toString()),null}}function Ro(n,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,z.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof nt.ZR&&ex(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function ex({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,z.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,z.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class aC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fh(this.lastLoginAt),this.creationTime=fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Da(n){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,z.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield Ro(n,sC(t,{idToken:r}));Ce(null==o?void 0:o.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const d=(null===(e=u.providerUserInfo)||void 0===e?void 0:e.length)?nx(u.providerUserInfo):[],f=gh(n.providerData,d),C=!!n.isAnonymous&&!(n.email&&u.passwordHash||(null==f?void 0:f.length)),D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new aC(u.createdAt,u.lastLoginAt),isAnonymous:C};Object.assign(n,D)})).apply(this,arguments)}function Vi(){return(Vi=(0,z.Z)(function*(n){const e=(0,nt.m9)(n);yield Da(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function gh(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function nx(n){return n.map(e=>{var{providerId:t}=e,r=B_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mh(){return(mh=(0,z.Z)(function*(n,e){const t=yield JS(n,{},(0,z.Z)(function*(){const r=(0,nt.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,d=Z_(n,o,"/v1/token",`key=${u}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",K_.fetch()(d,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(void 0!==e.idToken,"internal-error"),Ce(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=bl(n);return Ce(e,"internal-error"),Ce(void 0!==e.exp,"internal-error"),Ce(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,z.Z)(function*(){return Ce(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,z.Z)(function*(){const{accessToken:o,refreshToken:u,expiresIn:d}=yield function(n,e){return mh.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,u,Number(d))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,d=new mi;return r&&(Ce("string"==typeof r,"internal-error",{appName:e}),d.refreshToken=r),o&&(Ce("string"==typeof o,"internal-error",{appName:e}),d.accessToken=o),u&&(Ce("number"==typeof u,"internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mi,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function ss(n,e){Ce("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Vn{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,u=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new aC(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,z.Z)(function*(){const r=yield Ro(t,t.stsTokenManager.getToken(t.auth,e));return Ce(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return ph.apply(this,arguments)}(this,e)}reload(){return function(n){return Vi.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,z.Z)(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield Da(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,z.Z)(function*(){const t=yield e.getIdToken();return yield Ro(e,function(n,e){return iC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,u,d,f,y,_,C;const D=null!==(r=t.displayName)&&void 0!==r?r:void 0,M=null!==(o=t.email)&&void 0!==o?o:void 0,R=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,j=null!==(d=t.photoURL)&&void 0!==d?d:void 0,K=null!==(f=t.tenantId)&&void 0!==f?f:void 0,re=null!==(y=t._redirectEventId)&&void 0!==y?y:void 0,Ae=null!==(_=t.createdAt)&&void 0!==_?_:void 0,qe=null!==(C=t.lastLoginAt)&&void 0!==C?C:void 0,{uid:Le,emailVerified:Et,isAnonymous:Nt,providerData:bt,stsTokenManager:Gt}=t;Ce(Le&&Gt,e,"internal-error");const br=mi.fromJSON(this.name,Gt);Ce("string"==typeof Le,e,"internal-error"),ss(D,e.name),ss(M,e.name),Ce("boolean"==typeof Et,e,"internal-error"),Ce("boolean"==typeof Nt,e,"internal-error"),ss(R,e.name),ss(j,e.name),ss(K,e.name),ss(re,e.name),ss(Ae,e.name),ss(qe,e.name);const Us=new Vn({uid:Le,auth:e,email:M,emailVerified:Et,displayName:D,isAnonymous:Nt,photoURL:j,phoneNumber:R,tenantId:K,stsTokenManager:br,createdAt:Ae,lastLoginAt:qe});return bt&&Array.isArray(bt)&&(Us.providerData=bt.map(Zo=>Object.assign({},Zo))),re&&(Us._redirectEventId=re),Us}static _fromIdTokenResponse(e,t,r=!1){return(0,z.Z)(function*(){const o=new mi;o.updateFromServerResponse(t);const u=new Vn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield Da(u),u})()}}const yh=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,z.Z)(function*(){return!0})()}_set(t,r){var o=this;return(0,z.Z)(function*(){o.storage[t]=r})()}_get(t){var r=this;return(0,z.Z)(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return(0,z.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Qr(n,e,t){return`firebase:${n}:${e}:${t}`}class Sa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Qr(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qr("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,z.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Vn._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,z.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,z.Z)(function*(){if(!t.length)return new Sa(Li(yh),e,r);const o=(yield Promise.all(t.map(function(){var _=(0,z.Z)(function*(C){if(yield C._isAvailable())return C});return function(C){return _.apply(this,arguments)}}()))).filter(_=>_);let u=o[0]||Li(yh);const d=Qr(r,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const C=yield _._get(d);if(C){const D=Vn._fromJSON(e,C);_!==u&&(f=D),u=_;break}}catch(C){}const y=o.filter(_=>_._shouldAllowMigration);return u._shouldAllowMigration&&y.length?(u=y[0],f&&(yield u._set(d,f.toJSON())),yield Promise.all(t.map(function(){var _=(0,z.Z)(function*(C){if(C!==u)try{yield C._remove(d)}catch(D){}});return function(C){return _.apply(this,arguments)}}())),new Sa(u,e,r)):new Sa(u,e,r)})()}}function Vu(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ju(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gu(e))return"Blackberry";if(Hu(e))return"Webos";if(xa(e))return"Safari";if((e.includes("chrome/")||Bu(e))&&!e.includes("edge/"))return"Chrome";if($u(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Uu(n=(0,nt.z$)()){return/firefox\//i.test(n)}function xa(n=(0,nt.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bu(n=(0,nt.z$)()){return/crios\//i.test(n)}function ju(n=(0,nt.z$)()){return/iemobile/i.test(n)}function $u(n=(0,nt.z$)()){return/android/i.test(n)}function Gu(n=(0,nt.z$)()){return/blackberry/i.test(n)}function Hu(n=(0,nt.z$)()){return/webos/i.test(n)}function Po(n=(0,nt.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function J_(n=(0,nt.z$)()){return Po(n)||$u(n)||Hu(n)||Gu(n)||/windows phone/i.test(n)||ju(n)}function X_(n,e=[]){let t;switch(n){case"Browser":t=Vu((0,nt.z$)());break;case"Worker":t=`${Vu((0,nt.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nn.SDK_VERSION}/${r}`}class hC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((d,f)=>{try{d(e(u))}catch(y){f(y)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,z.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const o of t.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const u of r)try{u()}catch(d){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==o?void 0:o.message})}})()}}class fC{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pC(this),this.idTokenSubscription=new pC(this),this.beforeStateQueue=new hC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue((0,z.Z)(function*(){var o,u;if(!r._deleted&&(r.persistenceManager=yield Sa.create(r,e),!r._deleted)){if(null===(o=r._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(d){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,z.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,z.Z)(function*(){var r;const o=yield t.assertedPersistence.getCurrentUser();let u=o,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,y=null==u?void 0:u._redirectEventId,_=yield t.tryRedirectSignIn(e);(!f||f===y)&&(null==_?void 0:_.user)&&(u=_.user,d=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(u)}catch(f){u=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Ce(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,z.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(o){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,z.Z)(function*(){try{yield Da(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,z.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,z.Z)(function*(){const r=e?(0,nt.m9)(e):null;return r&&Ce(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,z.Z)(function*(){if(!r._deleted)return e&&Ce(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,z.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,z.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,z.Z)(function*(){yield t.assertedPersistence.setPersistence(Li(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,z.Z)(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,z.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Li(e)||t._popupRedirectResolver;Ce(r,t,"argument-error"),t.redirectPersistenceManager=yield Sa.create(t,[Li(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,z.Z)(function*(){var r,o;return t._isInitialized&&(yield t.queue((0,z.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,z.Z)(function*(){if(e===t.currentUser)return t.queue((0,z.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t),d=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(d,this,"internal-error"),d.then(()=>u(this.currentUser)),"function"==typeof t?e.addObserver(t,r,o):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,z.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,z.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return o&&(r["X-Firebase-Client"]=o),r})()}}function Jr(n){return(0,nt.m9)(n)}class pC{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,nt.ne)(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ev(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ao(n,e){return IC.apply(this,arguments)}function IC(){return(IC=(0,z.Z)(function*(n,e){return No(n,"POST","/v1/accounts:signInWithIdp",ur(n,e))})).apply(this,arguments)}class Oo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cv extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,o=!1){return(0,z.Z)(function*(){const u=yield Vn._fromIdTokenResponse(e,r,o),d=yx(r);return new Ui({user:u,providerId:d,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,z.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const o=yx(r);return new Ui({user:e,providerId:o,_tokenResponse:r,operationType:t})})()}}function yx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Cl extends nt.ZR{constructor(e,t,r,o){var u;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Cl.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Cl(e,t,r,o)}}function AC(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?Cl._fromErrorAndOperation(n,u,e,r):u})}function Ah(n,e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,z.Z)(function*(n,e,t=!1){const r=yield Ro(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ui._forOperation(n,"link",r)})).apply(this,arguments)}function hg(){return(hg=(0,z.Z)(function*(n,e,t=!1){const{auth:r}=n,o="reauthenticate";try{const u=yield Ro(n,AC(r,o,e,n),t);Ce(u.idToken,r,"internal-error");const d=bl(u.idToken);Ce(d,r,"internal-error");const{sub:f}=d;return Ce(n.uid===f,r,"user-mismatch"),Ui._forOperation(n,o,u)}catch(u){throw"auth/user-not-found"===(null==u?void 0:u.code)&&Fi(r,"user-mismatch"),u}})).apply(this,arguments)}function pg(){return(pg=(0,z.Z)(function*(n,e,t=!1){const r="signIn",o=yield AC(n,r,e),u=yield Ui._fromIdTokenResponse(n,r,o);return t||(yield n._updateCurrentUser(u.user)),u})).apply(this,arguments)}new WeakMap;const Ag="__sak";class $C{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ag,"1"),this.storage.removeItem(Ag),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Px=(()=>{class n extends $C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=(0,nt.z$)();return xa(n)||Po(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=J_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),u=this.localCache[r];o!==u&&t(r,u,o)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,y,_)=>{this.notifyListeners(f,_)});const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(o);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const u=()=>{const f=this.storage.getItem(o);!r&&this.localCache[o]===f||this.notifyListeners(o,f)},d=this.storage.getItem(o);(0,nt.w1)()&&10===document.documentMode&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,10):u()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var o=()=>super._set,u=this;return(0,z.Z)(function*(){yield o().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,o=this;return(0,z.Z)(function*(){const u=yield r().call(o,t);return o.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,o=this;return(0,z.Z)(function*(){yield r().call(o,t),delete o.localCache[t]})()}}return n.type="LOCAL",n})(),GC=(()=>{class n extends $C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let kx=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const o=new n(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,z.Z)(function*(){const o=t,{eventId:u,eventType:d,data:f}=o.data,y=r.handlersMap[d];if(!(null==y?void 0:y.size))return;o.ports[0].postMessage({status:"ack",eventId:u,eventType:d});const _=Array.from(y).map(function(){var D=(0,z.Z)(function*(M){return M(o.origin,f)});return function(M){return D.apply(this,arguments)}}()),C=yield function(n){return Promise.all(n.map(function(){var e=(0,z.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);o.ports[0].postMessage({status:"done",eventId:u,eventType:d,response:C})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function xv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Fx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var o=this;return(0,z.Z)(function*(){const u="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let d,f;return new Promise((y,_)=>{const C=xv("",20);u.port1.start();const D=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:u,onMessage(M){const R=M;if(R.data.eventId===C)switch(R.data.status){case"ack":clearTimeout(D),d=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),y(R.data.response);break;default:clearTimeout(D),clearTimeout(d),_(new Error("invalid_response"))}}},o.handlers.add(f),u.port1.addEventListener("message",f.onMessage),o.target.postMessage({eventType:e,eventId:C,data:t},[u.port2])}).finally(()=>{f&&o.removeMessageHandler(f)})})()}}function Jn(){return window}function Sg(){return void 0!==Jn().WorkerGlobalScope&&"function"==typeof Jn().importScripts}function xg(){return(xg=(0,z.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const Mv="firebaseLocalStorageDb",Il="firebaseLocalStorage",Nv="fbase_key";class Ms{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mg(n,e){return n.transaction([Il],e?"readwrite":"readonly").objectStore(Il)}function Na(){const n=indexedDB.open(Mv,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Il,{keyPath:Nv})}catch(o){t(o)}}),n.addEventListener("success",(0,z.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Il)?e(r):(r.close(),yield function(){const n=indexedDB.deleteDatabase(Mv);return new Ms(n).toPromise()}(),e(yield Na()))}))})}function Vx(n,e,t){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,z.Z)(function*(n,e,t){const r=Mg(n,!0).put({[Nv]:e,value:t});return new Ms(r).toPromise()})).apply(this,arguments)}function Ng(){return(Ng=(0,z.Z)(function*(n,e){const t=Mg(n,!1).get(e),r=yield new Ms(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Rv(n,e){const t=Mg(n,!0).delete(e);return new Ms(t).toPromise()}const Ux=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,z.Z)(function*(){return t.db||(t.db=yield Na()),t.db})()}_withRetries(t){var r=this;return(0,z.Z)(function*(){let o=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(o++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,z.Z)(function*(){return Sg()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,z.Z)(function*(){t.receiver=kx._getInstance(Sg()?self:null),t.receiver._subscribe("keyChanged",function(){var r=(0,z.Z)(function*(o,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(o,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,z.Z)(function*(o,u){return["keyChanged"]});return function(o,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,z.Z)(function*(){var r,o;if(t.activeServiceWorker=yield function(){return xg.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Fx(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);!u||(null===(r=u[0])||void 0===r?void 0:r.fulfilled)&&(null===(o=u[0])||void 0===o?void 0:o.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,z.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(o){}})()}_isAvailable(){return(0,z.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Na();return yield Vx(t,Ag,"1"),yield Rv(t,Ag),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return(0,z.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var o=this;return(0,z.Z)(function*(){return o._withPendingWrite((0,z.Z)(function*(){return yield o._withRetries(u=>Vx(u,t,r)),o.localCache[t]=r,o.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,z.Z)(function*(){const o=yield r._withRetries(u=>function(n,e){return Ng.apply(this,arguments)}(u,t));return r.localCache[t]=o,o})()}_remove(t){var r=this;return(0,z.Z)(function*(){return r._withPendingWrite((0,z.Z)(function*(){return yield r._withRetries(o=>Rv(o,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,z.Z)(function*(){const r=yield t._withRetries(d=>{const f=Mg(d,!1).getAll();return new Ms(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const o=[],u=new Set;for(const{fbase_key:d,value:f}of r)u.add(d),JSON.stringify(t.localCache[d])!==JSON.stringify(f)&&(t.notifyListeners(d,f),o.push(d));for(const d of Object.keys(t.localCache))t.localCache[d]&&!u.has(d)&&(t.notifyListeners(d,null),o.push(d));return o})()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,z.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function $x(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ra(n,e){return e?Li(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}$x("rcb"),new dh(3e4,6e4);class Vv extends class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,t){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yx(n){return function(n,e){return pg.apply(this,arguments)}(n.auth,new Vv(n),n.bypassAuthState)}function ZO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),function(n,e){return hg.apply(this,arguments)}(t,new Vv(n),n.bypassAuthState)}function YO(n){return tI.apply(this,arguments)}function tI(){return(tI=(0,z.Z)(function*(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),Ah(t,new Vv(n),n.bypassAuthState)})).apply(this,arguments)}new dh(2e3,1e4);const kh=new Map;class Xx extends class{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,z.Z)(function*(r,o){e.pendingPromise={resolve:r,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,o){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,z.Z)(function*(){const{urlResponse:r,sessionId:o,postBody:u,tenantId:d,error:f,type:y}=e;if(f)return void t.reject(f);const _={auth:t.auth,requestUri:r,sessionId:o,tenantId:d||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(y)(_))}catch(C){t.reject(C)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yx;case"linkViaPopup":case"linkViaRedirect":return YO;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:Fi(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,z.Z)(function*(){let r=kh.get(t.auth._key());if(!r){try{const u=(yield function(n,e){return Gv.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(o){r=()=>Promise.reject(o)}kh.set(t.auth._key(),r)}return t.bypassAuthState||kh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,z.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,z.Z)(function*(){})()}cleanUp(){}}function Gv(){return(Gv=(0,z.Z)(function*(n,e){const t=qv(e),r=iI(n);if(!(yield r._isAvailable()))return!1;const o="true"===(yield r._get(t));return yield r._remove(t),o})).apply(this,arguments)}function rI(n,e){kh.set(n._key(),e)}function iI(n){return Li(n._redirectPersistence)}function qv(n){return Qr("pendingRedirect",n.config.apiKey,n.name)}function aI(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,z.Z)(function*(n,e,t=!1){const r=Jr(n),o=Ra(r,e),d=yield new Xx(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,yield r._persistUserIfCurrent(d.user),yield r._setRedirectUser(null,e)),d})).apply(this,arguments)}class iM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lI(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lI(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(oo(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cI(e))}saveEventToCache(e){this.cachedEventUids.add(cI(e)),this.lastProcessedEventTime=Date.now()}}function cI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lI({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function oM(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,z.Z)(function*(n,e={}){return pr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;function qg(){return(qg=(0,z.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield oM(n);for(const t of e)try{if(cM(t))return}catch(r){}Fi(n,"unauthorized-domain")})).apply(this,arguments)}function cM(n){const e=El(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&d.hostname===r}if(!aM.test(t))return!1;if(dI.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const lM=new dh(3e4,6e4);function hI(){const n=Jn().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Dl=null;function fI(n){return Dl=Dl||function(n){return new Promise((e,t)=>{var r,o,u;function d(){hI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hI(),t(oo(n,"network-request-failed"))},timeout:lM.get()})}if(null===(o=null===(r=Jn().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)e(gapi.iframes.getContext());else{if(!(null===(u=Jn().gapi)||void 0===u?void 0:u.load)){const f=$x("iframefcb");return Jn()[f]=()=>{gapi.load?d():t(oo(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const u=oo("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${f}`).catch(y=>t(y))}d()}}).catch(e=>{throw Dl=null,e})}(n),Dl}const Yv=new dh(5e3,15e3),Qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pI(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?W_(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:nn.SDK_VERSION},o=fM.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${(0,nt.xO)(r).slice(1)}`}function zg(){return zg=(0,z.Z)(function*(n){const e=yield fI(n),t=Jn().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:pI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qv,dontclear:!0},r=>new Promise(function(){var o=(0,z.Z)(function*(u,d){yield r.restyle({setHideOnLeave:!1});const f=oo(n,"network-request-failed"),y=Jn().setTimeout(()=>{d(f)},Yv.get());function _(){Jn().clearTimeout(y),u(r)}r.ping(_).then(_,()=>{d(f)})});return function(u,d){return o.apply(this,arguments)}}()))}),zg.apply(this,arguments)}const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yI(n,e,t,r,o,u){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nn.SDK_VERSION,eventId:o};if(e instanceof Oo){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",(0,nt.xb)(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries(u||{}))d[y]=_}if(e instanceof cv){const y=e.getScopes().filter(_=>""!==_);y.length>0&&(d.scopes=y.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const y of Object.keys(f))void 0===f[y]&&delete f[y];return`${function({config:n}){return n.emulator?W_(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,nt.xO)(f).slice(1)}`}const Xv="webStorageSupport",_I=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GC,this._completeRedirectFn=aI,this._overrideRedirectResult=rI}_openPopup(e,t,r,o){var u=this;return(0,z.Z)(function*(){var d;Ta(null===(d=u.eventManagers[e._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yI(e,t,r,El(),o);return function(n,e,t,r=500,o=600){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const y=Object.assign(Object.assign({},gI),{width:r.toString(),height:o.toString(),top:u,left:d}),_=(0,nt.z$)().toLowerCase();t&&(f=Bu(_)?"_blank":t),Uu(_)&&(e=e||"http://localhost",y.scrollbars="yes");const C=Object.entries(y).reduce((M,[R,j])=>`${M}${R}=${j},`,"");if(function(n=(0,nt.z$)()){var e;return Po(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(_)&&"_self"!==f)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new mM(null);const D=window.open(e||"",f,C);Ce(D,n,"popup-blocked");try{D.focus()}catch(M){}return new mM(D)}(e,f,xv())})()}_openRedirect(e,t,r,o){var u=this;return(0,z.Z)(function*(){return yield u._originValidation(e),n=yI(e,t,r,El(),o),Jn().location.href=n,new Promise(()=>{});var n})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ta(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,z.Z)(function*(){const r=yield function(n){return zg.apply(this,arguments)}(e),o=new iM(e);return r.register("authEvent",u=>(Ce(null==u?void 0:u.authEvent,e,"invalid-auth-event"),{status:o.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:o},t.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xv,{type:Xv},o=>{var u;const d=null===(u=null==o?void 0:o[0])||void 0===u?void 0:u[Xv];void 0!==d&&t(!!d),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return qg.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J_()||xa()||Po()}};var vI="@firebase/auth";class vM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,z.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const EI=(0,nt.Pz)("authIdTokenMaxAge")||300;let Kg=null;const bI=n=>function(){var e=(0,z.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),o=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>EI)return;const u=null==r?void 0:r.token;Kg!==u&&(Kg=u,yield fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function wM(n=(0,nn.getApp)()){const e=(0,nn._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function(n,e){const t=(0,nn._getProvider)(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if((0,nt.vZ)(u,null!=e?e:{}))return o;Fi(o,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:_I,persistence:[Ux,Px,GC]}),r=(0,nt.Pz)("authTokenSyncURL");if(r){const u=bI(r);(function(n,e,t){(0,nt.m9)(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function(n,e,t,r){(0,nt.m9)(n).onIdTokenChanged(d=>u(d),void 0,void 0)}(t)}const o=(0,nt.q4)("auth");return o&&function(n,e,t){const r=Jr(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(null==t?void 0:t.disableWarnings),u=mC(e),{host:d,port:f}=function(n){const e=mC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:ev(r.substr(u.length+1))}}{const[u,d]=r.split(":");return{host:u,port:ev(d)}}}(e);r.config.emulator={url:`${u}//${d}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${o}`),t}var n;n="Browser",(0,nn._registerComponent)(new Nu.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:u,authDomain:d}=r.options;return((f,y)=>{Ce(u&&!u.includes(":"),"invalid-api-key",{appName:f.name}),Ce(!(null==d?void 0:d.includes(":")),"argument-error",{appName:f.name});const _={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X_(n)},C=new fC(f,y,_);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Li);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(C,t),C})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,nn._registerComponent)(new Nu.wA("auth-internal",e=>{const t=Jr(e.getProvider("auth").getImmediate());return new vM(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,nn.registerVersion)(vI,"0.21.5",void 0),(0,nn.registerVersion)(vI,"0.21.5","esm2017");class tE{constructor(e){return e}}class wI{constructor(){return(0,tn.vb)("auth")}}const Zg=new g.OlP("angularfire2.auth-instances");function II(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new tE(r)}}const IM={provide:wI,deps:[[new g.FiY,Zg]]},TM={provide:tE,useFactory:function(n,e){const t=(0,tn.JM)("auth",n,e);return t&&new tE(t)},deps:[[new g.FiY,Zg],Mu]};let TI=(()=>{class n{constructor(){(0,ba.KN)("angularfire",tn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[TM,IM]}),n})();function Yg(n,...e){return{ngModule:TI,providers:[{provide:Zg,useFactory:II(n),multi:!0,deps:[g.R0b,g.zs3,tn.HU,b_,[new g.FiY,Yp],...e]}]}}const AM=(0,tn.u3)(wM,!0);var Ue,Ku="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oa={},tm=tm||{},vt=Ku||self;function nm(){}function rm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kr(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ji="closure_uid_"+(1e9*Math.random()>>>0),SI=0;function kM(n,e,t){return n.call.apply(n.bind,arguments)}function xI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function gr(n,e,t){return(gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kM:xI).apply(null,arguments)}function Fo(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[o].apply(r,d)}}function ka(){this.s=this.s,this.o=this.o}ka.prototype.s=!1,ka.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(n){Object.prototype.hasOwnProperty.call(n,ji)&&n[ji]||(n[ji]=++SI)}(this)},ka.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function im(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sm(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rm(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function Xn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var uE=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",nm,e),vt.removeEventListener("test",nm,e)}catch(t){}return n}();function Uh(n){return/^[\s\xa0]*$/.test(n)}var Yu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function cE(n,e){return n<e?-1:n>e?1:0}function Qu(){var n=vt.navigator;return n&&(n=n.userAgent)?n:""}function Rs(n){return-1!=Qu().indexOf(n)}function om(n){return om[" "](n),n}om[" "]=nm;var lE,am=Rs("Opera"),Ml=Rs("Trident")||Rs("MSIE"),um=Rs("Edge"),Bh=um||Ml,FM=Rs("Gecko")&&!(-1!=Qu().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),Sk=-1!=Qu().toLowerCase().indexOf("webkit")&&!Rs("Edge");function ct(){var n=vt.document;return n?n.documentMode:void 0}e:{var Ju="",dE=function(){var n=Qu();return FM?/rv:([^\);]+)(\)|;)/.exec(n):um?/Edge\/([\d\.]+)/.exec(n):Ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Sk?/WebKit\/(\S+)/.exec(n):am?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(dE&&(Ju=dE?dE[1]:""),Ml){var hE=ct();if(null!=hE&&hE>parseFloat(Ju)){lE=String(hE);break e}}lE=Ju}var LM={};function xk(){return e=LM,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Yu(String(lE)).split("."),t=Yu("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=cE(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||cE(0==o[2].length,0==u[2].length)||cE(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n}();var e}var Fr=vt.document&&Ml&&(ct()||parseInt(lE,10))||void 0;function jh(n,e){if(Xn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(FM){e:{try{om(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jh.X.h.call(this)}}Kn(jh,Xn);var VM={2:"touch",3:"pen",4:"mouse"};jh.prototype.h=function(){jh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xu="closure_listenable_"+(1e6*Math.random()|0),UM=0;function BM(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++UM,this.ba=this.ea=!1}function cm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function fE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function OI(n){const e={};for(const t in n)e[t]=n[t];return e}const kI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lm(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<kI.length;u++)t=kI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function dm(n){this.src=n,this.g={},this.h=0}function pE(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=MI(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(cm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hm(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}dm.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=hm(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new BM(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var $h="closure_lm_"+(1e6*Math.random()|0),gE={};function jM(n,e,t,r,o){if(r&&r.once)return LI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)jM(n,e[u],t,r,o);return null}return t=fm(t),n&&n[Xu]?n.N(e,t,kr(r)?!!r.capture:!!r,o):FI(n,e,t,!1,r,o)}function FI(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=kr(o)?!!o.capture:!!o,f=yE(n);if(f||(n[$h]=f=new dm(n)),(t=f.add(e,t,r,d,u)).proxy)return t;if(r=function(){const e=Gh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uE||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(UI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function LI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)LI(n,e[u],t,r,o);return null}return t=fm(t),n&&n[Xu]?n.O(e,t,kr(r)?!!r.capture:!!r,o):FI(n,e,t,!0,r,o)}function VI(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)VI(n,e[u],t,r,o);else r=kr(r)?!!r.capture:!!r,t=fm(t),n&&n[Xu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hm(u=n.g[e],t,r,o))&&(cm(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=yE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hm(e,t,r,o)),(t=-1<n?e[n]:null)&&mE(t))}function mE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Xu])pE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yE(e))?(pE(t,n),0==t.h&&(t.src=null,e[$h]=null)):cm(n)}}}function UI(n){return n in gE?gE[n]:gE[n]="on"+n}function Gh(n,e){if(n.ba)n=!0;else{e=new jh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&mE(n),n=t.call(r,e)}return n}function yE(n){return(n=n[$h])instanceof dm?n:null}var _E="__closure_events_fn_"+(1e9*Math.random()>>>0);function fm(n){return"function"==typeof n?n:(n[_E]||(n[_E]=function(e){return n.handleEvent(e)}),n[_E])}function Un(){ka.call(this),this.i=new dm(this),this.P=this,this.I=null}function Lr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xn(e,n);else if(e instanceof Xn)e.target=e.target||n;else{var o=e;lm(e=new Xn(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Hh(d,r,!0,e)&&o}if(o=Hh(d=e.g=n,r,!0,e)&&o,o=Hh(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Hh(d=e.g=t[u],r,!1,e)&&o}function Hh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&pE(n.i,d),o=!1!==f.call(y,r)&&o}}return o&&!r.defaultPrevented}Kn(Un,ka),Un.prototype[Xu]=!0,Un.prototype.removeEventListener=function(n,e,t,r){VI(this,n,e,t,r)},Un.prototype.M=function(){if(Un.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)cm(t[r]);delete n.g[e],n.h--}}this.I=null},Un.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Un.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vE=vt.JSON.stringify;function GM(){var n=zM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var EE,BI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new qM,n=>n.reset());class qM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jI(n){vt.setTimeout(()=>{throw n},0)}function $I(n,e){EE||function(){var n=vt.Promise.resolve(void 0);EE=function(){n.then(bE)}}(),GI||(EE(),GI=!0),zM.add(n,e)}var GI=!1,zM=new class{constructor(){this.h=this.g=null}add(e,t){const r=BI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function bE(){for(var n;n=GM();){try{n.h.call(n.g)}catch(t){jI(t)}var e=BI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}GI=!1}function pm(n,e){Un.call(this),this.h=n||1,this.g=e||vt,this.j=gr(this.lb,this),this.l=Date.now()}function wE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function CE(n,e,t){if("function"==typeof n)t&&(n=gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function HI(n){n.g=CE(()=>{n.g=null,n.i&&(n.i=!1,HI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kn(pm,Un),(Ue=pm.prototype).ca=!1,Ue.R=null,Ue.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lr(this,"tick"),this.ca&&(wE(this),this.start()))}},Ue.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.M=function(){pm.X.M.call(this),wE(this),delete this.g};class WM extends ka{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HI(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qh(n){ka.call(this),this.h=n,this.g={}}Kn(qh,ka);var IE=[];function gm(n,e,t,r){Array.isArray(t)||(t&&(IE[0]=t.toString()),t=IE);for(var o=0;o<t.length;o++){var u=jM(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function qI(n){fE(n.g,function(e,t){this.g.hasOwnProperty(t)&&mE(e)},n),n.g={}}function Lo(){this.g=!0}function Ur(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return vE(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}qh.prototype.M=function(){qh.X.M.call(this),qI(this)},qh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lo.prototype.Aa=function(){this.g=!1},Lo.prototype.info=function(){};var Fa={},DE=null;function zh(){return DE=DE||new Un}function WI(n){Xn.call(this,Fa.Pa,n)}function Wh(n){const e=zh();Lr(e,new WI(e))}function KI(n,e){Xn.call(this,Fa.STAT_EVENT,n),this.stat=e}function Br(n){const e=zh();Lr(e,new KI(e,n))}function ZI(n,e){Xn.call(this,Fa.Qa,n),this.size=e}function mm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}Fa.Pa="serverreachability",Kn(WI,Xn),Fa.STAT_EVENT="statevent",Kn(KI,Xn),Fa.Qa="timingevent",Kn(ZI,Xn);var ym={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},YI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function La(){}function AE(){}La.prototype.h=null;var SE,Kh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function QI(){Xn.call(this,"d")}function _m(){Xn.call(this,"c")}function Nl(){}function Zh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new qh(this),this.O=YM,this.T=new pm(n=Bh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xE}function xE(){this.i=null,this.g="",this.h=!1}Kn(QI,Xn),Kn(_m,Xn),Kn(Nl,La),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},SE=new Nl;var YM=45e3,ME={},vm={};function NE(n,e,t){n.K=1,n.v=$i(Uo(e)),n.s=t,n.P=!0,JI(n,null)}function JI(n,e){n.F=Date.now(),Vo(n),n.A=Uo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),cT(t.i,"t",r),n.C=0,t=n.l.H,n.h=new xE,n.g=_T(n.l,t?e:null,!n.s),0<n.N&&(n.L=new WM(gr(n.La,n,n.g),n.N)),gm(n.S,n.g,"readystatechange",n.ib),e=n.H?OI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Wh(),function(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",f=u.split("&"),y=0;y<f.length;y++){var _=f[y].split("=");if(1<_.length){var C=_[0];_=_[1];var D=C.split("_");d=2<=D.length&&"type"==D[1]?d+(C+"=")+_+"&":d+(C+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function XI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function eT(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=QM(n,t),o==vm){4==e&&(n.o=4,Br(14),r=!1),Ur(n.j,n.m,null,"[Incomplete Response]");break}if(o==ME){n.o=4,Br(15),Ur(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ur(n.j,n.m,o,null),Em(n,o)}XI(n)&&o!=vm&&o!=ME&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Br(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),YE(e),e.K=!0,Br(11))):(Ur(n.j,n.m,t,"[Invalid Chunked Response]"),Va(n),Rl(n))}function QM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vm:(t=Number(e.substring(t,r)),isNaN(t)?ME:(r+=1)+t>e.length?vm:(e=e.substr(r,t),n.C=r+t,e))}function Vo(n){n.V=Date.now()+n.O,RE(n,n.O)}function RE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=mm(gr(n.gb,n),e)}function Yh(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function Rl(n){0==n.l.G||n.I||JE(n.l,n)}function Va(n){Yh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wE(n.T),qI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Em(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||UE(t.h,n)))if(!n.J&&UE(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(_){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=mm(gr(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sm(t),Am(t)}ZE(t),Br(18)}if(1>=VE(t.h)&&t.ja){try{t.ja()}catch(_){}t.ja=void 0}}else Ga(t,11)}else if((n.J||t.g==n)&&Sm(t),!Uh(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let _=o[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const C=_[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const D=_[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(t.J=r=1.5*M,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const R=n.g;if(R){const j=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var u=r.h;u.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(bm(u,u.h),u.h=null))}if(r.D){const K=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(r.za=K,ln(r.F,r.D,K))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=yT(r,r.H?r.ka:null,r.V),d.J){BE(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(Yh(f),Vo(f)),r.g=d}else KE(r);0<t.i.length&&sf(t)}else"stop"!=_[0]&&"close"!=_[0]||Ga(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Ga(t,7):rf(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Wh()}catch(_){}}function nT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(rm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Ue=Zh.prototype).setTimeout=function(n){this.O=n},Ue.ib=function(n){n=n.target;const e=this.L;e&&3==jo(n)?e.l():this.La(n)},Ue.La=function(n){try{if(n==this.g)e:{const C=jo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Bh||this.g&&(this.h.h||this.g.fa()||qE(this.g)))){this.I||4!=C||7==e||Wh(),Yh(this);var t=this.g.aa();this.Y=t;t:if(XI(this)){var r=qE(this.g);n="";var o=r.length,u=4==jo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Va(this),Rl(this);var d="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uh(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Br(12),Va(this),Rl(this);break e}Ur(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Em(this,t)}this.P?(eT(this,C,d),Bh&&this.i&&3==C&&(gm(this.S,this.T,"tick",this.hb),this.T.start())):(Ur(this.j,this.m,d,null),Em(this,d)),4==C&&Va(this),this.i&&!this.I&&(4==C?JE(this.l,this):(this.i=!1,Vo(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),Va(this),Rl(this)}}}catch(C){}},Ue.hb=function(){if(this.g){var n=jo(this.g),e=this.g.fa();this.C<e.length&&(Yh(this),eT(this,n,e),this.i&&4!=n&&Vo(this))}},Ue.cancel=function(){this.I=!0,Va(this)},Ue.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wh(),Br(17)),Va(this),this.o=2,Rl(this)):RE(this,this.V-n)};var rT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ua){this.h=void 0!==e?e:n.h,Ba(this,n.j),this.s=n.s,this.g=n.g,ja(this,n.m),this.l=n.l,e=n.i;var t=new ec;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iT(this,t),this.o=n.o}else n&&(t=String(n).match(rT))?(this.h=!!e,Ba(this,t[1]||"",!0),this.s=Qh(t[2]||""),this.g=Qh(t[3]||"",!0),ja(this,t[4]),this.l=Qh(t[5]||"",!0),iT(this,t[6]||"",!0),this.o=Qh(t[7]||"")):(this.h=!!e,this.i=new ec(null,this.h))}function Uo(n){return new Ua(n)}function Ba(n,e,t){n.j=t?Qh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ja(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iT(n,e,t){e instanceof ec?(n.i=e,function(n,e){e&&!n.j&&(lo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(aT(this,r),cT(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$a(e,OE)),n.i=new ec(e,n.h))}function ln(n,e,t){n.i.set(e,t)}function $i(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $a(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,e1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function e1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ua.prototype.toString=function(){var n=[],e=this.j;e&&n.push($a(e,sT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($a(e,sT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($a(t,"/"==t.charAt(0)?PE:Nk,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$a(t,oT)),n.join("")};var sT=/[#\/\?@]/g,Nk=/[#\?:]/g,PE=/[#\?]/g,OE=/[#\?@]/g,oT=/#/g;function ec(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function lo(n){n.g||(n.g=new Map,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function aT(n,e){lo(n),e=Pl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function uT(n,e){return lo(n),e=Pl(n,e),n.g.has(e)}function cT(n,e,t){aT(n,e),0<t.length&&(n.i=null,n.g.set(Pl(n,e),im(t)),n.h+=t.length)}function Pl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FE(n){this.l=n||t1,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ga&&vt.g.Ga()&&vt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ue=ec.prototype).add=function(n,e){lo(this),this.i=null,n=Pl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(n,e){lo(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Ue.oa=function(){lo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Ue.W=function(n){lo(this);let e=[];if("string"==typeof n)uT(this,n)&&(e=e.concat(this.g.get(Pl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ue.set=function(n,e){return lo(this),this.i=null,uT(this,n=Pl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ue.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var t1=10;function LE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VE(n){return n.h?1:n.g?n.g.size:0}function UE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bm(n,e){n.g?n.g.add(e):n.h=e}function BE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return im(n.i)}function wm(){}function n1(){this.g=new wm}function Rk(n,e,t){const r=t||"";try{nT(n,function(o,u){let d=o;kr(o)&&(d=vE(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Bo(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Jh(n){this.l=n.ac||null,this.j=n.jb||!1}function Cm(n,e){Un.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FE.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},wm.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},wm.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Kn(Jh,La),Jh.prototype.g=function(){return new Cm(this.l,this.j)},Jh.prototype.i=function(n){return function(){return n}}({}),Kn(Cm,Un);var hT=0;function Ol(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tc(n)}function tc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ue=Cm.prototype).open=function(n,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tc(this)},Ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=hT},Ue.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ol(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ue.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xh(this):tc(this),3==this.readyState&&Ol(this)}},Ue.Va=function(n){this.g&&(this.response=this.responseText=n,Xh(this))},Ue.Ua=function(n){this.g&&(this.response=n,Xh(this))},Ue.ga=function(){this.g&&Xh(this)},Ue.setRequestHeader=function(n,e){this.v.append(n,e)},Ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Cm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var r1=vt.JSON.parse;function xn(n){Un.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fT,this.K=this.L=!1}Kn(xn,Un);var fT="",i1=/^https?$/i,jE=["POST","PUT"];function $E(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ef(n),GE(n)}function ef(n){n.D||(n.D=!0,Lr(n,"complete"),Lr(n,"error"))}function Im(n){if(n.h&&void 0!==tm&&(!n.C[1]||4!=jo(n)||2!=n.aa()))if(n.v&&4==jo(n))CE(n.Ha,0,n);else if(Lr(n,"readystatechange"),4==jo(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var o=String(n.H).match(rT)[1]||null;if(!o&&vt.self&&vt.self.location){var u=vt.self.location.protocol;o=u.substr(0,u.length-1)}r=!i1.test(o?o.toLowerCase():"")}t=r}if(t)Lr(n,"complete"),Lr(n,"success");else{n.m=6;try{var d=2<jo(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.aa()+"]",ef(n)}}finally{GE(n)}}}function GE(n,e){if(n.g){HE(n);const t=n.g,r=n.C[0]?nm:null;n.g=null,n.C=null,e||Lr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function HE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function jo(n){return n.g?n.g.readyState:0}function qE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tf(n){let e="";return fE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Tm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=tf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ln(n,e,t))}function nf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Dm(n){this.Ca=0,this.i=[],this.j=new Lo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nf("baseRetryDelayMs",5e3,n),this.bb=nf("retryDelaySeedMs",1e4,n),this.$a=nf("forwardChannelMaxRetries",2,n),this.ta=nf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new FE(n&&n.concurrentRequestLimit),this.Fa=new n1,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rf(n){if(gT(n),3==n.G){var e=n.U++,t=Uo(n.F);ln(t,"SID",n.I),ln(t,"RID",e),ln(t,"TYPE","terminate"),of(n,t),(e=new Zh(n,n.j,e,void 0)).K=2,e.v=$i(Uo(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_T(e.l,null),e.g.da(e.v)),e.F=Date.now(),Vo(e)}eb(n)}function Am(n){n.g&&(YE(n),n.g.cancel(),n.g=null)}function gT(n){Am(n),n.u&&(vt.clearTimeout(n.u),n.u=null),Sm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function sf(n){LE(n.h)||n.m||(n.m=!0,$I(n.Ja,n),n.C=0)}function zE(n,e){var t;t=e?e.m:n.U++;const r=Uo(n.F);ln(r,"SID",n.I),ln(r,"RID",t),ln(r,"AID",n.T),of(n,r),n.o&&n.s&&Tm(r,n.o,n.s),t=new Zh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=WE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),bm(n.h,t),NE(t,r,e)}function of(n,e){n.ia&&fE(n.ia,function(t,r){ln(e,r,t)}),n.l&&nT({},function(t,r){ln(e,r,t)})}function WE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gr(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let _=o[y].h;const C=o[y].g;if(_-=u,0>_)u=Math.max(0,o[y].h-100),f=!1;else try{Rk(C,d,"req"+_+"_")}catch(D){r&&r(C)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function KE(n){n.g||n.u||(n.Z=1,$I(n.Ia,n),n.A=0)}function ZE(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=mm(gr(n.Ia,n),XE(n,n.A)),n.A++,0))}function YE(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function QE(n){n.g=new Zh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Uo(n.sa);ln(e,"RID","rpc"),ln(e,"SID",n.I),ln(e,"CI",n.L?"0":"1"),ln(e,"AID",n.T),ln(e,"TYPE","xmlhttp"),of(n,e),n.o&&n.s&&Tm(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=$i(Uo(e)),t.s=null,t.P=!0,JI(t,n)}function Sm(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function JE(n,e){var t=null;if(n.g==e){Sm(n),YE(n),n.g=null;var r=2}else{if(!UE(n.h,e))return;t=e.D,BE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Lr(r=zh(),new ZI(r,t)),sf(n)}else KE(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function(n,e){return!(VE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=mm(gr(n.Ja,n,e),XE(n,n.C)),n.C++,0)))}(n,e)||2==r&&ZE(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Ga(n,5);break;case 4:Ga(n,10);break;case 3:Ga(n,6);break;default:Ga(n,2)}}function XE(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ga(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gr(n.kb,n);t||(t=new Ua("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||Ba(t,"https"),$i(t)),function(n,e){const t=new Lo;if(vt.Image){const r=new Image;r.onload=Fo(Bo,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fo(Bo,t,r,"TestLoadImage: error",!1,e),r.onabort=Fo(Bo,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fo(Bo,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Br(2);n.G=0,n.l&&n.l.va(e),eb(n),gT(n)}function eb(n){if(n.G=0,n.la=[],n.l){const e=dT(n.h);(0!=e.length||0!=n.i.length)&&(sm(n.la,e),sm(n.la,n.i),n.h.i.length=0,im(n.i),n.i.length=0),n.l.ua()}}function yT(n,e,t){var r=t instanceof Ua?Uo(t):new Ua(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ja(r,r.m);else{var o=vt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Ua(null,void 0);r&&Ba(u,r),e&&(u.g=e),o&&ja(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&ln(r,t,e),ln(r,"VER",n.ma),of(n,r),r}function _T(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xn(t&&n.Da&&!n.ra?new Jh({jb:!0}):n.ra)).Ka(n.H),e}function vT(){}function af(){if(Ml&&!(10<=Number(Fr)))throw Error("Environmental error: no available transport.")}function as(n,e){Un.call(this),this.g=new Dm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Uh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new uf(this)}function s1(n){QI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function o1(){_m.call(this),this.status=1}function uf(n){this.g=n}(Ue=xn.prototype).Ka=function(n){this.L=n},Ue.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:SE),this.g.onreadystatechange=gr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void $E(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=vt.FormData&&n instanceof vt.FormData,!(0<=MI(jE,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HE(this),0<this.B&&((this.K=function(n){return Ml&&xk()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gr(this.qa,this)):this.A=CE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$E(this,u)}},Ue.qa=function(){void 0!==tm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},Ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Lr(this,"complete"),Lr(this,"abort"),GE(this))},Ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),GE(this,!0)),xn.X.M.call(this)},Ue.Ha=function(){this.s||(this.F||this.v||this.l?Im(this):this.fb())},Ue.fb=function(){Im(this)},Ue.aa=function(){try{return 2<jo(this)?this.g.status:-1}catch(n){return-1}},Ue.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ue.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),r1(e)}},Ue.Ea=function(){return this.m},Ue.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=Dm.prototype).ma=8,Ue.G=1,Ue.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Zh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=OI(u),lm(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=WE(this,o,e),ln(t=Uo(this.F),"RID",n),ln(t,"CVER",22),this.D&&ln(t,"X-HTTP-Session-Id",this.D),of(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(tf(u)))+"&"+e:this.o&&Tm(t,this.o,u)),bm(this.h,o),this.Ya&&ln(t,"TYPE","init"),this.O?(ln(t,"$req",e),ln(t,"SID","null"),o.Z=!0,NE(o,t,null)):NE(o,t,e),this.G=2}}else 3==this.G&&(n?zE(this,n):0==this.i.length||LE(this.h)||zE(this))},Ue.Ia=function(){if(this.u=null,QE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=mm(gr(this.eb,this),n)}},Ue.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Br(10),Am(this),QE(this))},Ue.cb=function(){null!=this.v&&(this.v=null,Am(this),ZE(this),Br(19))},Ue.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))},(Ue=vT.prototype).xa=function(){},Ue.wa=function(){},Ue.va=function(){},Ue.ua=function(){},Ue.Ra=function(){},af.prototype.g=function(n,e){return new as(n,e)},Kn(as,Un),as.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Br(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yT(n,null,n.V),sf(n)},as.prototype.close=function(){rf(this.g)},as.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&sf(e)},as.prototype.M=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,as.X.M.call(this)},Kn(s1,QI),Kn(o1,_m),Kn(uf,vT),uf.prototype.xa=function(){Lr(this.g,"a")},uf.prototype.wa=function(n){Lr(this.g,new s1(n))},uf.prototype.va=function(n){Lr(this.g,new o1)},uf.prototype.ua=function(){Lr(this.g,"b")},af.prototype.createWebChannel=af.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,ym.NO_ERROR=0,ym.TIMEOUT=8,ym.HTTP_ERROR=6,YI.COMPLETE="complete",AE.EventType=Kh,Kh.OPEN="a",Kh.CLOSE="b",Kh.ERROR="c",Kh.MESSAGE="d",Un.prototype.listen=Un.prototype.N,xn.prototype.listenOnce=xn.prototype.O,xn.prototype.getLastError=xn.prototype.Oa,xn.prototype.getLastErrorCode=xn.prototype.Ea,xn.prototype.getStatus=xn.prototype.aa,xn.prototype.getResponseJson=xn.prototype.Sa,xn.prototype.getResponseText=xn.prototype.fa,xn.prototype.send=xn.prototype.da,xn.prototype.setWithCredentials=xn.prototype.Ka;var Pk=Oa.createWebChannelTransport=function(){return new af},Ok=Oa.getStatEventTarget=function(){return zh()},ET=Oa.ErrorCode=ym,kk=Oa.EventType=YI,Fk=Oa.Event=Fa,a1=Oa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Lk=Oa.FetchXmlHttpFactory=Jh,tb=Oa.WebChannel=AE,Vk=Oa.XhrIo=xn;const u1="@firebase/firestore";class Ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let cf="9.18.0";const nc=new As.Yd("@firebase/firestore");function nb(){return nc.logLevel}function ge(n,...e){if(nc.logLevel<=As.in.DEBUG){const t=e.map(bT);nc.debug(`Firestore (${cf}): ${n}`,...t)}}function er(n,...e){if(nc.logLevel<=As.in.ERROR){const t=e.map(bT);nc.error(`Firestore (${cf}): ${n}`,...t)}}function lf(n,...e){if(nc.logLevel<=As.in.WARN){const t=e.map(bT);nc.warn(`Firestore (${cf}): ${n}`,...t)}}function bT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Pe(n="Unexpected state"){const e=`FIRESTORE (${cf}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function je(n,e){n||Pe()}function De(n,e){return n}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends nt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ar.UNAUTHENTICATED))}shutdown(){}}class c1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rb{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=_=>this.i!==o?(o=this.i,t(_)):Promise.resolve();let d=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new mr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const _=d;e.enqueueRetryable((0,z.Z)(function*(){yield _.promise,yield u(r.currentUser)}))},y=_=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new mr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je("string"==typeof r.accessToken),new wT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(null===e||"string"==typeof e),new Ar(e)}}class kl{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(je(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class CT{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new kl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je("string"==typeof t.token),this.A=t.token,new IT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function lt(n,e){return n<e?-1:n>e?1:0}function df(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class dn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new dn(0,0))}static max(){return new Ke(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xm{constructor(e,t,r){void 0===t?t=0:t>e.length&&Pe(),void 0===r?r=e.length-t:r>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jt extends xm{construct(e,t,r){return new jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new jt(t)}static emptyPath(){return new jt([])}}const $k=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends xm{construct(e,t,r){return new Zn(e,t,r)}static isValidIdentifier(e){return $k.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const f=e[o];if("\\"===f){if(o+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===f?(d=!d,o++):"."!==f||d?(r+=f,o++):(u(),o++)}if(u(),d)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(jt.fromString(e))}static fromName(e){return new Te(jt.fromString(e).popFirst(5))}static empty(){return new Te(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new jt(e.slice()))}}function AT(n){return new us(n.readTime,n.key,-1)}class us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new us(Ke.min(),Te.empty(),-1)}static max(){return new us(Ke.max(),Te.empty(),-1)}}function Nm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Te.comparator(n.documentKey,e.documentKey),0!==t?t:lt(n.largestBatchId,e.largestBatchId))}const ST="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ic(n){return ab.apply(this,arguments)}function ab(){return ab=(0,z.Z)(function*(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==ST)throw n;ge("LocalStore","Unexpectedly lost primary lease")}),ab.apply(this,arguments)}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let o=0,u=0,d=!1;e.forEach(f=>{++o,f.next(()=>{++u,d&&u===o&&t()},y=>r(y))}),d=!0,u===o&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(o=>o?W.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new W((r,o)=>{const u=e.length,d=new Array(u);let f=0;for(let y=0;y<u;y++){const _=y;t(e[_]).next(C=>{d[_]=C,++f,f===u&&r(d)},C=>o(C))}})}static doWhile(e,t){return new W((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}function Ha(n){return"IndexedDbTransactionError"===n.name}let yi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class NT{constructor(e,t,r,o,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function RT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $o(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Vl(n){return null==n}function uc(n){return 0===n&&1/n==-1/0}class Os extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw o instanceof DOMException?new Os("Invalid base64 string: "+o):o}}(e);return new yr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const g1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cc(n){if(je(!!n),"string"==typeof n){let e=0;const t=g1.exec(n);if(je(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lc(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function hb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function m1(n){const e=n.mapValue.fields.__previous_value__;return hb(e)?m1(e):e}function hf(n){const e=cc(n.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}const Go_mapValue={fields:{__type__:{stringValue:"__max__"}}};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hb(n)?4:y1(n)?9007199254740991:10:Pe()}function ks(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hf(n).isEqual(hf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=cc(r.timestampValue),d=cc(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,lc(n.bytesValue).isEqual(lc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Bn(r.geoPointValue.latitude)===Bn(o.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bn(r.integerValue)===Bn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Bn(r.doubleValue),d=Bn(o.doubleValue);return u===d?uc(u)===uc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return df(n.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(RT(u)!==RT(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!ks(u[f],d[f])))return!1;return!0}(n,e);default:return Pe()}var o}function ff(n,e){return void 0!==(n.values||[]).find(t=>ks(t,e))}function hc(n,e){if(n===e)return 0;const t=dc(n),r=dc(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Bn(o.integerValue||o.doubleValue),f=Bn(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return fb(n.timestampValue,e.timestampValue);case 4:return fb(hf(n),hf(e));case 5:return lt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=lc(o),f=lc(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const _=lt(d[y],f[y]);if(0!==_)return _}return lt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=lt(Bn(o.latitude),Bn(u.latitude));return 0!==d?d:lt(Bn(o.longitude),Bn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],f=u.values||[];for(let y=0;y<d.length&&y<f.length;++y){const _=hc(d[y],f[y]);if(_)return _}return lt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Go_mapValue&&u===Go_mapValue)return 0;if(o===Go_mapValue)return 1;if(u===Go_mapValue)return-1;const d=o.fields||{},f=Object.keys(d),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let C=0;C<f.length&&C<_.length;++C){const D=lt(f[C],_[C]);if(0!==D)return D;const M=hc(d[f[C]],y[_[C]]);if(0!==M)return M}return lt(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function fb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return lt(n,e);const t=cc(n),r=cc(e),o=lt(t.seconds,r.seconds);return 0!==o?o:lt(t.nanos,r.nanos)}function fc(n){return pb(n)}function pb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=cc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lc(n.bytesValue).toBase64():"referenceValue"in n?Te.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=pb(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const f of o)d?d=!1:u+=",",u+=`${f}:${pb(r.fields[f])}`;return u+"}"}(n.mapValue):Pe();var e}function km(n){return!!n&&"integerValue"in n}function Ho(n){return!!n&&"arrayValue"in n}function Fm(n){return!!n&&"nullValue"in n}function gb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lm(n){return!!n&&"mapValue"in n}function pf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $o(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class qa{constructor(e,t){this.position=e,this.inclusive=t}}function OT(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Te.comparator(Te.fromName(d.referenceValue),t.key):hc(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function kT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ks(n.position[t],e.position[t]))return!1;return!0}class FT{}class Pt extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Vm(e,t,r):"array-contains"===t?new gc(e,r):"in"===t?new wb(e,r):"not-in"===t?new Cb(e,r):"array-contains-any"===t?new Ib(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _1(e,r):new v1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new rn(e,t)}matches(e){return gf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gf(n){return"and"===n.op}function mf(n){return function(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}(n)&&gf(n)}function LT(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+fc(n.value);if(mf(n))return n.filters.map(e=>LT(e)).join(",");{const e=n.filters.map(t=>LT(t)).join(",");return`${n.op}(${e})`}}function vb(n,e){return n instanceof Pt?(t=n,(r=e)instanceof Pt&&t.op===r.op&&t.field.isEqual(r.field)&&ks(t.value,r.value)):n instanceof rn?function(t,r){return r instanceof rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,d)=>o&&vb(u,r.filters[d]),!0)}(n,e):void Pe();var t,r}function VT(n){return n instanceof Pt?`${(e=n).field.canonicalString()} ${e.op} ${fc(e.value)}`:n instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(VT).join(" ,")+"}"}(n):"Filter";var e}class Vm extends Pt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class _1 extends Pt{constructor(e,t){super(e,"in",t),this.keys=bb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class v1 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=bb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class gc extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ho(t)&&ff(t.arrayValue,this.value)}}class wb extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ff(this.value.arrayValue,t)}}class Cb extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ff(this.value.arrayValue,t)}}class Ib extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ho(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ff(this.value.arrayValue,r))}}class Ul{constructor(e,t="asc"){this.field=e,this.dir=t}}function Um(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class jn{constructor(e,t){this.comparator=e,this.root=t||_r.EMPTY}insert(e,t){return new jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bl(this.root,e,this.comparator,!0)}}class Bl{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:_r.RED,this.left=null!=o?o:_r.EMPTY,this.right=null!=u?u:_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new _r(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return _r.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new _r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E1(this.data.getIterator())}getIteratorFrom(e){return new E1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class E1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _i{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new _i([])}unionWith(e){let t=new ft(Zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Sr{constructor(e){this.value=e}static empty(){return new Sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(t)}setAll(e){let t=Zn.emptyPath(),r={},o=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=f.popLast()}d?r[f.lastSegment()]=pf(d):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Lm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){$o(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Sr(pf(this.value))}}class mn{constructor(e,t,r,o,u,d,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=f}static newInvalidDocument(e){return new mn(e,0,Ke.min(),Ke.min(),Ke.min(),Sr.empty(),0)}static newFoundDocument(e,t,r,o){return new mn(e,1,t,Ke.min(),r,o,0)}static newNoDocument(e,t){return new mn(e,2,t,Ke.min(),Ke.min(),Sr.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Ke.min(),Ke.min(),Sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kk{constructor(e,t=null,r=[],o=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=f,this._t=null}}function UT(n,e=null,t=[],r=[],o=null,u=null,d=null){return new Kk(n,e,t,r,o,u,d)}function $l(n){const e=De(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>LT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Vl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),e._t=t}return e._t}function _f(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Um(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kT(n.startAt,e.startAt)&&kT(n.endAt,e.endAt)}function Bm(n){return Te.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class za{constructor(e,t=null,r=[],o=[],u=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=y,this.wt=null,this.gt=null}}function Gl(n){return new za(n)}function GT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mc(n){const e=De(n);if(null===e.wt){e.wt=[];const t=function(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ul(t)),e.wt.push(new Ul(Zn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ul(Zn.keyField(),u))}}}return e.wt}function ei(n){const e=De(n);if(!e.gt)if("F"===e.limitType)e.gt=UT(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of mc(e))t.push(new Ul(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new qa(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new qa(e.startAt.position,e.startAt.inclusive):null;e.gt=UT(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.gt}function $m(n,e,t){return new za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ti(n,e){return _f(ei(n),ei(e))&&n.limitType===e.limitType}function qT(n){return`${$l(ei(n))}|lt:${n.limitType}`}function Sb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>VT(r)).join(", ")}]`),Vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fc(r)).join(",")),`Target(${t})`}(ei(n))}; limitType=${n.limitType})`}function vf(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Te.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of mc(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const f=OT(o,u,d);return o.inclusive?f<=0:f<0}(t.startAt,mc(t),r)||t.endAt&&!function(o,u,d){const f=OT(o,u,d);return o.inclusive?f>=0:f>0}(t.endAt,mc(t),r)));var t,r}function b1(n){return(e,t)=>{let r=!1;for(const o of mc(n)){const u=w1(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function w1(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),y=d.data.field(o);return null!==f&&null!==y?hc(f,y):Pe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}class Ef{constructor(){this._=void 0}}function Zk(n,e,t){return n instanceof bf?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ql?Gm(n,e):n instanceof yc?ZT(n,e):function(r,o){const u=function(n,e){return n instanceof zl?km(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,o),d=T1(u)+T1(r.It);return km(u)&&km(r.It)?function(n){return{integerValue:""+n}}(d):function(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}(r.Tt,d)}(n,e)}function C1(n,e,t){return n instanceof ql?Gm(n,e):n instanceof yc?ZT(n,e):t}class bf extends Ef{}class ql extends Ef{constructor(e){super(),this.elements=e}}function Gm(n,e){const t=YT(e);for(const r of n.elements)t.some(o=>ks(o,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends Ef{constructor(e){super(),this.elements=e}}function ZT(n,e){let t=YT(e);for(const r of n.elements)t=t.filter(o=>!ks(o,r));return{arrayValue:{values:t}}}class zl extends Ef{constructor(e,t){super(),this.Tt=e,this.It=t}}function T1(n){return Bn(n.integerValue||n.doubleValue)}function YT(n){return Ho(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xb{}function Mb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Kl(n.key,Mn.none()):new Wa(n.key,n.data,Mn.none());{const t=n.data,r=Sr.empty();let o=new ft(Zn.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new cs(n.key,r,new _i(o.toArray()),Mn.none())}}function QT(n,e,t){n instanceof Wa?function(r,o,u){const d=r.value.clone(),f=Rb(r.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(r,o,u){if(!Cf(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=Rb(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(If(r)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Wl(n,e,t,r){return n instanceof Wa?function(o,u,d,f){if(!Cf(o.precondition,u))return d;const y=o.value.clone(),_=Pb(o.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof cs?function(o,u,d,f){if(!Cf(o.precondition,u))return d;const y=Pb(o.fieldTransforms,f,u),_=u.data;return _.setAll(If(o)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(n,e,t,r):(d=t,Cf(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function Hm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&df(t,r,(o,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ql&&r instanceof ql||t instanceof yc&&r instanceof yc?df(t.elements,r.elements,ks):t instanceof zl&&r instanceof zl?ks(t.It,r.It):t instanceof bf&&r instanceof bf);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Wa extends xb{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends xb{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function If(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Rb(n,e,t){const r=new Map;je(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,f=e.data.field(u.field);r.set(u.field,C1(d,f,t[o]))}return r}function Pb(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,Zk(u,d,e))}return r}class Kl extends xb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JT{constructor(e){this.count=e}}var tr,Vt;function qm(n){if(void 0===n)return er("GRPC error has no .code"),Q.UNKNOWN;switch(n){case tr.OK:return Q.OK;case tr.CANCELLED:return Q.CANCELLED;case tr.UNKNOWN:return Q.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Q.INTERNAL;case tr.UNAVAILABLE:return Q.UNAVAILABLE;case tr.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case tr.NOT_FOUND:return Q.NOT_FOUND;case tr.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case tr.ABORTED:return Q.ABORTED;case tr.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case tr.DATA_LOSS:return Q.DATA_LOSS;default:return Pe()}}(Vt=tr||(tr={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";class Ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return function(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const ni=new jn(Te.comparator);function vr(){return ni}const Tf=new jn(Te.comparator);function Zl(...n){let e=Tf;for(const t of n)e=e.insert(t.key,t);return e}function Df(n){let e=Tf;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ls(){return Za()}function kb(){return Za()}function Za(){return new Ka(n=>n.toString(),(n,e)=>n.isEqual(e))}new jn(Te.comparator);const S1=new ft(Te.comparator);function St(...n){let e=S1;for(const t of n)e=e.add(t);return e}const x1=new ft(lt);function Af(){return x1}class Sf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sf(Ke.min(),o,Af(),vr(),St())}}class xf{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xf(r,t,St(),St(),St())}}class zm{constructor(e,t,r,o){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=o}}class qo{constructor(e,t){this.targetId=e,this.Rt=t}}class Yl{constructor(e,t,r=yr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Wm{constructor(){this.Pt=0,this.vt=tD(),this.bt=yr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=St(),t=St(),r=St();return this.vt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Pe()}}),new xf(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=tD()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class M1{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=vr(),this.Kt=eD(),this.Gt=new ft(lt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,o)=>{this.Jt(o)&&t(o)})}Zt(e){const t=e.targetId,r=e.Rt.count,o=this.Xt(t);if(o){const u=o.target;if(Bm(u))if(0===r){const d=new Te(u.path);this.zt(t,d,mn.newNoDocument(d,Ke.min()))}else je(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((u,d)=>{const f=this.Xt(d);if(f){if(u.current&&Bm(f.target)){const y=new Te(f.target.path);null!==this.Ut.get(y)||this.ne(d,y)||this.zt(d,y,mn.newNoDocument(y,e))}u.Ct&&(t.set(d,u.Nt()),u.kt())}});let r=St();this.Kt.forEach((u,d)=>{let f=!0;d.forEachWhile(y=>{const _=this.Xt(y);return!_||2===_.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new Sf(e,t,this.Gt,this.Ut,r);return this.Ut=vr(),this.Kt=eD(),this.Gt=new ft(lt),o}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const o=this.Ht(e);this.ne(e,t)?o.$t(t,1):o.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new Wm,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new ft(lt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Wm),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function eD(){return new jn(Te.comparator)}function tD(){return new jn(Te.comparator)}const Fb={asc:"ASCENDING",desc:"DESCENDING"},N1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nD={and:"AND",or:"OR"};class rD{constructor(e,t){this.databaseId=e,this.yt=t}}function Zt(n){return je(!!n),Ke.fromTimestamp(function(e){const t=cc(e);return new dn(t.seconds,t.nanos)}(n))}function vc(n){const e=jt.fromString(n);return je(F1(e)),e}function ri(n,e){const t=vc(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(Vb(t))}function Lb(n,e){return function(n,e){return(t=n,new jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function Mf(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vb(n){return je(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qa(n,e){return{documents:[Lb(n,e.path)]}}function Rf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Lb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0!==y.length)return k1(rn.create(y,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(y){if(0!==y.length)return y.map(_=>{return{field:Ja((C=_).field),direction:Yk(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(_=e.limit,n.yt||Vl(_)?_:{value:_});var _,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function uD(n){let e=function(n){const e=vc(n);return 4===e.length?jt.emptyPath():Vb(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){je(1===r);const C=t.from[0];C.allDescendants?o=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const D=O1(C);return D instanceof rn&&mf(D)?D.getFilters():[D]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(C=>{return new Ul(Jl((D=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(C){let D;return D="object"==typeof C?C.value:C,Vl(D)?null:D}(t.limit));let y=null;var C;t.startAt&&(y=new qa((C=t.startAt).values||[],!!C.before));let _=null;return t.endAt&&(_=function(C){return new qa(C.values||[],!C.before)}(t.endAt)),function(n,e,t,r,o,u,d,f){return new za(n,e,t,r,o,u,d,f)}(e,o,d,u,f,"F",y,_)}function O1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jl(e.unaryFilter.field);return Pt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Jl(e.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jl(e.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jl(e.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):void 0!==n.fieldFilter?Pt.create(Jl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(t=>O1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Pe()}}(e.compositeFilter.op))}(n):Pe();var e}function Yk(n){return Fb[n]}function Qk(n){return N1[n]}function Jk(n){return nD[n]}function Ja(n){return{fieldPath:n.canonicalString()}}function Jl(n){return Zn.fromServerFormat(n.fieldPath)}function k1(n){return n instanceof Pt?function(e){if("=="===e.op){if(gb(e.value))return{unaryFilter:{field:Ja(e.field),op:"IS_NAN"}};if(Fm(e.value))return{unaryFilter:{field:Ja(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gb(e.value))return{unaryFilter:{field:Ja(e.field),op:"IS_NOT_NAN"}};if(Fm(e.value))return{unaryFilter:{field:Ja(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(e.field),op:Qk(e.op),value:e.value}}}(n):n instanceof rn?function(e){const t=e.getFilters().map(r=>k1(r));return 1===t.length?t[0]:{compositeFilter:{op:Jk(e.op),filters:t}}}(n):Pe()}function F1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ei{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QT(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kb();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(o.key)?null:f;const y=Mb(d,f);null!==y&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),St())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(t,r)=>Hm(t,r))&&df(this.baseMutations,e.baseMutations,(t,r)=>Hm(t,r))}}class Xa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hi{constructor(e,t,r,o,u=Ke.min(),d=Ke.min(),f=yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bc{constructor(e){this.oe=e}}function B1(n){const e=uD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$m(e,e.limit,"L"):e}class Of{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Bn(e.integerValue));else if("doubleValue"in e){const r=Bn(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),uc(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(lc(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?y1(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Pe()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const o of Object.keys(r))this.we(o,t),this.he(r[o],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const o of r)this.he(o,t)}ye(e,t){this.fe(t,37),Te.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}Of.Ee=new Of;class hU{constructor(){this.Ze=new z1}addToCollectionParentIndex(e,t){return this.Ze.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(us.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class z1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new ft(jt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ft(jt.comparator)).toArray()}}new Uint8Array(0);class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class Ff{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Ff(0)}static Sn(){return new Ff(-1)}}class wU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wF{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Wl(r.mutation,o,_i.empty(),dn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,St()).next(()=>r))}getLocalViewOfDocuments(e,t,r=St()){const o=ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=Zl();return u.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,St()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,o){let u=vr();const d=Za(),f=Za();return t.forEach((y,_)=>{const C=r.get(_.key);o.has(_.key)&&(void 0===C||C.mutation instanceof cs)?u=u.insert(_.key,_):void 0!==C?(d.set(_.key,C.mutation.getFieldMask()),Wl(C.mutation,_,C.mutation.getFieldMask(),dn.now())):d.set(_.key,_i.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((_,C)=>d.set(_,C)),t.forEach((_,C)=>{var D;return f.set(_,new wU(C,null!==(D=d.get(_))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Za();let o=new jn((d,f)=>d-f),u=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const _=t.get(y);if(null===_)return;let C=r.get(y)||_i.empty();C=f.applyToLocalView(_,C),r.set(y,C);const D=(o.get(f.batchId)||St()).add(y);o=o.insert(f.batchId,D)})}).next(()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),_=y.key,C=y.value,D=kb();C.forEach(M=>{if(!u.has(M)){const R=Mb(t.get(M),r.get(M));null!==R&&D.set(M,R),u=u.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return W.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Te.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):W.resolve(ls());let f=-1,y=u;return d.next(_=>W.forEach(_,(C,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),u.get(C)?W.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{y=y.insert(C,M)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,y,_,St())).next(C=>({batchId:f,changes:Df(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Zl();return this.indexManager.getCollectionParents(e,o).next(d=>W.forEach(d,f=>{const y=(_=t,C=f.child(o),new za(C,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,C;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(_=>{_.forEach((C,D)=>{u=u.insert(C,D)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((f,y)=>{const _=y.getKey();null===u.get(_)&&(u=u.insert(_,mn.newInvalidDocument(_)))});let d=Zl();return u.forEach((f,y)=>{const _=o.get(f);void 0!==_&&Wl(_.mutation,y,_i.empty(),dn.now()),vf(t,y)&&(d=d.insert(f,y))}),d})}}class CU{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return W.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:Zt(r.createTime)}),W.resolve()}getNamedQuery(e,t){return W.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:B1(r.bundledQuery),readTime:Zt(r.readTime)}),W.resolve();var r}}class IU{constructor(){this.overlays=new jn(Te.comparator),this.ss=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ls();return W.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ce(e,t,u)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ss.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ss.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const o=ls(),u=t.length+1,d=new Te(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,_=y.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new jn((_,C)=>_-C);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let C=u.get(_.largestBatchId);null===C&&(C=ls(),u=u.insert(_.largestBatchId,C)),C.set(_.getKey(),_)}}const f=ls(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,C)=>f.set(_,C)),!(f.size()>=o)););return W.resolve(f)}ce(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ss.get(o.largestBatchId).delete(r.key);this.ss.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Xa(t,r));let u=this.ss.get(t);void 0===u&&(u=St(),this.ss.set(t,u)),this.ss.set(t,u.add(r.key))}}class W1{constructor(){this.rs=new ft(jr.os),this.us=new ft(jr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new jr(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new jr(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new Te(new jt([])),r=new jr(t,e),o=new jr(t,e+1),u=[];return this.us.forEachInRange([r,o],d=>{this.ls(d),u.push(d.key)}),u}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new Te(new jt([])),r=new jr(t,e),o=new jr(t,e+1);let u=St();return this.us.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new jr(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jr{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return Te.comparator(e.key,t.key)||lt(e.gs,t.gs)}static cs(e,t){return lt(e.gs,t.gs)||Te.comparator(e.key,t.key)}}class TU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new ft(jr.os)}checkEmpty(e){return W.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ys;this.ys++;const d=new Ei(u,t,r,o);this.mutationQueue.push(d);for(const f of o)this.ps=this.ps.add(new jr(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,t){return W.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ts(t+1),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jr(t,0),o=new jr(t,Number.POSITIVE_INFINITY),u=[];return this.ps.forEachInRange([r,o],d=>{const f=this.Is(d.gs);u.push(f)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(lt);return t.forEach(o=>{const u=new jr(o,0),d=new jr(o,Number.POSITIVE_INFINITY);this.ps.forEachInRange([u,d],f=>{r=r.add(f.gs)})}),W.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const d=new jr(new Te(u),0);let f=new ft(lt);return this.ps.forEachWhile(y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(f=f.add(y.gs)),!0)},d),W.resolve(this.Es(f))}Es(e){const t=[];return e.forEach(r=>{const o=this.Is(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){je(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return W.forEach(t.mutations,o=>{const u=new jr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new jr(t,0),o=this.ps.firstAfterOrEqual(r);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return W.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class DU{constructor(e){this.Rs=e,this.docs=new jn(Te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=vr();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=vr();const d=t.path,f=new Te(d.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:_,value:{document:C}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Nm(AT(C),r)<=0||(o.has(C.key)||vf(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Pe()}Ps(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AU(this)}getSize(e){return W.resolve(this.size)}}class AU extends class{constructor(){this.changes=new Ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Xn.addEntry(e,o)):this.Xn.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class SU{constructor(e){this.persistence=e,this.vs=new Ka(t=>$l(t),_f),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.bs=0,this.Vs=new W1,this.targetCount=0,this.Ss=Ff.Vn()}forEachTarget(e,t){return this.vs.forEach((r,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),W.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Ff(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.xn(t),W.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.vs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.vs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Vs.containsKey(t))}}class CF{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new yi(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new SU(this),this.indexManager=new hU,this.remoteDocumentCache=new DU(r=>this.referenceDelegate.ks(r)),this.Tt=new bc(t),this.$s=new CU(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new TU(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const o=new xU(this.Cs.next());return this.referenceDelegate.Ms(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Fs(e,t){return W.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class xU extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class mD{constructor(e){this.persistence=e,this.Bs=new W1,this.Ls=null}static qs(e){return new mD(e)}get Us(){if(this.Ls)return this.Ls;throw Pe()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),W.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(o=>this.Us.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Us.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Us,r=>{const o=Te.fromPath(r);return this.Ks(e,o).next(u=>{u||t.removeEntry(o,Ke.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return W.or([()=>W.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class Q1{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=o}static Ni(e,t){let r=St(),o=St();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Q1(e,t.fromCache,r,o)}}class TF{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Mi(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Fi(e,t))}Mi(e,t){if(GT(t))return W.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=$m(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=St(...u);return this.$i.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const _=this.Bi(t,f);return this.Li(t,_,d,y.readTime)?this.Mi(e,$m(t,null,"F")):this.qi(e,_,t,y)}))})))}Oi(e,t,r,o){return GT(t)||o.isEqual(Ke.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(u=>{const d=this.Bi(t,u);return this.Li(t,d,r,o)?this.Fi(e,t):(nb()<=As.in.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Sb(t)),this.qi(e,d,t,function(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(1e9===r?new dn(t+1,0):new dn(t,r));return new us(o,Te.empty(),e)}(o,-1)))})}Bi(e,t){let r=new ft(b1(e));return t.forEach((o,u)=>{vf(e,u)&&(r=r.add(u))}),r}Li(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fi(e,t){return nb()<=As.in.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Sb(t)),this.$i.getDocumentsMatchingQuery(e,t,us.min())}qi(e,t,r,o){return this.$i.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class NU{constructor(e,t,r,o){this.persistence=e,this.Ui=t,this.Tt=o,this.Ki=new jn(lt),this.Gi=new Ka(u=>$l(u),_f),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wF(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function AF(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,z.Z)(function*(n,e){const t=De(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],f=[];let y=St();for(const _ of o){d.push(_.batchId);for(const C of _.mutations)y=y.add(C.key)}for(const _ of u){f.push(_.batchId);for(const C of _.mutations)y=y.add(C.key)}return t.localDocuments.getDocuments(r,y).next(_=>({Wi:_,removedBatchIds:d,addedBatchIds:f}))})})}),J1.apply(this,arguments)}function SF(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function PU(n,e){const t=De(n),r=e.snapshotVersion;let o=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ji.newChangeBuffer({trackRemovals:!0});o=t.Ki;const f=[];e.targetChanges.forEach((C,D)=>{const M=o.get(D);if(!M)return;f.push(t.Ns.removeMatchingKeys(u,C.removedDocuments,D).next(()=>t.Ns.addMatchingKeys(u,C.addedDocuments,D)));let R=M.withSequenceNumber(u.currentSequenceNumber);var j,K,re;e.targetMismatches.has(D)?R=R.withResumeToken(yr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):C.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(C.resumeToken,r)),o=o.insert(D,R),K=R,re=C,(0===(j=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&f.push(t.Ns.updateTargetData(u,R))});let y=vr(),_=St();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),f.push(function(n,e,t){let r=St(),o=St();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=vr();return t.forEach((f,y)=>{const _=u.get(f);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),y.isNoDocument()&&y.version.isEqual(Ke.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||0===y.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",y.version)}),{Hi:d,Ji:o}})}(u,d,e.documentUpdates).next(C=>{y=C.Hi,_=C.Ji})),!r.isEqual(Ke.min())){const C=t.Ns.getLastRemoteSnapshotVersion(u).next(D=>t.Ns.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(C)}return W.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(t.Ki=o,u))}function Qm(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ns.getTargetData(r,e).next(u=>u?(o=u,W.resolve(o)):t.Ns.allocateTargetId(r).next(d=>(o=new Hi(e,d,0,r.currentSequenceNumber),t.Ns.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ki.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function Jm(n,e,t){return X1.apply(this,arguments)}function X1(){return X1=(0,z.Z)(function*(n,e,t){const r=De(n),o=r.Ki.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ha(d))throw d;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(o.target)}),X1.apply(this,arguments)}function _D(n,e,t){const r=De(n);let o=Ke.min(),u=St();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,_){const C=De(f),D=C.Gi.get(_);return void 0!==D?W.resolve(C.Ki.get(D)):C.Ns.getTargetData(y,_)}(r,d,ei(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(d,f.targetId).next(y=>{u=y})}).next(()=>r.Ui.getDocumentsMatchingQuery(d,e,t?o:Ke.min(),t?u:St())).next(f=>(function(n,e,t){let r=n.Qi.get(e)||Ke.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Qi.set(e,r)}(r,function(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,Yi:u})))}class iN{constructor(){this.activeTargetIds=Af()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kF{constructor(){this.Ur=new iN,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new iN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LU{Gr(e){}shutdown(){}}class FF{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bD=null;function oN(){return null===bD?bD=268435456+Math.round(2147483648*Math.random()):bD++,"0x"+bD.toString(16)}const VU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UU{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const bi="WebChannelConnection";class BU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,o,u){const d=oN(),f=this.fo(e,t);ge("RestConnection",`Sending RPC '${e}' ${d}:`,f,r);const y={};return this._o(y,o,u),this.wo(e,f,y,r).then(_=>(ge("RestConnection",`Received RPC '${e}' ${d}: `,_),_),_=>{throw lf("RestConnection",`RPC '${e}' ${d} failed with error: `,_,"url: ",f,"request:",r),_})}mo(e,t,r,o,u,d){return this.lo(e,t,r,o,u)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}fo(e,t){return`${this.co}/v1/${t}:${VU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,o){const u=oN();return new Promise((d,f)=>{const y=new Vk;y.setWithCredentials(!0),y.listenOnce(kk.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ET.NO_ERROR:const C=y.getResponseJson();ge(bi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),d(C);break;case ET.TIMEOUT:ge(bi,`RPC '${e}' ${u} timed out`),f(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ET.HTTP_ERROR:const D=y.getStatus();if(ge(bi,`RPC '${e}' ${u} failed with status:`,D,"response text:",y.getResponseText()),D>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const R=null==M?void 0:M.error;if(R&&R.status&&R.message){const j=function(K){const re=K.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(re)>=0?re:Q.UNKNOWN}(R.status);f(new fe(j,R.message))}else f(new fe(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ge(bi,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ge(bi,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",_,r,15)})}yo(e,t,r){const o=oN(),u=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Pk(),f=Ok(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new Lk({})),this._o(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const _=u.join("");ge(bi,`Creating RPC '${e}' stream ${o}: ${_}`,y);const C=d.createWebChannel(_,y);let D=!1,M=!1;const R=new UU({Yr:K=>{M?ge(bi,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(D||(ge(bi,`Opening RPC '${e}' stream ${o} transport.`),C.open(),D=!0),ge(bi,`RPC '${e}' stream ${o} sending:`,K),C.send(K))},Zr:()=>C.close()}),j=(K,re,Ae)=>{K.listen(re,qe=>{try{Ae(qe)}catch(Le){setTimeout(()=>{throw Le},0)}})};return j(C,tb.EventType.OPEN,()=>{M||ge(bi,`RPC '${e}' stream ${o} transport opened.`)}),j(C,tb.EventType.CLOSE,()=>{M||(M=!0,ge(bi,`RPC '${e}' stream ${o} transport closed`),R.oo())}),j(C,tb.EventType.ERROR,K=>{M||(M=!0,lf(bi,`RPC '${e}' stream ${o} transport errored:`,K),R.oo(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),j(C,tb.EventType.MESSAGE,K=>{var re;if(!M){const Ae=K.data[0];je(!!Ae);const qe=Ae,Le=qe.error||(null===(re=qe[0])||void 0===re?void 0:re.error);if(Le){ge(bi,`RPC '${e}' stream ${o} received error:`,Le);const Et=Le.status;let Nt=function(Gt){const br=tr[Gt];if(void 0!==br)return qm(br)}(Et),bt=Le.message;void 0===Nt&&(Nt=Q.INTERNAL,bt="Unknown error status: "+Et+" with message "+Le.message),M=!0,R.oo(new fe(Nt,bt)),C.close()}else ge(bi,`RPC '${e}' stream ${o} received:`,Ae),R.uo(Ae)}}),j(f,Fk.STAT_EVENT,K=>{K.stat===a1.PROXY?ge(bi,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===a1.NOPROXY&&ge(bi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.ro()},0),R}}function wD(){return"undefined"!=typeof document?document:null}function Xb(n){return new rD(n,!0)}class aN{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=o,this.To=u,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),o=Math.max(0,t-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,o,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class $U extends class{constructor(e,t,r,o,u,d,f,y){this.Ys=e,this.So=r,this.Do=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new aN(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,z.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,z.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,z.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===Q.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Co===t&&this.jo(r,o)},r=>{e(()=>{const o=new fe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(o)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(o=>{r(()=>this.zo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.ko.vo((0,z.Z)(function*(){e.state=0,e.start()}))}zo(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.Tt=u}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Pe(),o=e.targetChange.targetIds||[],u=function(y,_){return y.yt?(je(void 0===_||"string"==typeof _),yr.fromBase64String(_||"")):(je(void 0===_||_ instanceof Uint8Array),yr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const _=void 0===y.code?Q.UNKNOWN:qm(y.code);return new fe(_,y.message||"")}(d);t=new Yl(r,o,u,f||null)}else if("documentChange"in e){const r=e.documentChange,o=ri(n,r.document.name),u=Zt(r.document.updateTime),d=r.document.createTime?Zt(r.document.createTime):Ke.min(),f=new Sr({mapValue:{fields:r.document.fields}}),y=mn.newFoundDocument(o,u,d,f);t=new zm(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=ri(n,r.document),u=r.readTime?Zt(r.readTime):Ke.min(),d=mn.newNoDocument(o,u);t=new zm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ri(n,r.document);t=new zm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Pe();{const r=e.filter,u=new JT(r.count||0);t=new qo(r.targetId,u)}}var y;return t}(this.Tt,e),r=function(o){if(!("targetChange"in o))return Ke.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ke.min():u.readTime?Zt(u.readTime):Ke.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Mf(this.Tt),t.addTarget=function(o,u){let d;const f=u.target;return d=Bm(f)?{documents:Qa(o,f)}:{query:Rf(o,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=function(n,e){return n.yt?e.toBase64():e.toUint8Array()}(o,u.resumeToken):u.snapshotVersion.compareTo(Ke.min())>0&&(d.readTime=function(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(o,u.snapshotVersion.toTimestamp())),d}(this.Tt,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Mf(this.Tt),t.removeTarget=e,this.qo(t)}}class HU extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=o,this.iu=!1}ru(){if(this.iu)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.lo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(Q.UNKNOWN,o.toString())})}mo(e,t,r,o){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.mo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Q.UNKNOWN,u.toString())})}terminate(){this.iu=!0}}class zU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(er(t),this.cu=!1):ge("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class WU{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=u,this.yu.Gr(f=>{r.enqueueAndForget((0,z.Z)(function*(){var y;wc(d)&&(ge("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,z.Z)(function*(_){const C=De(_);C.mu.add(4),yield Xm(C),C.pu.set("Unknown"),C.mu.delete(4),yield e0(C)}),function(_){return y.apply(this,arguments)})(d))}))}),this.pu=new zU(r,o)}}function e0(n){return cN.apply(this,arguments)}function cN(){return cN=(0,z.Z)(function*(n){if(wc(n))for(const e of n.gu)yield e(!0)}),cN.apply(this,arguments)}function Xm(n){return lN.apply(this,arguments)}function lN(){return lN=(0,z.Z)(function*(n){for(const e of n.gu)yield e(!1)}),lN.apply(this,arguments)}function CD(n,e){const t=De(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),fN(t)?hN(t):ty(t).Mo()&&dN(t,e))}function t0(n,e){const t=De(n),r=ty(t);t.wu.delete(e),r.Mo()&&VF(t,e),0===t.wu.size&&(r.Mo()?r.Bo():wc(t)&&t.pu.set("Unknown"))}function dN(n,e){n.Iu.Ot(e.targetId),ty(n).Jo(e)}function VF(n,e){n.Iu.Ot(e),ty(n).Yo(e)}function hN(n){n.Iu=new M1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),ty(n).start(),n.pu.au()}function fN(n){return wc(n)&&!ty(n).$o()&&n.wu.size>0}function wc(n){return 0===De(n).mu.size}function UF(n){n.Iu=void 0}function KU(n){return pN.apply(this,arguments)}function pN(){return pN=(0,z.Z)(function*(n){n.wu.forEach((e,t)=>{dN(n,e)})}),pN.apply(this,arguments)}function ZU(n,e){return gN.apply(this,arguments)}function gN(){return gN=(0,z.Z)(function*(n,e){UF(n),fN(n)?(n.pu.fu(e),hN(n)):n.pu.set("Unknown")}),gN.apply(this,arguments)}function YU(n,e,t){return mN.apply(this,arguments)}function mN(){return mN=(0,z.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof Yl&&2===e.state&&e.cause)try{yield(r=(0,z.Z)(function*(o,u){const d=u.cause;for(const f of u.targetIds)o.wu.has(f)&&(yield o.remoteSyncer.rejectListen(f,d),o.wu.delete(f),o.Iu.removeTarget(f))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ID(n,r)}else if(e instanceof zm?n.Iu.Qt(e):e instanceof qo?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Ke.min()))try{const r=yield SF(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.Iu.ee(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.wu.get(y);_&&o.wu.set(y,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(f=>{const y=o.wu.get(f);if(!y)return;o.wu.set(f,y.withResumeToken(yr.EMPTY_BYTE_STRING,y.snapshotVersion)),VF(o,f);const _=new Hi(y.target,f,1,y.sequenceNumber);dN(o,_)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),yield ID(n,r)}var r}),mN.apply(this,arguments)}function ID(n,e,t){return yN.apply(this,arguments)}function yN(){return yN=(0,z.Z)(function*(n,e,t){if(!Ha(e))throw e;n.mu.add(1),yield Xm(n),n.pu.set("Offline"),t||(t=()=>SF(n.localStore)),n.asyncQueue.enqueueRetryable((0,z.Z)(function*(){ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield e0(n)}))}),yN.apply(this,arguments)}function GF(n,e){return CN.apply(this,arguments)}function CN(){return CN=(0,z.Z)(function*(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=wc(t);t.mu.add(3),yield Xm(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield e0(t)}),CN.apply(this,arguments)}function TN(){return TN=(0,z.Z)(function*(n,e){const t=De(n);e?(t.mu.delete(2),yield e0(t)):e||(t.mu.add(2),yield Xm(t),t.pu.set("Unknown"))}),TN.apply(this,arguments)}function ty(n){return n.Tu||(n.Tu=function(e,t,r){const o=De(e);return o.ru(),new $U(t,o.connection,o.authCredentials,o.appCheckCredentials,o.Tt,r)}(n.datastore,n.asyncQueue,{Xr:KU.bind(null,n),no:ZU.bind(null,n),Ho:YU.bind(null,n)}),n.gu.push(function(){var e=(0,z.Z)(function*(t){t?(n.Tu.Fo(),fN(n)?hN(n):n.pu.set("Unknown")):(yield n.Tu.stop(),UF(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class DN{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,f=new DN(e,t,d,o,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,e){if(er("AsyncQueue",`${e}: ${n}`),Ha(n))return new fe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}class ry{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Zl(),this.sortedSet=new jn(this.comparator)}static emptySet(e){return new ry(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ry)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ry;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class HF{constructor(){this.Au=new jn(Te.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Pe():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class iy{constructor(e,t,r,o,u,d,f,y,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new iy(e,t,ry.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ti(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class rB{constructor(){this.Pu=void 0,this.listeners=[]}}class iB{constructor(){this.queries=new Ka(e=>qT(e),ti),this.onlineState="Unknown",this.vu=new Set}}function SN(){return SN=(0,z.Z)(function*(n,e){const t=De(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new rB),o)try{u.Pu=yield t.onListen(r)}catch(d){const f=ny(d,`Initialization of query '${Sb(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Pu&&e.Vu(u.Pu)&&NN(t)}),SN.apply(this,arguments)}function MN(){return MN=(0,z.Z)(function*(n,e){const t=De(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),MN.apply(this,arguments)}function sB(n,e){const t=De(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const f of d.listeners)f.Vu(o)&&(r=!0);d.Pu=o}}r&&NN(t)}function oB(n,e,t){const r=De(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function NN(n){n.vu.forEach(e=>{e.next()})}class RN{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class WF{constructor(e){this.key=e}}class KF{constructor(e){this.key=e}}class ZF{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=St(),this.mutatedKeys=St(),this.ju=b1(e),this.zu=new ry(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new HF,o=t?t.zu:this.zu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,_="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((C,D)=>{const M=o.get(C),R=vf(this.query,D)?D:null,j=!!M&&this.mutatedKeys.has(M.key),K=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let re=!1;M&&R?M.data.isEqual(R.data)?j!==K&&(r.track({type:3,doc:R}),re=!0):this.Yu(M,R)||(r.track({type:2,doc:R}),re=!0,(y&&this.ju(R,y)>0||_&&this.ju(R,_)<0)&&(f=!0)):!M&&R?(r.track({type:0,doc:R}),re=!0):M&&!R&&(r.track({type:1,doc:M}),re=!0,(y||_)&&(f=!0)),re&&(R?(d=d.add(R),u=K?u.add(C):u.delete(C)):(d=d.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const C="F"===this.query.limitType?d.last():d.first();d=d.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{zu:d,Ju:r,Li:f,mutatedKeys:u}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const u=e.Ju.Ru();u.sort((_,C)=>function(D,M){const R=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return R(D)-R(M)}(_.type,C.type)||this.ju(_.doc,C.doc)),this.Zu(r);const d=t?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,y=f!==this.Gu;return this.Gu=f,0!==u.length||y?{snapshot:new iy(this.query,e.zu,o,u,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:d}:{tc:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new HF,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=St(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new KF(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new WF(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=St();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return iy.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class cB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lB{constructor(e){this.key=e,this.ic=!1}}class dB{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.rc={},this.oc=new Ka(f=>qT(f),ti),this.uc=new Map,this.cc=new Set,this.ac=new jn(Te.comparator),this.hc=new Map,this.lc=new W1,this.fc={},this.dc=new Map,this._c=Ff.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function hB(n,e){return PN.apply(this,arguments)}function PN(){return PN=(0,z.Z)(function*(n,e){const t=nR(n);let r,o;const u=t.oc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.sc();else{const d=yield Qm(t.localStore,ei(e));t.isPrimaryClient&&CD(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield ON(t,e,r,"current"===f,d.resumeToken)}return o}),PN.apply(this,arguments)}function ON(n,e,t,r,o){return kN.apply(this,arguments)}function kN(){return kN=(0,z.Z)(function*(n,e,t,r,o){n.mc=(D,M,R)=>{return(j=(0,z.Z)(function*(K,re,Ae,qe){let Le=re.view.Hu(Ae);Le.Li&&(Le=yield _D(K.localStore,re.query,!1).then(({documents:bt})=>re.view.Hu(bt,Le)));const Et=qe&&qe.targetChanges.get(re.targetId),Nt=re.view.applyChanges(Le,K.isPrimaryClient,Et);return qN(K,re.targetId,Nt.tc),Nt.snapshot}),function(K,re,Ae,qe){return j.apply(this,arguments)})(n,D,M,R);var j};const u=yield _D(n.localStore,e,!0),d=new ZF(e,u.Yi),f=d.Hu(u.documents),y=xf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),_=d.applyChanges(f,n.isPrimaryClient,y);qN(n,t,_.tc);const C=new cB(e,t,d);return n.oc.set(e,C),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),_.snapshot}),kN.apply(this,arguments)}function fB(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,z.Z)(function*(n,e){const t=De(n),r=t.oc.get(e),o=t.uc.get(r.targetId);if(o.length>1)return t.uc.set(r.targetId,o.filter(u=>!ti(u,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),t0(t.remoteStore,r.targetId),sy(t,r.targetId)}).catch(ic))):(sy(t,r.targetId),yield Jm(t.localStore,r.targetId,!0))}),FN.apply(this,arguments)}function YF(n,e){return VN.apply(this,arguments)}function VN(){return VN=(0,z.Z)(function*(n,e){const t=De(n);try{const r=yield PU(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.hc.get(u);d&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.ic=!0:o.modifiedDocuments.size>0?je(d.ic):o.removedDocuments.size>0&&(je(d.ic),d.ic=!1))}),yield Cc(t,r,e)}catch(r){yield ic(r)}}),VN.apply(this,arguments)}function QF(n,e,t){const r=De(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.oc.forEach((u,d)=>{const f=d.view.bu(e);f.snapshot&&o.push(f.snapshot)}),function(u,d){const f=De(u);f.onlineState=d;let y=!1;f.queries.forEach((_,C)=>{for(const D of C.listeners)D.bu(d)&&(y=!0)}),y&&NN(f)}(r.eventManager,e),o.length&&r.rc.Ho(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gB(n,e,t){return UN.apply(this,arguments)}function UN(){return UN=(0,z.Z)(function*(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.hc.get(e),u=o&&o.key;if(u){let d=new jn(Te.comparator);d=d.insert(u,mn.newNoDocument(u,Ke.min()));const f=St().add(u),y=new Sf(Ke.min(),new Map,new ft(lt),d,f);yield YF(r,y),r.ac=r.ac.remove(u),r.hc.delete(e),zN(r)}else yield Jm(r.localStore,e,!1).then(()=>sy(r,e,t)).catch(ic)}),UN.apply(this,arguments)}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||JF(n,r)})}function JF(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(t0(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),zN(n))}function qN(n,e,t){for(const r of t)r instanceof WF?(n.lc.addReference(r.key,e),vB(n,r)):r instanceof KF?(ge("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||JF(n,r.key)):Pe()}function vB(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(ge("SyncEngine","New document in limbo: "+t),n.cc.add(r),zN(n))}function zN(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new Te(jt.fromString(e)),r=n._c.next();n.hc.set(r,new lB(t)),n.ac=n.ac.insert(t,r),CD(n.remoteStore,new Hi(ei(Gl(t.path)),r,2,yi.at))}}function Cc(n,e,t){return WN.apply(this,arguments)}function WN(){return WN=(0,z.Z)(function*(n,e,t){const r=De(n),o=[],u=[],d=[];var f;r.oc.isEmpty()||(r.oc.forEach((f,y)=>{d.push(r.mc(y,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,(null==_?void 0:_.fromCache)?"not-current":"current"),_){o.push(_);const C=Q1.Ni(y.targetId,_);u.push(C)}}))}),yield Promise.all(d),r.rc.Ho(o),yield(f=(0,z.Z)(function*(y,_){const C=De(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>W.forEach(_,M=>W.forEach(M.Ci,R=>C.persistence.referenceDelegate.addReference(D,M.targetId,R)).next(()=>W.forEach(M.xi,R=>C.persistence.referenceDelegate.removeReference(D,M.targetId,R)))))}catch(D){if(!Ha(D))throw D;ge("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const M=D.targetId;if(!D.fromCache){const R=C.Ki.get(M),K=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);C.Ki=C.Ki.insert(M,K)}}}),function(y,_){return f.apply(this,arguments)})(r.localStore,u))}),WN.apply(this,arguments)}function EB(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,z.Z)(function*(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=yield AF(t.localStore,e);t.currentUser=e,(o=t).dc.forEach(d=>{d.forEach(f=>{f.reject(new fe(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cc(t,r.Wi)}var o}),KN.apply(this,arguments)}function bB(n,e){const t=De(n),r=t.hc.get(e);if(r&&r.ic)return St().add(r.key);{let o=St();const u=t.uc.get(e);if(!u)return o;for(const d of u){const f=t.oc.get(d);o=o.unionWith(f.view.Wu)}return o}}function nR(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gB.bind(null,e),e.rc.Ho=sB.bind(null,e.eventManager),e.rc.gc=oB.bind(null,e.eventManager),e}class MB{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,z.Z)(function*(){t.Tt=Xb(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return function(n,e,t,r){return new NU(n,e,t,r)}(this.persistence,new TF,e.initialUser,this.Tt)}Tc(e){return new CF(mD.qs,this.Tt)}Ic(e){return new kF}terminate(){var e=this;return(0,z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iR{initialize(e,t){var r=this;return(0,z.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>QF(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=EB.bind(null,r.syncEngine),yield function(n,e){return TN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iB}createDatastore(e){const t=Xb(e.databaseInfo.databaseId),r=new BU(e.databaseInfo);return new HU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=f=>QF(this.syncEngine,f,0),d=FF.C()?new FF:new LU,new WU(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,f,y,_){const C=new dB(r,o,u,d,f,y);return _&&(C.wc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,z.Z)(function*(t){const r=De(t);ge("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Xm(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class FB{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ar.UNAUTHENTICATED,this.clientId=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=DT(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,z.Z)(function*(f){ge("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ny(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function nL(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,z.Z)(function*(u){r.isEqual(u)||(yield AF(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),sR.apply(this,arguments)}function rL(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield aR(n);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>GF(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>GF(e.remoteStore,u)),n.onlineComponents=e}),oR.apply(this,arguments)}function aR(n){return uR.apply(this,arguments)}function uR(){return uR=(0,z.Z)(function*(n){return n.offlineComponents||(ge("FirestoreClient","Using default OfflineComponentProvider"),yield nL(n,new MB)),n.offlineComponents}),uR.apply(this,arguments)}function DD(n){return cR.apply(this,arguments)}function cR(){return cR=(0,z.Z)(function*(n){return n.onlineComponents||(ge("FirestoreClient","Using default OnlineComponentProvider"),yield rL(n,new iR)),n.onlineComponents}),cR.apply(this,arguments)}function oy(n){return hR.apply(this,arguments)}function hR(){return hR=(0,z.Z)(function*(n){const e=yield DD(n),t=e.eventManager;return t.onListen=hB.bind(null,e.syncEngine),t.onUnlisten=fB.bind(null,e.syncEngine),t}),hR.apply(this,arguments)}const uL=new Map;function lL(n){if(Te.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Pe()}(n);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class hL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(n,e,t,r){if(!0===e&&!0===r)throw new fe(Q.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new jk;switch(t.type){case"gapi":return new CT(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uL.get(e);t&&(ge("ComponentProvider","Removing Datastore"),uL.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class ii{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ii(this.firestore,e,this._query)}}class eu extends ii{constructor(e,t,r){super(e,t,Gl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Te(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function zB(n,e,...t){if(n=(0,nt.m9)(n),function(n,e,t){if(!t)throw new fe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof n0){const r=jt.fromString(e,...t);return lL(r),new eu(n,null,r)}{if(!(n instanceof lr||n instanceof eu))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return lL(r),new eu(n.firestore,null,r)}}class KB{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new aN(this,"async_queue_retry"),this.Hc=()=>{const t=wD();t&&ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=wD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=wD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new mr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,z.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Ha(t))throw t;ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,er("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const o=DN.createAndSchedule(this,e,t,r,u=>this.Xc(u));return this.Gc.push(o),o}Jc(){this.Qc&&Pe()}verifyOperationInProgress(){}ta(){var e=this;return(0,z.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function pR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Nn extends n0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new KB,this._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pL(this),this._firestoreClient.terminate()}}function YB(n,e){const t="object"==typeof n?n:(0,nn.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,nn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,nt.P0)("firestore");u&&function(n,e,t,r={}){var o;const u=(n=$t(n,n0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&lf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Ar.MOCK_USER;else{d=(0,nt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ar(y)}n._authCredentials=new c1(new wT(d,f))}}(o,...u)}return o}function pL(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new NT(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new FB(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vf(yr.fromBase64String(e))}catch(t){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vf(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ay{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}const ij=new RegExp("[~\\*/\\[\\]]");function ND(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new fe(Q.INVALID_ARGUMENT,f+n+y)}class vR{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sj extends vR{data(){return super.data()}}function RD(n,e){return"string"==typeof e?function(n,e,t){if(e.search(ij)>=0)throw ND(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ay(...e.split("."))._internalPath}catch(r){throw ND(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof ay?e._internalPath:e._delegate._internalPath}class Bf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ly extends vR{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new FD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class FD extends ly{data(e={}){return super.data(e)}}class dy{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Bf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new FD(this._firestore,this._userDataWriter,r.key,r,new Bf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new FD(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Bf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const f=new FD(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Bf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,_=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:cj(d.type),doc:f,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class id extends class{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pe()}}convertObject(e,t){const r={};return $o(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new gR(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=m1(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const t=cc(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jt.fromString(e);je(F1(r));const o=new ac(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return o.isEqual(t)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}!function(n,e=!0){cf=nn.SDK_VERSION,(0,nn._registerComponent)(new Nu.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Nn(new rb(t.getProvider("auth-internal")),new l1(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(f.options.projectId,y)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,nn.registerVersion)(u1,"3.9.0",n),(0,nn.registerVersion)(u1,"3.9.0","esm2017")}();var gj={includeMetadataChanges:!1};function CR(n,e){return void 0===e&&(e=gj),new Ai.y(function(t){var r=function(n,...e){var t,r,o;n=(0,nt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||pR(e[d])||(u=e[d],d++);const f={includeMetadataChanges:u.includeMetadataChanges};if(pR(e[d])){const D=e[d];e[d]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[d+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[d+2]=null===(o=D.complete)||void 0===o?void 0:o.bind(D)}let y,_,C;if(n instanceof lr)_=$t(n.firestore,Nn),C=Gl(n._key.path),y={next:D=>{e[d]&&e[d](function(n,e,t){const r=t.docs.get(e._key),o=new id(n);return new ly(n,o,e._key,r,new Bf(t.hasPendingWrites,t.fromCache),e.converter)}(_,n,D))},error:e[d+1],complete:e[d+2]};else{const D=$t(n,ii);_=$t(D.firestore,Nn),C=D._query;const M=new id(_);y={next:R=>{e[d]&&e[d](new dy(_,M,D,R))},error:e[d+1],complete:e[d+2]},function(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(D,M,R,j){const K=new TD(j),re=new RN(M,K,R);return D.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(n,e){return SN.apply(this,arguments)}(yield oy(D),re)})),()=>{K.bc(),D.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(n,e){return MN.apply(this,arguments)}(yield oy(D),re)}))}}(function(n){return n._firestoreClient||pL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(_),C,f,y)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wj(n,e){return void 0===e&&(e={}),function(n){return CR(n,{includeMetadataChanges:!0}).pipe((0,qt.U)(function(e){return e.docs}))}(n).pipe((0,qt.U)(function(t){return t.map(function(r){return function(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class VD{constructor(e){return e}}const UL="firestore",DR=new g.OlP("angularfire2.firestore-instances");function Tj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new VD(r)}}const Dj={provide:class{constructor(){return(0,tn.vb)(UL)}},deps:[[new g.FiY,DR]]},Aj={provide:VD,useFactory:function(n,e){const t=(0,tn.JM)(UL,n,e);return t&&new VD(t)},deps:[[new g.FiY,DR],Mu]};let Sj=(()=>{class n{constructor(){(0,ba.KN)("angularfire",tn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Aj,Dj]}),n})();function xj(n,...e){return{ngModule:Sj,providers:[{provide:DR,useFactory:Tj(n),multi:!0,deps:[g.R0b,g.zs3,tn.HU,b_,[new g.FiY,wI],[new g.FiY,Yp],...e]}]}}const AR=(0,tn.u3)(wj,!0),SR=(0,tn.u3)(zB,!0),Mj=(0,tn.u3)(YB,!0);let Nj=(()=>{class n{constructor(t){this.firestore=t}getMakeupProductsList(){const t=SR(this.firestore,"products");return AR(t,{idField:"id"})}getMakeupCategories(){const t=SR(this.firestore,"categories");return AR(t,{idField:"id"})}getMakeupBrands(){const t=SR(this.firestore,"brands");return AR(t,{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(VD))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Rj=k(555);function UD(n,e){return new Ai.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let u=0,d=0;for(let f=0;f<r;f++){const y=(0,wn.D)(n[f]);let _=!1;t.add(y.subscribe({next:C=>{_||(_=!0,d++),o[f]=C},error:C=>t.error(C),complete:()=>{u++,(u===r||!_)&&(d===r&&t.next(e?e.reduce((C,D,M)=>(C[D]=o[M],C),{}):o),t.complete())}}))}})}let BL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),jf=(()=>{class n extends BL{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const tu=new g.OlP("NgValueAccessor"),kj={provide:tu,useExisting:(0,g.Gpc)(()=>BD),multi:!0},Lj=new g.OlP("CompositionEventMode");let BD=(()=>{class n extends BL{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Z()?Z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Lj,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[g._Bn([kj]),g.qOj]}),n})();const wi=new g.OlP("NgValidators"),od=new g.OlP("NgAsyncValidators");function QL(n){return null!=n}function JL(n){const e=(0,g.QGY)(n)?(0,wn.D)(n):n;return(0,g.CqO)(e),e}function XL(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function eV(n,e){return e.map(t=>t(n))}function tV(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function xR(n){return null!=n?function(n){if(!n)return null;const e=n.filter(QL);return 0==e.length?null:function(t){return XL(eV(t,e))}}(tV(n)):null}function MR(n){return null!=n?function(n){if(!n)return null;const e=n.filter(QL);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,bs.k)(e))return UD(e,null);if((0,Rj.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return UD(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return UD(n=1===n.length&&(0,bs.k)(n[0])?n[0]:n,null).pipe((0,qt.U)(t=>e(...t)))}return UD(n,null)}(eV(t,e).map(JL)).pipe((0,qt.U)(XL))}}(tV(n)):null}function iV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function NR(n){return n?Array.isArray(n)?n:[n]:[]}function jD(n,e){return Array.isArray(n)?n.includes(e):n===e}function aV(n,e){const t=NR(e);return NR(n).forEach(o=>{jD(t,o)||t.push(o)}),t}function uV(n,e){return NR(e).filter(t=>!jD(n,t))}let cV=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=MR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n}),n})(),qi=(()=>{class n extends cV{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();class ud extends cV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let dV=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ud,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[g.qOj]}),n})();function c0(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(iV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(iV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();qD(e._rawValidators,o),qD(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hV(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const l0="VALID",KD="INVALID",hy="PENDING",d0="DISABLED";function LR(n){return(UR(n)?n.validators:n)||null}function gV(n){return Array.isArray(n)?xR(n):n||null}function VR(n,e){return(UR(e)?e.asyncValidators:n)||null}function mV(n){return Array.isArray(n)?MR(n):n||null}function UR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class BR{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=gV(this._rawValidators),this._composedAsyncValidatorFn=mV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===l0}get invalid(){return this.status===KD}get pending(){return this.status==hy}get disabled(){return this.status===d0}get enabled(){return this.status!==d0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=gV(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=mV(e)}addValidators(e){this.setValidators(aV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uV(e,this._rawAsyncValidators))}hasValidator(e){return jD(this._rawValidators,e)}hasAsyncValidator(e){return jD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=d0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=l0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===l0||this.status===hy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?d0:l0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hy,this._hasOwnPendingAsyncValidator=!0;const t=JL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof jR?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof Jj&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?d0:this.errors?KD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hy)?hy:this._anyControlsHaveStatus(KD)?KD:l0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){UR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ZD extends BR{constructor(e=null,t,r){super(LR(t),VR(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class jR extends BR{constructor(e,t,r){super(LR(t),VR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof ZD?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class Jj extends BR{constructor(e,t,r){super(LR(t),VR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ZD?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const t$={provide:ud,useExisting:(0,g.Gpc)(()=>GR)},vV=(()=>Promise.resolve(null))();let GR=(()=>{class n extends ud{constructor(t,r,o,u){super(),this.control=new ZD,this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===BD?t=u:function(n){return Object.getPrototypeOf(n.constructor)===jf}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){c0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;vV.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(qi,9),g.Y36(wi,10),g.Y36(od,10),g.Y36(tu,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([t$]),g.qOj,g.TTD]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),VV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[bV]]}),n})(),D$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[VV]}),n})();function A$(n,e){if(1&n){const t=g.EpF();g.ynx(0),g.TgZ(1,"div"),g.TgZ(2,"input",30),g.NdJ("click",function(){const u=g.CHM(t).$implicit;return g.oxw(2).filter(u.name_category,"category")}),g.qZA(),g.TgZ(3,"label",31),g.TgZ(4,"span"),g.O4$(),g.TgZ(5,"svg",32),g._UZ(6,"polyline",33),g.qZA(),g.qZA(),g.kcU(),g.TgZ(7,"span"),g._uU(8),g.qZA(),g.qZA(),g.qZA(),g._UZ(9,"br"),g.BQk()}if(2&n){const t=e.$implicit;g.xp6(2),g.Q6J("id",t.id),g.xp6(1),g.Q6J("for",t.id),g.xp6(5),g.Oqu(t.name_category)}}function S$(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"div"),g.TgZ(2,"input",30),g.NdJ("click",function(){const u=g.CHM(t).$implicit;return g.oxw(2).filter(u.name,"brand")}),g.qZA(),g.TgZ(3,"label",31),g.TgZ(4,"span"),g.O4$(),g.TgZ(5,"svg",32),g._UZ(6,"polyline",33),g.qZA(),g.qZA(),g.kcU(),g.TgZ(7,"span"),g._uU(8),g.qZA(),g.qZA(),g.qZA(),g._UZ(9,"br"),g.qZA()}if(2&n){const t=e.$implicit;g.xp6(2),g.Q6J("id",t.id),g.xp6(1),g.Q6J("for",t.id),g.xp6(5),g.Oqu(t.name)}}function x$(n,e){if(1&n&&(g.TgZ(0,"div",21),g.TgZ(1,"p",22),g.TgZ(2,"b"),g._uU(3,"Categor\xedas"),g.qZA(),g.qZA(),g._UZ(4,"br"),g.YNc(5,A$,10,3,"ng-container",23),g._UZ(6,"br"),g._UZ(7,"br"),g.TgZ(8,"p",22),g.TgZ(9,"b"),g._uU(10,"Colores"),g.qZA(),g.qZA(),g._UZ(11,"br"),g.TgZ(12,"div",24),g._UZ(13,"div",25),g._UZ(14,"div",26),g._UZ(15,"div",27),g._UZ(16,"div",28),g._UZ(17,"div",29),g.qZA(),g._UZ(18,"br"),g._UZ(19,"br"),g.TgZ(20,"p",22),g.TgZ(21,"b"),g._uU(22,"Marcas"),g.qZA(),g.qZA(),g._UZ(23,"br"),g.YNc(24,S$,10,3,"div",23),g._UZ(25,"br"),g._UZ(26,"br"),g.qZA()),2&n){const t=g.oxw();g.xp6(5),g.Q6J("ngForOf",t.makeupCategories),g.xp6(19),g.Q6J("ngForOf",t.makeupBrands)}}function M$(n,e){1&n&&(g.TgZ(0,"div",34),g.TgZ(1,"div",35),g._UZ(2,"br"),g._UZ(3,"br"),g._UZ(4,"br"),g._UZ(5,"br"),g._UZ(6,"img",36),g._UZ(7,"br"),g.TgZ(8,"p"),g._uU(9,"No hay datos por mostrar"),g.qZA(),g.qZA(),g.qZA())}const QR=function(n){return{background:n}};function N$(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div",37),g.TgZ(1,"div",38),g._UZ(2,"img",39),g.qZA(),g.TgZ(3,"div",40),g.TgZ(4,"p",41),g._uU(5),g.qZA(),g.TgZ(6,"p",42),g._uU(7),g.qZA(),g.TgZ(8,"p",43),g._uU(9),g.ALo(10,"currency"),g.qZA(),g.qZA(),g.TgZ(11,"div",44),g.TgZ(12,"button",45),g.NdJ("click",function(){const u=g.CHM(t).$implicit;return g.oxw().showDetail(u.id)}),g.TgZ(13,"span"),g._uU(14,"Ver detalle"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&n){const t=e.$implicit;g.xp6(1),g.Q6J("ngStyle",g.VKq(11,QR,t.color)),g.xp6(1),g.Q6J("src",t.photo_url,g.LSH),g.xp6(3),g.Oqu(t.name),g.xp6(2),g.AsE("",t.brand," - ",t.category,""),g.xp6(2),g.Oqu(g.gM2(10,6,t.price,"\u20a1","symbol","4.2-2"))}}function R$(n,e){if(1&n&&(g.ynx(0),g._UZ(1,"div",56),g.BQk()),2&n){const t=e.$implicit;g.xp6(1),g.Q6J("ngStyle",g.VKq(1,QR,t))}}function P$(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div",46),g.TgZ(1,"div",47),g.NdJ("click",function(){return g.CHM(t),g.oxw().openDetails()}),g._uU(2,"X"),g.qZA(),g.TgZ(3,"div",48),g.TgZ(4,"div",49),g._UZ(5,"img",39),g.qZA(),g.TgZ(6,"div",50),g.TgZ(7,"p",51),g._uU(8),g.qZA(),g.TgZ(9,"p",52),g._uU(10),g.qZA(),g._UZ(11,"br"),g._UZ(12,"br"),g.TgZ(13,"section"),g.TgZ(14,"p",53),g._uU(15),g.qZA(),g.qZA(),g._UZ(16,"br"),g._UZ(17,"br"),g.TgZ(18,"p",54),g._uU(19,"Colores del producto"),g.qZA(),g.TgZ(20,"div",24),g.YNc(21,R$,2,3,"ng-container",23),g.qZA(),g._UZ(22,"br"),g._UZ(23,"br"),g.TgZ(24,"div",11),g.TgZ(25,"div"),g.TgZ(26,"p",54),g._uU(27,"Precio"),g.qZA(),g.TgZ(28,"p",55),g._uU(29),g.ALo(30,"currency"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&n){const t=g.oxw();g.xp6(3),g.Q6J("ngStyle",g.VKq(13,QR,t.productDetail.color)),g.xp6(2),g.Q6J("src",t.productDetail.photo_url,g.LSH),g.xp6(3),g.hij(" ",t.productDetail.name," "),g.xp6(2),g.AsE(" ",t.productDetail.brand," - ",t.productDetail.category," "),g.xp6(5),g.Oqu(t.productDetail.description),g.xp6(6),g.Q6J("ngForOf",t.productDetail.colors),g.xp6(8),g.Oqu(g.gM2(30,8,t.productDetail.price,"\u20a1","symbol","4.2-2"))}}const O$=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class n{constructor(){}ngOnInit(){}goSocialMedia(t){"facebook"==t&&window.open("https://www.facebook.com/profile.php?id=100091290512115&mibextid=ZbWKwL","blank"),"instagram"==t&&window.open("http://instagram.com/","blank"),"whatsapp"==t&&window.open("https://api.whatsapp.com/send?phone=50688967637","blank")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-home"]],decls:48,vars:0,consts:[[1,"container"],[1,"navbar"],[1,"logo"],["src","../assets/logo.png","alt","","srcset",""],[1,"menu"],[1,"content"],[1,"info"],[1,"header-info"],[1,"title"],[1,"subtitle"],[1,"body"],[1,"container-button"],["routerLink","/catalogue","routerLinkActive","active","ariaCurrentWhenActive","page",1,"button"],[1,"button__line"],[1,"button__text"],[1,"button__drow1"],[1,"button__drow2"],[1,"buttons"],[1,"facebook",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"],[1,"instagram",3,"click"],["d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"],[1,"whatsapp",3,"click"],["d","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"],[1,"picture"],["src","../assets/images/Makeup.png","alt","","srcset",""]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"div",4),g.TgZ(5,"p"),g._uU(6,"Productos"),g.qZA(),g.TgZ(7,"p"),g._uU(8,"Cont\xe1ctenos"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",5),g.TgZ(10,"div",6),g.TgZ(11,"div",7),g.TgZ(12,"h1",8),g._uU(13,"Cosm\xe9ticos que"),g.qZA(),g.TgZ(14,"h3",9),g._uU(15,"todo mundo ama!"),g.qZA(),g._UZ(16,"br"),g.TgZ(17,"p",10),g._uU(18," Tenemos una gran colecci\xf3n de cosm\xe9ticos de muy alta calidad Tenemos una gran colecci\xf3n de cosm\xe9ticos de muy alta calidad Tenemos una gran colecci\xf3n de cosm\xe9ticos de muy alta calidad Tenemos una gran colecci\xf3n de cosm\xe9ticos de muy alta calidad "),g.qZA(),g._UZ(19,"br"),g._UZ(20,"br"),g._UZ(21,"br"),g.TgZ(22,"div",11),g.TgZ(23,"a",12),g._UZ(24,"div",13),g._UZ(25,"div",13),g.TgZ(26,"span",14),g._uU(27,"Ir al Catalogo"),g.qZA(),g._UZ(28,"div",15),g._UZ(29,"div",16),g.qZA(),g.qZA(),g._UZ(30,"br"),g._UZ(31,"br"),g.qZA(),g.TgZ(32,"div",17),g.TgZ(33,"p"),g._uU(34,"Encuentrame en mis redes sociales"),g.qZA(),g._UZ(35,"br"),g._UZ(36,"br"),g.TgZ(37,"div",18),g.NdJ("click",function(){return r.goSocialMedia("facebook")}),g.O4$(),g.TgZ(38,"svg",19),g._UZ(39,"path",20),g.qZA(),g.qZA(),g.kcU(),g.TgZ(40,"div",21),g.NdJ("click",function(){return r.goSocialMedia("instagram")}),g.O4$(),g.TgZ(41,"svg",19),g._UZ(42,"path",22),g.qZA(),g.qZA(),g.kcU(),g.TgZ(43,"div",23),g.NdJ("click",function(){return r.goSocialMedia("whatsapp")}),g.O4$(),g.TgZ(44,"svg",19),g._UZ(45,"path",24),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(46,"div",25),g._UZ(47,"img",26),g.qZA(),g.qZA(),g.qZA())},directives:[eh,y_],styles:[".content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;position:relative;top:90px;align-items:flex-end}.title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{color:#652882}.body[_ngcontent-%COMP%]{color:#555}.picture[_ngcontent-%COMP%]{z-index:0;height:100%;right:-21%;position:absolute;top:-22px;display:flex;justify-content:flex-end;width:100%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;object-fit:contain}.cards[_ngcontent-%COMP%]{color:#652882;height:200px;padding:10px 0;overflow-x:scroll;overflow-y:hidden;white-space:nowrap}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:250px;height:100%;cursor:pointer;color:#555;margin-right:70px;vertical-align:top;display:inline-block;height:calc(100% - 20px)}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{z-index:999;height:100%;position:relative}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{top:-50%;width:100%;padding:26px;display:flex;position:relative;border-radius:10px;background:#f8f3f7;justify-content:flex-end}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;font-weight:800}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{font-size:12px;font-weight:400}@media screen and (min-width: 800px){.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:50vw;padding:40px;z-index:9999;top:0;position:absolute;height:calc(100% - 80px);display:flex;flex-direction:column;justify-content:space-between}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{margin-top:50px}}@media screen and (max-width: 800px){.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{top:0;width:100%;z-index:99;padding:26px;display:flex;position:absolute;flex-direction:column;justify-content:flex-end;height:calc(100% - 90px);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:rgba(244,244,244,.8);box-shadow:0 4px 30px #0000001a}}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:26px 26px 26px 30px;position:relative;margin-top:100px;border:2px solid var(--primary);border-radius:20px}.buttons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{top:-16px;left:20px;padding:0 12px;position:absolute;background:#f8f3f7;color:var(--primary)}.buttons[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]   .whatsapp[_ngcontent-%COMP%]{width:46px;height:46px;padding:6px;display:flex;cursor:pointer;font-size:24px;line-height:46px;position:relative;margin-right:30px;border-radius:32px;align-items:center;justify-content:center;background-color:#eaeaea;background-image:linear-gradient(to bottom,#f6f6f6,#eaeaea);box-shadow:0 1px 1px #00000040,0 2px 3px #0000001a}.buttons[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]   .whatsapp[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:80%;fill:var(--primary)}.buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transition:.8s;background:var(--primary)}.buttons[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{height:80%;fill:#fff}.whatsapp[_ngcontent-%COMP%]:hover{background:#0dd4fc}.facebook[_ngcontent-%COMP%]:hover{background-color:#0d3da3}.instagram[_ngcontent-%COMP%]:hover{background-color:#d0004c}.twitch[_ngcontent-%COMP%]:hover:before{background-color:#f8ebb6}"]}),n})()},{path:"catalogue",component:(()=>{class n{constructor(t,r){this.local=t,this.products_service=r,this.update=new g.vpe,this.makeupBrands=[{id:"0",name:"Todos"}],this.makeupCategories=[{id:"0",name_category:"Todos"}],this.products=[],this.productsFiltered=[],this.filterText="",this.isDetailOpen=!1,this.filterList=[],this.searchText=""}ngOnInit(){this.getAllMakeups()}getAllMakeups(){this.products_service.getMakeupProductsList().subscribe(t=>{console.log(t),this.products=t,this.productsFiltered=this.products}),this.products_service.getMakeupCategories().subscribe(t=>{console.log(t),this.makeupCategories=t}),this.products_service.getMakeupBrands().subscribe(t=>{console.log(t),this.makeupBrands=t}),this.productDetail=this.products[0]}filter(t,r){if(console.log(this.filterList.includes(t)),this.filterList.includes(t)){const o=this.filterList.indexOf(t);-1!==o&&this.filterList.splice(o,1)}else this.filterList.push(t);this.productsFiltered=0!=this.filterList.length?this.products.filter(o=>this.filterList.includes(o.category)||this.filterList.includes(o.brand)):this.products}filterByName(){if(console.log(this.searchText),""==this.searchText)return this.cleanData(),void this.getAllMakeups();this.productsFiltered=this.productsFiltered.filter(t=>t.name.toLowerCase().includes(this.searchText.toLowerCase()))}showDetail(t){console.log(t),this.productDetail=this.products.filter(r=>r.id==t)[0],this.openDetails(),console.log(this.productDetail)}openDetails(){this.isDetailOpen=!this.isDetailOpen}saveToCart(t){this.local.set(pl.Cart,t)}openFilter(){document.getElementById("filter")}cleanData(){this.makeupBrands=[],this.makeupCategories=[],this.products=[],this.productsFiltered=[],this.filterText="",this.filterList=[],this.searchText=""}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(fS),g.Y36(Nj))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-catalogue"]],outputs:{update:"ngModelChange"},decls:30,vars:5,consts:[[1,"container"],[1,"navbar"],[1,"logo"],["src","../assets/logo.png","alt","","srcset",""],[1,"menu"],[1,"menu-icon"],["src","../../../assets/icons/menu.png","alt","","srcset",""],[1,"container-products"],["id","filter"],["class","container-filter",4,"ngIf"],[1,"scroll"],[1,"row-reverse"],["href","#",1,"searchButton",3,"click"],[1,"material-icons"],[1,"searchBox"],["type","text","placeholder","Buscar..",1,"searchInput",3,"ngModel","ngModelChange"],["href","#",1,"searchButton"],[1,"grid"],["class","row-center padding",4,"ngIf"],["class","card",4,"ngFor","ngForOf"],["class","modal-detail",4,"ngIf"],[1,"container-filter"],[1,"title",2,"font-size","12px","border-bottom","1px solid gray","padding-bottom","6px"],[4,"ngFor","ngForOf"],[1,"row"],[1,"dot","color-a"],[1,"dot","color-b"],[1,"dot","color-c"],[1,"dot","color-d"],[1,"dot","color-e"],["type","checkbox",1,"inp-cbx",2,"display","none",3,"id","click"],[1,"cbx",3,"for"],["width","12px","height","9px","viewbox","0 0 12 9"],["points","1 5 4 8 11 1"],[1,"row-center","padding"],[1,"column-center"],["src","https://cdn-icons-png.flaticon.com/128/4826/4826311.png","alt",""],[1,"card"],[1,"card-image",3,"ngStyle"],["alt","",3,"src"],[1,"card-info"],[1,"subtitle","name"],[1,"subtitle","category"],[1,"price"],[1,"card-footer"],[3,"click"],[1,"modal-detail"],[1,"close",3,"click"],[1,"container-detail",3,"ngStyle"],[1,"image"],[1,"detail"],[1,"title",2,"text-align","end","font-size","26px"],[1,"title",2,"text-align","end","font-size","12px","color","#929292"],[1,"body",2,"font-size","16px","color","#929292"],[1,"body",2,"font-size","11px","color","#929292","margin-bottom","6px"],[1,"bold",2,"font-size","32px","color","var(--primary)","margin-bottom","6px","font-weight","900"],[1,"dot",3,"ngStyle"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"div",4),g.TgZ(5,"p"),g._uU(6,"Inicio"),g.qZA(),g.TgZ(7,"p"),g._uU(8,"Cont\xe1ctenos"),g.qZA(),g.qZA(),g.TgZ(9,"div",5),g._UZ(10,"img",6),g.qZA(),g.qZA(),g.TgZ(11,"div",7),g.TgZ(12,"aside",8),g.YNc(13,x$,27,2,"div",9),g.qZA(),g.TgZ(14,"section",10),g.TgZ(15,"div",11),g.TgZ(16,"div"),g.TgZ(17,"button",12),g.NdJ("click",function(){return r.openFilter()}),g.TgZ(18,"i",13),g._uU(19," filter_list "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"div",14),g.TgZ(21,"input",15),g.NdJ("ngModelChange",function(u){return r.searchText=u})("ngModelChange",function(){return r.filterByName()}),g.qZA(),g.TgZ(22,"button",16),g.TgZ(23,"i",13),g._uU(24," search "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(25,"br"),g.TgZ(26,"div",17),g.YNc(27,M$,10,0,"div",18),g.YNc(28,N$,15,13,"div",19),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(29,P$,31,15,"div",20)),2&t&&(g.xp6(13),g.Q6J("ngIf",r.makeupCategories&&r.makeupBrands),g.xp6(8),g.Q6J("ngModel",r.searchText),g.xp6(6),g.Q6J("ngIf",0==r.productsFiltered.length),g.xp6(1),g.Q6J("ngForOf",r.productsFiltered),g.xp6(1),g.Q6J("ngIf",r.isDetailOpen))},directives:[ms,BD,dV,GR,_o,Xo],pipes:[Ey],styles:['@charset "UTF-8";.container-products[_ngcontent-%COMP%]{top:120px;display:flex;position:relative;flex-direction:row;background:#f4f4f4;height:calc(100% - 120px)}.container-products[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:100%;padding:40px}.container-products[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{padding:40px;min-width:380px}.container-products[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   .container-filter[_ngcontent-%COMP%]{width:100%;height:100%;padding:26px;overflow-x:scroll;border-radius:10px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:rgba(244,244,244,.8);box-shadow:0 4px 30px rgba(var(--secondary-rgb),.2)}.dot[_ngcontent-%COMP%]{width:32px;height:32px;cursor:pointer;border-radius:50%;margin-right:10px}.dot[_ngcontent-%COMP%]:hover{width:36px;height:36px;transition:.5s ease-out}.color-a[_ngcontent-%COMP%]{background:#fbd3d3}.color-b[_ngcontent-%COMP%]{background:#ffc5c5}.color-c[_ngcontent-%COMP%]{background:#ecacac}.color-d[_ngcontent-%COMP%]{background:#f1caa9}.color-e[_ngcontent-%COMP%]{background:#c53d3d}@media screen and (max-width: 600px){.navbar[_ngcontent-%COMP%]{height:80px}.navbar[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:none;visibility:hidden}.container-detail[_ngcontent-%COMP%]{width:100%!important}.navbar[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{display:block;height:30px;width:30px;margin-right:26px}.navbar[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.container-products[_ngcontent-%COMP%]{top:70px;display:flex;position:relative;flex-direction:row;background:#f4f4f4;height:calc(100% - 120px)}.container-products[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:100%;padding:26px}.container-products[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{display:none;visibility:hidden}.container-products[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))!important}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:180px;padding:16px;display:flex;overflow:hidden;border-radius:10px;background:#ffffff;flex-direction:column;justify-content:space-between;box-shadow:4px 6px 20px -7px rgba(var(--secondary-rgb),.2)}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:160px;display:flex;overflow:hidden;align-items:center;border-radius:10px;justify-content:center}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{padding:20px 0}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:var(--primary);font-weight:800!important}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:11px;color:#bebebe;font-weight:800!important}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;margin-top:4px}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;border-radius:4px;background-color:var(--primary);border:none;color:#fff;text-align:center;font-size:12px;padding:10px 16px;width:100%;transition:all .5s;cursor:pointer}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;position:relative;transition:.5s;font-size:14px}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"\\bb";position:absolute;opacity:0;top:0;right:-15px;transition:.5s}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{padding-right:15px}.container-products[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:after{opacity:1;right:0}}']}),n})()}];let k$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[cS.forRoot(O$)],cS]}),n})(),F$=(()=>{class n{constructor(){this.title="catalogue"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},directives:[fw],styles:[""]}),n})();class UV{}const Ic="*";function BV(n,e=null){return{type:2,steps:n,options:e}}function jV(n){return{type:6,styles:n,offset:null}}function $V(n){Promise.resolve(null).then(n)}class fy{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$V(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?$V(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function HV(){return"undefined"!=typeof window&&void 0!==window.document}function XR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cd(n){switch(n.length){case 0:return new fy;case 1:return n[0];default:return new GV(n)}}function qV(n,e,t,r,o={},u={}){const d=[],f=[];let y=-1,_=null;if(r.forEach(C=>{const D=C.offset,M=D==y,R=M&&_||{};Object.keys(C).forEach(j=>{let K=j,re=C[j];if("offset"!==j)switch(K=e.normalizePropertyName(K,d),re){case"!":re=o[j];break;case Ic:re=u[j];break;default:re=e.normalizeStyleValue(j,K,re,d)}R[K]=re}),M||f.push(R),_=R,y=D}),d.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${d.join(C)}`)}return f}function eP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tP(t,"destroy",n)))}}function tP(n,e,t){const r=t.totalTime,u=nP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function nP(n,e,t,r,o="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!d}}function Ls(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function zV(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let rP=(n,e)=>!1,iP=(n,e)=>!1,WV=(n,e,t)=>[];const KV=XR();(KV||"undefined"!=typeof Element)&&(rP=HV()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),iP=(()=>{if(KV||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):iP}})(),WV=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let u=0;u<o.length;u++)r.push(o[u])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let $f=null,ZV=!1;function sP(n){$f||($f=("undefined"!=typeof document?document.body:null)||{},ZV=!!$f.style&&"WebkitAppearance"in $f.style);let e=!0;return $f.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $f.style,!e&&ZV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in $f.style)),e}const oP=iP,aP=rP,uP=WV;function YV(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let QV=(()=>{class n{validateStyleProperty(t){return sP(t)}matchesElement(t,r){return oP(t,r)}containsElement(t,r){return aP(t,r)}query(t,r,o){return uP(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,d,f=[],y){return new fy(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),cP=(()=>{class n{}return n.NOOP=new QV,n})();const lP="ng-enter",YD="ng-leave",QD="ng-trigger",JD=".ng-trigger",XV="ng-animating",dP=".ng-animating";function Gf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hP(parseFloat(e[1]),e[2])}function hP(n,e){return"s"===e?1e3*n:n}function XD(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,u=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=hP(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=hP(parseFloat(y),f[4]));const _=f[5];_&&(d=_)}else o=n;if(!t){let f=!1,y=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(y,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:u,easing:d}}(n,e,t)}function py(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ld(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else py(n,t);return t}function t2(n,e,t){return t?e+":"+t+";":""}function n2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=t2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=t2(0,q$(t),n.style[t]));n.setAttribute("style",e)}function nu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=pP(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),XR()&&n2(n))}function Hf(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=pP(t);n.style[r]=""}),XR()&&n2(n))}function f0(n){return Array.isArray(n)?1==n.length?n[0]:BV(n):n}const fP=new RegExp("{{\\s*(.+?)\\s*}}","g");function r2(n){let e=[];if("string"==typeof n){let t;for(;t=fP.exec(n);)e.push(t[1]);fP.lastIndex=0}return e}function eA(n,e,t){const r=n.toString(),o=r.replace(fP,(u,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return o==r?n:o}function tA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const H$=/-+([a-z0-9])/g;function pP(n){return n.replace(H$,(...e)=>e[1].toUpperCase())}function q$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i2(n,e){return 0===n||0===e}function s2(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],d=[];if(r.forEach(f=>{u.hasOwnProperty(f)||d.push(f),u[f]=t[f]}),d.length)for(var o=1;o<e.length;o++){let f=e[o];d.forEach(function(y){f[y]=gP(n,y)})}}return e}function Vs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function gP(n,e){return window.getComputedStyle(n)[e]}function z$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const y=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],u=r[2],d=r[3];e.push(o2(o,d));"<"==u[0]&&!("*"==o&&"*"==d)&&e.push(o2(d,o))}(r,t,e)):t.push(n),t}const rA=new Set(["true","1"]),iA=new Set(["false","0"]);function o2(n,e){const t=rA.has(n)||iA.has(n),r=rA.has(e)||iA.has(e);return(o,u)=>{let d="*"==n||n==o,f="*"==e||e==u;return!d&&t&&"boolean"==typeof o&&(d=o?rA.has(n):iA.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?rA.has(e):iA.has(e)),d&&f}}const Z$=new RegExp("s*:selfs*,?","g");function mP(n,e,t){return new Y$(n).build(e,t)}class Y${constructor(e){this._driver=e}build(e,t){const r=new X$(t);return this._resetContextStyleTimingState(r),Vs(this,f0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,_=y.name;_.toString().split(/\s*,\s*/).forEach(C=>{y.name=C,u.push(this.visitState(y,t))}),y.name=_}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,o+=y.depCount,d.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=o||{};if(r.styles.forEach(f=>{if(sA(f)){const y=f;Object.keys(y).forEach(_=>{r2(y[_]).forEach(C=>{d.hasOwnProperty(C)||u.add(C)})})}}),u.size){const f=tA(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vs(this,f0(e.animation),t);return{type:1,matchers:z$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:qf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vs(this,r,t)),options:qf(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(d=>{t.currentTime=r;const f=Vs(this,d,t);return o=Math.max(o,t.currentTime),f});return t.currentTime=o,{type:3,steps:u,options:qf(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return yP(XD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=yP(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||XD(r,e),yP(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:jV({});if(5==u.type)o=this.visitKeyframes(u,t);else{let d=e.styles,f=!1;if(!d){f=!0;const _={};r.easing&&(_.easing=r.easing),d=jV(_)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,o=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Ic?r.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(e.styles);let o=!1,u=null;return r.forEach(d=>{if(sA(d)){const f=d,y=f.easing;if(y&&(u=y,delete f.easing),!o)for(let _ in f)if(f[_].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],_=y[f];let C=!0;_&&(u!=o&&u>=_.startTime&&o<=_.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${_.startTime}ms" and "${_.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),C=!1),u=_.startTime),C&&(y[f]={startTime:u,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=r2(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const d=[];let f=!1,y=!1,_=0;const C=e.steps.map(Ae=>{const qe=this._makeStyleAst(Ae,t);let Le=null!=qe.offset?qe.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(sA(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(sA(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(qe.styles),Et=0;return null!=Le&&(u++,Et=qe.offset=Le),y=y||Et<0||Et>1,f=f||Et<_,_=Et,d.push(Et),qe});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const D=e.steps.length;let M=0;u>0&&u<D?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(M=1/(D-1));const R=D-1,j=t.currentTime,K=t.currentAnimateTimings,re=K.duration;return C.forEach((Ae,qe)=>{const Le=M>0?qe==R?1:M*qe:d[qe],Et=Le*re;t.currentTime=j+K.delay+Et,K.duration=Et,this._validateStyleAst(Ae,t),Ae.offset=Le,r.styles.push(Ae)}),r}visitReference(e,t){return{type:8,animation:Vs(this,f0(e.animation),t),options:qf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Z$,"")),n=n.replace(/@\*/g,JD).replace(/@\w+/g,t=>JD+"-"+t.substr(1)).replace(/:animating/g,dP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Ls(t.collectedStyles,t.currentQuerySelector,{});const f=Vs(this,f0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:qf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:XD(e.timings,t.errors,!0);return{type:12,animation:Vs(this,f0(e.animation),t),timings:r,options:null}}}class X${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sA(n){return!Array.isArray(n)&&"object"==typeof n}function qf(n){return n?(n=py(n)).params&&(n.params=function(n){return n?py(n):null}(n.params)):n={},n}function yP(n,e,t){return{duration:n,delay:e,easing:t}}function _P(n,e,t,r,o,u,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:d,subTimeline:f}}class oA{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const i3=new RegExp(":enter","g"),o3=new RegExp(":leave","g");function vP(n,e,t,r,o,u={},d={},f,y,_=[]){return(new a3).buildKeyframes(n,e,t,r,o,u,d,f,y,_)}class a3{buildKeyframes(e,t,r,o,u,d,f,y,_,C=[]){_=_||new oA;const D=new EP(e,t,_,o,u,C,[]);D.options=y,D.currentTimeline.setStyles([d],null,D.errors,y),Vs(this,r,D);const M=D.timelines.filter(R=>R.containsAnimation());if(M.length&&Object.keys(f).length){const R=M[M.length-1];R.allowOnlyTimelineStyles()||R.setStyles([f],null,D.errors,y)}return M.length?M.map(R=>R.buildKeyframes()):[_P(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,o,o.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?Gf(r.duration):null,f=null!=r.delay?Gf(r.delay):null;return 0!==d&&e.forEach(y=>{const _=t.appendInstructionToTimeline(y,d,f);u=Math.max(u,_.duration+_.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Vs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=aA);const d=Gf(u.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Vs(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Gf(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Vs(this,d,f),o=Math.max(o,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return XD(t.params?eA(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?Gf(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aA);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((_,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,_);u&&D.delayNextStep(u),_===t.element&&(y=D.currentTimeline),Vs(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const C=t.currentTimeline;y&&C.delayNextStep(y);const D=C.currentTime;Vs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-D+(o.startTime-r.currentTimeline.startTime)}}const aA={};class EP{constructor(e,t,r,o,u,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new uA(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Gf(r.duration)),null!=r.delay&&(o.delay=Gf(r.delay));const u=r.params;if(u){let d=o.params;d||(d=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=eA(u[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new EP(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=aA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new u3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,d){let f=[];if(o&&f.push(this.element),e.length>0){e=(e=e.replace(i3,"."+this._enterClassName)).replace(o3,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),f.push(..._)}return!u&&0==f.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class uA{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new uA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ic,this._currentKeyframe[t]=Ic}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},d=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Ic})):ld(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const y=eA(d[f],u,r);this._pendingStyles[f]=y,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ic),this._updateStyle(f,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,y)=>{const _=ld(f,!0);Object.keys(_).forEach(C=>{const D=_[C];"!"==D?e.add(C):D==Ic&&t.add(C)}),r||(_.offset=y/this.duration),o.push(_)});const u=e.size?tA(e.values()):[],d=t.size?tA(t.values()):[];if(r){const f=o[0],y=py(f);f.offset=0,y.offset=1,o=[f,y]}return _P(this.element,o,u,d,this.duration,this.startTime,this.easing,!1)}}class u3 extends uA{constructor(e,t,r,o,u,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,f=t/d,y=ld(e[0],!1);y.offset=0,u.push(y);const _=ld(e[0],!1);_.offset=c2(f),u.push(_);const C=e.length-1;for(let D=1;D<=C;D++){let M=ld(e[D],!1);M.offset=c2((t+M.offset*r)/d),u.push(M)}r=d,t=0,o="",e=u}return _P(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function c2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bP{}class l3 extends bP{normalizePropertyName(e,t){return pP(e)}normalizeStyleValue(e,t,r,o){let u="";const d=r.toString().trim();if(d3[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return d+u}}const d3=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function l2(n,e,t,r,o,u,d,f,y,_,C,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:_,postStyleProps:C,totalTime:D,errors:M}}const wP={};class d2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],d=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):d}build(e,t,r,o,u,d,f,y,_,C){const D=[],M=this.ast.options&&this.ast.options.params||wP,j=this.buildStyles(r,f&&f.params||wP,D),K=y&&y.params||wP,re=this.buildStyles(o,K,D),Ae=new Set,qe=new Map,Le=new Map,Et="void"===o,Nt={params:Object.assign(Object.assign({},M),K)},bt=C?[]:vP(e,t,this.ast.animation,u,d,j,re,Nt,_,D);let Gt=0;if(bt.forEach(Us=>{Gt=Math.max(Us.duration+Us.delay,Gt)}),D.length)return l2(t,this._triggerName,r,o,Et,j,re,[],[],qe,Le,Gt,D);bt.forEach(Us=>{const Zo=Us.element,j2=Ls(qe,Zo,{});Us.preStyleProps.forEach(zf=>j2[zf]=!0);const g0=Ls(Le,Zo,{});Us.postStyleProps.forEach(zf=>g0[zf]=!0),Zo!==t&&Ae.add(Zo)});const br=tA(Ae.values());return l2(t,this._triggerName,r,o,Et,j,re,bt,br,qe,Le,Gt)}}class p3{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=py(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(o[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(f=>{let y=d[f];y.length>1&&(y=eA(y,o,t));const _=this.normalizer.normalizePropertyName(f,t);y=this.normalizer.normalizeStyleValue(f,_,y,t),r[_]=y})}}),r}}class m3{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new p3(o.style,o.options&&o.options.params||{},r)}),h2(this.states,"true","1"),h2(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new d2(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new d2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(d=>d.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function h2(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const _3=new oA;class v3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=mP(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,u=qV(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let d;const f=new Map;if(u?(d=vP(this._driver,t,u,lP,YD,{},{},r,_3,o),d.forEach(C=>{const D=Ls(f,C.element,{});C.postStyleProps.forEach(M=>D[M]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),d=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);f.forEach((C,D)=>{Object.keys(C).forEach(M=>{C[M]=this._driver.computeStyle(D,M,Ic)})});const _=cd(d.map(C=>{const D=f.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const u=nP(t,"","","");return eP(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const f2="ng-animate-queued",p2="ng-animate-disabled",g2=".ng-animate-disabled",C3=[],m2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class CP{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const u=py(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const p0="void",IP=new CP(p0);class T3{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const u=Ls(this._elementListeners,e,[]),d={name:t,phase:r,callback:o};u.push(d);const f=Ls(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(fo(e,QD),fo(e,QD+"-"+t),f[t]=IP),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),d=new TP(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(fo(e,QD),fo(e,QD+"-"+t),this._engine.statesByElement.set(e,f={}));let y=f[t];const _=new CP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&_.absorbOptions(y.options),f[t]=_,y||(y=IP),_.value!==p0&&y.value===_.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,_.params)){const K=[],re=u.matchStyles(y.value,y.params,K),Ae=u.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Hf(e,re),nu(e,Ae)})}return}const M=Ls(this._engine.playersByElement,e,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let R=u.matchTransition(y.value,_.value,e,_.params),j=!1;if(!R){if(!o)return;R=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:y,toState:_,player:d,isFallbackTransition:j}),j||(fo(e,f2),d.onStart(()=>{gy(e,f2)})),d.onDone(()=>{let K=this.players.indexOf(d);K>=0&&this.players.splice(K,1);const re=this._engine.playersByElement.get(e);if(re){let Ae=re.indexOf(d);Ae>=0&&re.splice(Ae,1)}}),this.players.push(d),M.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,JD,!0);r.forEach(o=>{if(o[ho])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(d=>d.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e);if(u){const d=[];if(Object.keys(u).forEach(f=>{if(this._triggers[f]){const y=this.trigger(e,f,p0,o);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&cd(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const d=u.name;if(o.has(d))return;o.add(d);const y=this._triggers[d].fallbackTransition,_=r[d]||IP,C=new CP(p0),D=new TP(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:_,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ho];(!u||u===m2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=nP(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,eP(r.player,f.phase,y,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,d=o.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class D3{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new T3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const d=r[o[u]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,o){if(cA(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!cA(t))return;const u=t[ho];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,p2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gy(e,p2))}removeNode(e,t,r,o){if(cA(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[ho]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,u){return cA(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,JD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return cd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ho];if(t&&t.setForRemoval){if(e[ho]=m2,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,g2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,g2,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?cd(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new oA,o=[],u=new Map,d=[],f=new Map,y=new Map,_=new Map,C=new Set;this.disabledNodes.forEach(Be=>{C.add(Be);const st=this.driver.query(Be,".ng-animate-queued",!0);for(let It=0;It<st.length;It++)C.add(st[It])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),R=v2(M,this.collectedEnterElements),j=new Map;let K=0;R.forEach((Be,st)=>{const It=lP+K++;j.set(st,It),Be.forEach(zt=>fo(zt,It))});const re=[],Ae=new Set,qe=new Set;for(let Be=0;Be<this.collectedLeaveElements.length;Be++){const st=this.collectedLeaveElements[Be],It=st[ho];It&&It.setForRemoval&&(re.push(st),Ae.add(st),It.hasAnimation?this.driver.query(st,".ng-star-inserted",!0).forEach(zt=>Ae.add(zt)):qe.add(st))}const Le=new Map,Et=v2(M,Array.from(Ae));Et.forEach((Be,st)=>{const It=YD+K++;Le.set(st,It),Be.forEach(zt=>fo(zt,It))}),e.push(()=>{R.forEach((Be,st)=>{const It=j.get(st);Be.forEach(zt=>gy(zt,It))}),Et.forEach((Be,st)=>{const It=Le.get(st);Be.forEach(zt=>gy(zt,It))}),re.forEach(Be=>{this.processLeaveNode(Be)})});const Nt=[],bt=[];for(let Be=this._namespaceList.length-1;Be>=0;Be--)this._namespaceList[Be].drainQueuedTransitions(t).forEach(It=>{const zt=It.player,$r=It.element;if(Nt.push(zt),this.collectedEnterElements.length){const iu=$r[ho];if(iu&&iu.setForMove)return void zt.destroy()}const ru=!D||!this.driver.containsElement(D,$r),Bs=Le.get($r),dd=j.get($r),nr=this._buildInstruction(It,r,dd,Bs,ru);if(nr.errors&&nr.errors.length)bt.push(nr);else{if(ru)return zt.onStart(()=>Hf($r,nr.fromStyles)),zt.onDestroy(()=>nu($r,nr.toStyles)),void o.push(zt);if(It.isFallbackTransition)return zt.onStart(()=>Hf($r,nr.fromStyles)),zt.onDestroy(()=>nu($r,nr.toStyles)),void o.push(zt);nr.timelines.forEach(iu=>iu.stretchStartingKeyframe=!0),r.append($r,nr.timelines),d.push({instruction:nr,player:zt,element:$r}),nr.queriedElements.forEach(iu=>Ls(f,iu,[]).push(zt)),nr.preStyleProps.forEach((iu,m0)=>{const pA=Object.keys(iu);if(pA.length){let Wf=y.get(m0);Wf||y.set(m0,Wf=new Set),pA.forEach(MP=>Wf.add(MP))}}),nr.postStyleProps.forEach((iu,m0)=>{const pA=Object.keys(iu);let Wf=_.get(m0);Wf||_.set(m0,Wf=new Set),pA.forEach(MP=>Wf.add(MP))})}});if(bt.length){const Be=[];bt.forEach(st=>{Be.push(`@${st.triggerName} has failed due to:\n`),st.errors.forEach(It=>Be.push(`- ${It}\n`))}),Nt.forEach(st=>st.destroy()),this.reportError(Be)}const Gt=new Map,br=new Map;d.forEach(Be=>{const st=Be.element;r.has(st)&&(br.set(st,st),this._beforeAnimationBuild(Be.player.namespaceId,Be.instruction,Gt))}),o.forEach(Be=>{const st=Be.element;this._getPreviousPlayers(st,!1,Be.namespaceId,Be.triggerName,null).forEach(zt=>{Ls(Gt,st,[]).push(zt),zt.destroy()})});const Us=re.filter(Be=>b2(Be,y,_)),Zo=new Map;_2(Zo,this.driver,qe,_,Ic).forEach(Be=>{b2(Be,y,_)&&Us.push(Be)});const g0=new Map;R.forEach((Be,st)=>{_2(g0,this.driver,new Set(Be),y,"!")}),Us.forEach(Be=>{const st=Zo.get(Be),It=g0.get(Be);Zo.set(Be,Object.assign(Object.assign({},st),It))});const zf=[],$2=[],G2={};d.forEach(Be=>{const{element:st,player:It,instruction:zt}=Be;if(r.has(st)){if(C.has(st))return It.onDestroy(()=>nu(st,zt.toStyles)),It.disabled=!0,It.overrideTotalTime(zt.totalTime),void o.push(It);let $r=G2;if(br.size>1){let Bs=st;const dd=[];for(;Bs=Bs.parentNode;){const nr=br.get(Bs);if(nr){$r=nr;break}dd.push(Bs)}dd.forEach(nr=>br.set(nr,$r))}const ru=this._buildAnimation(It.namespaceId,zt,Gt,u,g0,Zo);if(It.setRealPlayer(ru),$r===G2)zf.push(It);else{const Bs=this.playersByElement.get($r);Bs&&Bs.length&&(It.parentPlayer=cd(Bs)),o.push(It)}}else Hf(st,zt.fromStyles),It.onDestroy(()=>nu(st,zt.toStyles)),$2.push(It),C.has(st)&&o.push(It)}),$2.forEach(Be=>{const st=u.get(Be.element);if(st&&st.length){const It=cd(st);Be.setRealPlayer(It)}}),o.forEach(Be=>{Be.parentPlayer?Be.syncPlayerEvents(Be.parentPlayer):Be.destroy()});for(let Be=0;Be<re.length;Be++){const st=re[Be],It=st[ho];if(gy(st,YD),It&&It.hasAnimation)continue;let zt=[];if(f.size){let ru=f.get(st);ru&&ru.length&&zt.push(...ru);let Bs=this.driver.query(st,dP,!0);for(let dd=0;dd<Bs.length;dd++){let nr=f.get(Bs[dd]);nr&&nr.length&&zt.push(...nr)}}const $r=zt.filter(ru=>!ru.destroyed);$r.length?M3(this,st,$r):this.processLeaveNode(st)}return re.length=0,zf.forEach(Be=>{this.players.push(Be),Be.onDone(()=>{Be.destroy();const st=this.players.indexOf(Be);this.players.splice(st,1)}),Be.play()}),zf}elementContainsData(e,t){let r=!1;const o=t[ho];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==p0;f.forEach(_=>{_.queued||!y&&_.triggerName!=o||d.push(_)})}}return(r||o)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||o&&o!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const _=y.element,C=_!==u,D=Ls(r,_,[]);this._getPreviousPlayers(_,C,d,f,t.toState).forEach(R=>{const j=R.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),R.destroy(),D.push(R)})}Hf(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,d){const f=t.triggerName,y=t.element,_=[],C=new Set,D=new Set,M=t.timelines.map(j=>{const K=j.element;C.add(K);const re=K[ho];if(re&&re.removedBeforeQueried)return new fy(j.duration,j.delay);const Ae=K!==y,qe=function(n){const e=[];return E2(n,e),e}((r.get(K)||C3).map(Gt=>Gt.getRealPlayer())).filter(Gt=>!!Gt.element&&Gt.element===K),Le=u.get(K),Et=d.get(K),Nt=qV(0,this._normalizer,0,j.keyframes,Le,Et),bt=this._buildPlayer(j,Nt,qe);if(j.subTimeline&&o&&D.add(K),Ae){const Gt=new TP(e,f,K);Gt.setRealPlayer(bt),_.push(Gt)}return bt});_.forEach(j=>{Ls(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,j.element,j))}),C.forEach(j=>fo(j,XV));const R=cd(M);return R.onDestroy(()=>{C.forEach(j=>gy(j,XV)),nu(y,t.toStyles)}),D.forEach(j=>{Ls(o,j,[]).push(R)}),R}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new fy(e.duration,e.delay)}}class TP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new fy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>eP(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ls(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cA(n){return n&&1===n.nodeType}function y2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _2(n,e,t,r,o){const u=[];t.forEach(y=>u.push(y2(y)));const d=[];r.forEach((y,_)=>{const C={};y.forEach(D=>{const M=C[D]=e.computeStyle(_,D,o);(!M||0==M.length)&&(_[ho]=I3,d.push(_))}),n.set(_,C)});let f=0;return t.forEach(y=>y2(y,u[f++])),d}function v2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const o=new Set(e),u=new Map;function d(f){if(!f)return 1;let y=u.get(f);if(y)return y;const _=f.parentNode;return y=t.has(_)?_:o.has(_)?1:d(_),u.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}const lA="$$classes";function fo(n,e){if(n.classList)n.classList.add(e);else{let t=n[lA];t||(t=n[lA]={}),t[e]=!0}}function gy(n,e){if(n.classList)n.classList.remove(e);else{let t=n[lA];t&&delete t[e]}}function M3(n,e,t){cd(t).onDone(()=>n.processLeaveNode(e))}function E2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof GV?E2(r.players,e):e.push(r)}}function b2(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class dA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new D3(e,t,r),this._timelineEngine=new v3(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const d=e+"-"+o;let f=this._triggerCache[d];if(!f){const y=[],_=mP(this._driver,u,y);if(y.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);f=function(n,e,t){return new m3(n,e,t)}(o,_,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,o,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,d]=zV(r);this._timelineEngine.command(u,t,d,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[d,f]=zV(r);return this._timelineEngine.listen(d,t,f,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function w2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=DP(e[0]),e.length>1&&(r=DP(e[e.length-1]))):e&&(t=DP(e)),t||r?new P3(n,t,r):null}let P3=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nu(this._element,this._initialStyles),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hf(this._element,this._endStyles),this._endStyles=null),nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DP(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];O3(o)&&(e=e||{},e[o]=n[o])}return e}function O3(n){return"display"===n||"position"===n}const C2="animation",I2="animationend";class L3{constructor(e,t,r,o,u,d,f){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=u,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function(n,e){const t=SP(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),hA(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),A2(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){T2(this._element,this._name,"paused")}resume(){T2(this._element,this._name,"running")}setPosition(e){const t=D2(this._element,this._name);this._position=e*this._duration,hA(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),A2(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=SP(n,"").split(","),o=AP(r,e);o>=0&&(r.splice(o,1),hA(n,"",r.join(",")))}(this._element,this._name))}}function T2(n,e,t){hA(n,"PlayState",t,D2(n,e))}function D2(n,e){const t=SP(n,"");return t.indexOf(",")>0?AP(t.split(","),e):AP([t],e)}function AP(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function A2(n,e,t){t?n.removeEventListener(I2,e):n.addEventListener(I2,e)}function hA(n,e,t,r){const o=C2+e;if(null!=r){const u=n.style[o];if(u.length){const d=u.split(",");d[r]=t,t=d.join(",")}}n.style[o]=t}function SP(n,e){return n.style[C2+e]||""}class S2{constructor(e,t,r,o,u,d,f,y){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=u,this._finalStyles=f,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=o+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new L3(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:gP(this.element,r))})}this.currentSnapshot=e}}class G3 extends fy{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=YV(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class M2{constructor(){this._count=0}validateStyleProperty(e){return sP(e)}matchesElement(e,t){return oP(e,t)}containsElement(e,t){return aP(e,t)}query(e,t,r){return uP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>YV(f));let o=`@keyframes ${t} {\n`,u="";r.forEach(f=>{u=" ";const y=parseFloat(f.offset);o+=`${u}${100*y}% {\n`,u+=" ",Object.keys(f).forEach(_=>{const C=f[_];switch(_){case"offset":return;case"easing":return void(C&&(o+=`${u}animation-timing-function: ${C};\n`));default:return void(o+=`${u}${_}: ${C};\n`)}}),o+=`${u}}\n`}),o+="}\n";const d=document.createElement("style");return d.textContent=o,d}animate(e,t,r,o,u,d=[],f){const y=d.filter(re=>re instanceof S2),_={};i2(r,o)&&y.forEach(re=>{let Ae=re.currentSnapshot;Object.keys(Ae).forEach(qe=>_[qe]=Ae[qe])});const C=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=s2(e,t,_));if(0==r)return new G3(e,C);const D="gen_css_kf_"+this._count++,M=this.buildKeyframeElement(e,D,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(M);const j=w2(e,t),K=new S2(e,t,D,r,o,u,C,j);return K.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(M)),K}}class R2{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:gP(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class K3{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(P2().toString()),this._cssKeyframesDriver=new M2}validateStyleProperty(e){return sP(e)}matchesElement(e,t){return oP(e,t)}containsElement(e,t){return aP(e,t)}query(e,t,r){return uP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,u,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,u,d);const C={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(C.easing=u);const D={},M=d.filter(j=>j instanceof R2);i2(r,o)&&M.forEach(j=>{let K=j.currentSnapshot;Object.keys(K).forEach(re=>D[re]=K[re])});const R=w2(e,t=s2(e,t=t.map(j=>ld(j,!1)),D));return new R2(e,t,C,R)}}function P2(){return HV()&&Element.prototype.animate||{}}let Y3=(()=>{class n extends UV{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?BV(t):t;return O2(this._renderer,null,r,"register",[o]),new Q3(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.FYo),g.LFG(ve))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Q3 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new J3(this._id,e,t||{},this._renderer)}}class J3{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return O2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function O2(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const k2="@.disabled";let X3=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{d&&d.parentNode(u)&&d.removeChild(u.parentNode,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(u);return C||(C=new F2("",u,this.engine),this._rendererCache.set(u,C)),C}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=C=>{Array.isArray(C)?C.forEach(y):this.engine.registerTrigger(d,f,t,C.name,C)};return r.data.animation.forEach(y),new eG(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,f]=u;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.FYo),g.LFG(dA),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class F2{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==k2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class eG extends F2{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==k2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let rG=(()=>{class n extends dA{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ve),g.LFG(cP),g.LFG(bP))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const L2=new g.OlP("AnimationModuleType"),V2=[{provide:UV,useClass:Y3},{provide:bP,useFactory:function(){return new l3}},{provide:dA,useClass:rG},{provide:g.FYo,useFactory:function(n,e,t){return new X3(n,e,t)},deps:[ra,dA,g.R0b]}],U2=[{provide:cP,useFactory:function(){return"function"==typeof P2()?new K3:new M2}},{provide:L2,useValue:"BrowserAnimations"},...V2],B2=[{provide:cP,useClass:QV},{provide:L2,useValue:"NoopAnimations"},...V2];let aG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?B2:U2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:U2,imports:[$c]}),n})();var uG=k(497);const xP_firebase={projectId:"kathyca-e079a",appId:"1:846120632546:web:2b40de27ad1412f21d9ebb",storageBucket:"kathyca-e079a.appspot.com",locationId:"us-central",apiKey:"AIzaSyCR6Z_cyyrtWz2jhOPY9_X8JqGQq5MJS7A",authDomain:"kathyca-e079a.firebaseapp.com",messagingSenderId:"846120632546",measurementId:"G-RGTWYSEW0F"},xP_firebaseConfig={apiKey:"AIzaSyCR6Z_cyyrtWz2jhOPY9_X8JqGQq5MJS7A",authDomain:"kathyca-e079a.firebaseapp.com",projectId:"kathyca-e079a",storageBucket:"kathyca-e079a.appspot.com",messagingSenderId:"846120632546",appId:"1:846120632546:web:2b40de27ad1412f21d9ebb",measurementId:"G-RGTWYSEW0F"};let cG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[F$]}),n.\u0275inj=g.cJS({providers:[],imports:[[D$,$c,k$,aG,uG.hO.initializeApp(xP_firebaseConfig),ht(()=>Ds(xP_firebase)),xj(()=>Mj()),Yg(()=>AM())]]}),n})();(0,g.G48)(),ua().bootstrapModule(cG).catch(n=>console.error(n))},26:(ze,de,k)=>{"use strict";k.r(de),k.d(de,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>hd,_DEFAULT_ENTRY_NAME:()=>ke,_addComponent:()=>on,_addOrOverwriteComponent:()=>Qt,_apps:()=>Ht,_clearComponents:()=>Ft,_components:()=>Yt,_getProvider:()=>Tt,_registerComponent:()=>Yn,_removeServiceInstance:()=>Ut,deleteApp:()=>wr,getApp:()=>Ci,getApps:()=>zi,initializeApp:()=>bn,onLog:()=>Wi,registerVersion:()=>yn,setLogLevel:()=>po});var g=k(239),J=k(910),Z=k(422),oe=k(854),he=k(782);class pe{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function(Se){const ee=Se.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(Me)){const Dt=Me.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(Me=>Me).join(" ")}}const ye="@firebase/app",N=new Z.Yd("@firebase/app"),ke="[DEFAULT]",Wt={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,Yt=new Map;function on(Se,ee){try{Se.container.addComponent(ee)}catch(Me){N.debug(`Component ${ee.name} failed to register with FirebaseApp ${Se.name}`,Me)}}function Qt(Se,ee){Se.container.addOrOverwriteComponent(ee)}function Yn(Se){const ee=Se.name;if(Yt.has(ee))return N.debug(`There were multiple attempts to register component ${ee}.`),!1;Yt.set(ee,Se);for(const Me of Ht.values())on(Me,Se);return!0}function Tt(Se,ee){const Me=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),Se.container.getProvider(ee)}function Ut(Se,ee,Me=ke){Tt(Se,ee).clearInstance(Me)}function Ft(){Yt.clear()}const Gn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tc{constructor(ee,Me,Dt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const hd="9.18.0";function bn(Se,ee={}){let Me=Se;"object"!=typeof ee&&(ee={name:ee});const Dt=Object.assign({name:ke,automaticDataCollectionEnabled:!1},ee),At=Dt.name;if("string"!=typeof At||!At)throw Gn.create("bad-app-name",{appName:String(At)});if(Me||(Me=(0,oe.aH)()),!Me)throw Gn.create("no-options");const Ge=Ht.get(At);if(Ge){if((0,oe.vZ)(Me,Ge.options)&&(0,oe.vZ)(Dt,Ge.config))return Ge;throw Gn.create("duplicate-app",{appName:At})}const Pn=new J.H0(At);for(const O of Yt.values())Pn.addComponent(O);const L=new Tc(Me,Dt,Pn);return Ht.set(At,L),L}function Ci(Se=ke){const ee=Ht.get(Se);if(!ee&&Se===ke)return bn();if(!ee)throw Gn.create("no-app",{appName:Se});return ee}function zi(){return Array.from(Ht.values())}function wr(Se){return hs.apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(Se){const ee=Se.name;Ht.has(ee)&&(Ht.delete(ee),yield Promise.all(Se.container.getProviders().map(Me=>Me.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function yn(Se,ee,Me){var Dt;let At=null!==(Dt=Wt[Se])&&void 0!==Dt?Dt:Se;Me&&(At+=`-${Me}`);const Ge=At.match(/\s|\//),Pn=ee.match(/\s|\//);if(Ge||Pn){const L=[`Unable to register library "${At}" with version "${ee}":`];return Ge&&L.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Ge&&Pn&&L.push("and"),Pn&&L.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void N.warn(L.join(" "))}Yn(new J.wA(`${At}-version`,()=>({library:At,version:ee}),"VERSION"))}function Wi(Se,ee){if(null!==Se&&"function"!=typeof Se)throw Gn.create("invalid-log-argument");(0,Z.Am)(Se,ee)}function po(Se){(0,Z.Ub)(Se)}const Ii="firebase-heartbeat-store";let ai=null;function We(){return ai||(ai=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(Se,ee)=>{0===ee&&Se.createObjectStore(Ii)}}).catch(Se=>{throw Gn.create("idb-open",{originalErrorMessage:Se.message})})),ai}function Je(){return(Je=(0,g.Z)(function*(Se){try{return(yield We()).transaction(Ii).objectStore(Ii).get(fs(Se))}catch(ee){if(ee instanceof oe.ZR)N.warn(ee.message);else{const Me=Gn.create("idb-get",{originalErrorMessage:null==ee?void 0:ee.message});N.warn(Me.message)}}})).apply(this,arguments)}function Ze(Se,ee){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,g.Z)(function*(Se,ee){try{const Dt=(yield We()).transaction(Ii,"readwrite");return yield Dt.objectStore(Ii).put(ee,fs(Se)),Dt.done}catch(Me){if(Me instanceof oe.ZR)N.warn(Me.message);else{const Dt=Gn.create("idb-set",{originalErrorMessage:null==Me?void 0:Me.message});N.warn(Dt.message)}}})).apply(this,arguments)}function fs(Se){return`${Se.name}!${Se.options.appId}`}class Hr{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Ac(Me),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var ee=this;return(0,g.Z)(function*(){const Dt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Dc();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==At&&!ee._heartbeatsCache.heartbeats.some(Ge=>Ge.date===At))return ee._heartbeatsCache.heartbeats.push({date:At,agent:Dt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Ge=>{const Pn=new Date(Ge.date).valueOf();return Date.now()-Pn<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,g.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Me=Dc(),{heartbeatsToSend:Dt,unsentEntries:At}=function(Se,ee=1024){const Me=[];let Dt=Se.slice();for(const At of Se){const Ge=Me.find(Pn=>Pn.agent===At.agent);if(Ge){if(Ge.dates.push(At.date),Lt(Me)>ee){Ge.dates.pop();break}}else if(Me.push({agent:At.agent,dates:[At.date]}),Lt(Me)>ee){Me.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:Me,unsentEntries:Dt}}(ee._heartbeatsCache.heartbeats),Ge=(0,oe.L)(JSON.stringify({version:2,heartbeats:Dt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Me,At.length>0?(ee._heartbeatsCache.heartbeats=At,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Ge})()}}function Dc(){return(new Date).toISOString().substring(0,10)}class Ac{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,g.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function(Se){return Je.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Me=this;return(0,g.Z)(function*(){var Dt;if(yield Me._canUseIndexedDBPromise){const Ge=yield Me.read();return Ze(Me.app,{lastSentHeartbeatDate:null!==(Dt=ee.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ge.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Me=this;return(0,g.Z)(function*(){var Dt;if(yield Me._canUseIndexedDBPromise){const Ge=yield Me.read();return Ze(Me.app,{lastSentHeartbeatDate:null!==(Dt=ee.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ge.lastSentHeartbeatDate,heartbeats:[...Ge.heartbeats,...ee.heartbeats]})}})()}}function Lt(Se){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Se})).length}Yn(new J.wA("platform-logger",ee=>new pe(ee),"PRIVATE")),Yn(new J.wA("heartbeat",ee=>new Hr(ee),"PRIVATE")),yn(ye,"0.9.5",""),yn(ye,"0.9.5","esm2017"),yn("fire-js","")},910:(ze,de,k)=>{"use strict";k.d(de,{wA:()=>Z,H0:()=>ye});var g=k(239),J=k(854);class Z{constructor(N,F,G){this.name=N,this.instanceFactory=F,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const oe="[DEFAULT]";class he{constructor(N,F){this.name=N,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const F=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(F)){const G=new J.BH;if(this.instancesDeferred.set(F,G),this.isInitialized(F)||this.shouldAutoInitialize())try{const ne=this.getOrInitializeService({instanceIdentifier:F});ne&&G.resolve(ne)}catch(ne){}}return this.instancesDeferred.get(F).promise}getImmediate(N){var F;const G=this.normalizeInstanceIdentifier(null==N?void 0:N.identifier),ne=null!==(F=null==N?void 0:N.optional)&&void 0!==F&&F;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(ae){if(ne)return null;throw ae}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if("EAGER"===N.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:oe})}catch(F){}for(const[F,G]of this.instancesDeferred.entries()){const ne=this.normalizeInstanceIdentifier(F);try{const ae=this.getOrInitializeService({instanceIdentifier:ne});G.resolve(ae)}catch(ae){}}}}clearInstance(N=oe){this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}delete(){var N=this;return(0,g.Z)(function*(){const F=Array.from(N.instances.values());yield Promise.all([...F.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...F.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(N=oe){return this.instances.has(N)}getOptions(N=oe){return this.instancesOptions.get(N)||{}}initialize(N={}){const{options:F={}}=N,G=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ne=this.getOrInitializeService({instanceIdentifier:G,options:F});for(const[ae,be]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(ae)&&be.resolve(ne);return ne}onInit(N,F){var G;const ne=this.normalizeInstanceIdentifier(F),ae=null!==(G=this.onInitCallbacks.get(ne))&&void 0!==G?G:new Set;ae.add(N),this.onInitCallbacks.set(ne,ae);const be=this.instances.get(ne);return be&&N(be,ne),()=>{ae.delete(N)}}invokeOnInitCallbacks(N,F){const G=this.onInitCallbacks.get(F);if(G)for(const ne of G)try{ne(N,F)}catch(ae){}}getOrInitializeService({instanceIdentifier:N,options:F={}}){let G=this.instances.get(N);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(te=N,te===oe?void 0:te),options:F}),this.instances.set(N,G),this.instancesOptions.set(N,F),this.invokeOnInitCallbacks(G,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,G)}catch(ne){}var te;return G||null}normalizeInstanceIdentifier(N=oe){return this.component?this.component.multipleInstances?N:oe:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(N){this.name=N,this.providers=new Map}addComponent(N){const F=this.getProvider(N.name);if(F.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);F.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const F=new he(N,this);return this.providers.set(N,F),F}getProviders(){return Array.from(this.providers.values())}}},422:(ze,de,k)=>{"use strict";k.d(de,{in:()=>J,Yd:()=>ve,Ub:()=>ye,Am:()=>te});const g=[];var J=(()=>{return(N=J||(J={}))[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",J;var N})();const Z={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},oe=J.INFO,he={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},pe=(N,F,...G)=>{if(F<N.logLevel)return;const ne=(new Date).toISOString(),ae=he[F];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[ae](`[${ne}]  ${N.name}:`,...G)};class ve{constructor(F){this.name=F,this._logLevel=oe,this._logHandler=pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in J))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?Z[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...F),this._logHandler(this,J.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...F),this._logHandler(this,J.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,J.INFO,...F),this._logHandler(this,J.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,J.WARN,...F),this._logHandler(this,J.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...F),this._logHandler(this,J.ERROR,...F)}}function ye(N){g.forEach(F=>{F.setLogLevel(N)})}function te(N,F){for(const G of g){let ne=null;F&&F.level&&(ne=Z[F.level]),G.userLogHandler=null===N?null:(ae,be,...X)=>{const Xe=X.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch(xe){return null}}).filter(Ye=>Ye).join(" ");be>=(null!=ne?ne:ae.logLevel)&&N({level:J[be].toLowerCase(),message:Xe,args:X,type:ae.name})}}}},213:(ze,de,k)=>{"use strict";k.d(de,{Mq:()=>g.getApp,C6:()=>g.getApps,ZF:()=>g.initializeApp,KN:()=>g.registerVersion});var g=k(26);(0,g.registerVersion)("firebase","9.18.0","app")},782:(ze,de,k)=>{"use strict";k.d(de,{Lj:()=>Rn,X3:()=>we});var g=k(239);let Z,oe;const ve=new WeakMap,ye=new WeakMap,te=new WeakMap,N=new WeakMap,F=new WeakMap;let ae={get(ie,_e,Oe){if(ie instanceof IDBTransaction){if("done"===_e)return ye.get(ie);if("objectStoreNames"===_e)return ie.objectStoreNames||te.get(ie);if("store"===_e)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ye(ie[_e])},set:(ie,_e,Oe)=>(ie[_e]=Oe,!0),has:(ie,_e)=>ie instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ie};function Xe(ie){return"function"==typeof ie?function(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(ie)?function(..._e){return ie.apply(xe(this),_e),Ye(ve.get(this))}:function(..._e){return Ye(ie.apply(xe(this),_e))}:function(_e,...Oe){const wt=ie.call(xe(this),_e,...Oe);return te.set(wt,_e.sort?_e.sort():[_e]),Ye(wt)}}(ie):(ie instanceof IDBTransaction&&function(ie){if(ye.has(ie))return;const _e=new Promise((Oe,wt)=>{const Qe=()=>{ie.removeEventListener("complete",dt),ie.removeEventListener("error",Ee),ie.removeEventListener("abort",Ee)},dt=()=>{Oe(),Qe()},Ee=()=>{wt(ie.error||new DOMException("AbortError","AbortError")),Qe()};ie.addEventListener("complete",dt),ie.addEventListener("error",Ee),ie.addEventListener("abort",Ee)});ye.set(ie,_e)}(ie),((ie,_e)=>_e.some(Oe=>ie instanceof Oe))(ie,Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(ie,ae):ie)}function Ye(ie){if(ie instanceof IDBRequest)return function(ie){const _e=new Promise((Oe,wt)=>{const Qe=()=>{ie.removeEventListener("success",dt),ie.removeEventListener("error",Ee)},dt=()=>{Oe(Ye(ie.result)),Qe()},Ee=()=>{wt(ie.error),Qe()};ie.addEventListener("success",dt),ie.addEventListener("error",Ee)});return _e.then(Oe=>{Oe instanceof IDBCursor&&ve.set(Oe,ie)}).catch(()=>{}),F.set(_e,ie),_e}(ie);if(N.has(ie))return N.get(ie);const _e=Xe(ie);return _e!==ie&&(N.set(ie,_e),F.set(_e,ie)),_e}const xe=ie=>F.get(ie);function we(ie,_e,{blocked:Oe,upgrade:wt,blocking:Qe,terminated:dt}={}){const Ee=indexedDB.open(ie,_e),si=Ye(Ee);return wt&&Ee.addEventListener("upgradeneeded",Ve=>{wt(Ye(Ee.result),Ve.oldVersion,Ve.newVersion,Ye(Ee.transaction))}),Oe&&Ee.addEventListener("blocked",()=>Oe()),si.then(Ve=>{dt&&Ve.addEventListener("close",()=>dt()),Qe&&Ve.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),si}function Rn(ie,{blocked:_e}={}){const Oe=indexedDB.deleteDatabase(ie);return _e&&Oe.addEventListener("blocked",()=>_e()),Ye(Oe).then(()=>{})}const xr=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],Gr=new Map;function $n(ie,_e){if(!(ie instanceof IDBDatabase)||_e in ie||"string"!=typeof _e)return;if(Gr.get(_e))return Gr.get(_e);const Oe=_e.replace(/FromIndex$/,""),wt=_e!==Oe,Qe=sn.includes(Oe);if(!(Oe in(wt?IDBIndex:IDBObjectStore).prototype)||!Qe&&!xr.includes(Oe))return;const dt=function(){var Ee=(0,g.Z)(function*(si,...Ve){const et=this.transaction(si,Qe?"readwrite":"readonly");let ke=et.store;return wt&&(ke=ke.index(Ve.shift())),(yield Promise.all([ke[Oe](...Ve),Qe&&et.done]))[0]});return function(Ve){return Ee.apply(this,arguments)}}();return Gr.set(_e,dt),dt}var ie;ae=W2(z2({},ie=ae),{get:(_e,Oe,wt)=>$n(_e,Oe)||ie.get(_e,Oe,wt),has:(_e,Oe)=>!!$n(_e,Oe)||ie.has(_e,Oe)})},239:(ze,de,k)=>{"use strict";function g(Z,oe,he,pe,ve,ye,te){try{var N=Z[ye](te),F=N.value}catch(G){return void he(G)}N.done?oe(F):Promise.resolve(F).then(pe,ve)}function J(Z){return function(){var oe=this,he=arguments;return new Promise(function(pe,ve){var ye=Z.apply(oe,he);function te(F){g(ye,pe,ve,te,N,"next",F)}function N(F){g(ye,pe,ve,te,N,"throw",F)}te(void 0)})}}k.d(de,{Z:()=>J})}},ze=>{ze(ze.s=411)}]);