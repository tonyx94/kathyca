{"ast":null,"code":"import _asyncToGenerator from \"/Users/Tony/Desktop/X/Development/Catalogue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nexport var StorageKey = /*#__PURE__*/(() => {\n  (function (StorageKey) {\n    StorageKey[\"Cart\"] = \"cart\";\n  })(StorageKey || (StorageKey = {}));\n\n  return StorageKey;\n})();\nexport var StorageError = /*#__PURE__*/(() => {\n  (function (StorageError) {\n    StorageError[\"NullData\"] = \"Null data\";\n  })(StorageError || (StorageError = {}));\n\n  return StorageError;\n})();\nexport let StorageService = /*#__PURE__*/(() => {\n  class StorageService {\n    constructor() {\n      this.storageValueList = {};\n    }\n\n    get storage() {\n      return localStorage;\n    }\n\n    set(preference, value) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.storage.setItem(preference, JSON.stringify(value));\n        _this.storageValueList[preference] = value;\n        return value;\n      })();\n    }\n\n    get(preference, returnNull = false) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        let value = _this2.storageValueList[preference];\n        if (value) return value;\n        const data = yield _this2.storage.getItem(preference);\n        const parseData = JSON.parse(data);\n        if (!parseData) _this2.storageValueList[preference] = parseData;\n        return parseData;\n      })();\n    }\n\n    remove(preference) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        if (_this3.storage.removeItem) localStorage.removeItem(preference);\n        if (_this3.storage.remove) yield _this3.storage.remove(preference);\n        _this3.storageValueList[preference] = null;\n      })();\n    }\n\n    removeAll() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        yield Object.values(StorageKey).forEach(preference => {\n          if (_this4.storage.removeItem) localStorage.removeItem(preference);\n          if (_this4.storage.remove) _this4.storage.remove(preference);\n          _this4.storageValueList[preference] = null;\n        });\n      })();\n    }\n\n  }\n\n  StorageService.ɵfac = function StorageService_Factory(t) {\n    return new (t || StorageService)();\n  };\n\n  StorageService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StorageService,\n    factory: StorageService.ɵfac,\n    providedIn: 'root'\n  });\n  return StorageService;\n})();","map":null,"metadata":{},"sourceType":"module"}